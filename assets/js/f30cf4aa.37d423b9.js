"use strict";(self.webpackChunkmysite=self.webpackChunkmysite||[]).push([[3761],{28453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>o});var t=s(96540);const r={},i=t.createContext(r);function a(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),t.createElement(i.Provider,{value:n},e.children)}},66471:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>a,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"k8s/Ingress","title":"Ingress","description":"\u5b89\u88c5Ingress-nginx\u63a7\u5236\u5668","source":"@site/docs/k8s/Ingress.md","sourceDirName":"k8s","slug":"/k8s/Ingress","permalink":"/docs/k8s/Ingress","draft":false,"unlisted":false,"editUrl":"https://github.com/gavintan/notes/docs/k8s/Ingress.md","tags":[],"version":"current","frontMatter":{},"sidebar":"doc","previous":{"title":"\u7f51\u7edc\u4ea4\u6362\u673a","permalink":"/docs/\u7b14\u8bb0/\u7f51\u7edc\u4ea4\u6362\u673a"},"next":{"title":"LoadBalancer","permalink":"/docs/k8s/LoadBalancer"}}');var r=s(74848),i=s(28453);const a={},o=void 0,c={},l=[{value:"\u5b89\u88c5Ingress-nginx\u63a7\u5236\u5668",id:"\u5b89\u88c5ingress-nginx\u63a7\u5236\u5668",level:2},{value:"\u6dfb\u52a0Ingress",id:"\u6dfb\u52a0ingress",level:2}];function d(e){const n={code:"code",h2:"h2",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"\u5b89\u88c5ingress-nginx\u63a7\u5236\u5668",children:"\u5b89\u88c5Ingress-nginx\u63a7\u5236\u5668"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.1.3/deploy/static/provider/baremetal/deploy.yaml\n\n#\u8bbe\u7f6e\u9ed8\u8ba4ingress\u7c7b\nkubectl patch ingressclass nginx -p \'{"metadata": {"annotations":{"ingressclass.kubernetes.io/is-default-class":"true"}}}\'\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u6dfb\u52a0ingress",children:"\u6dfb\u52a0Ingress"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",metastring:"title=zabbix.yml",children:"kind: Ingress\napiVersion: networking.k8s.io/v1\nmetadata:\n  namespace: ops\nspec:\n  ingressClassName: nginx\n  rules:\n    - host: zabbix.172.16.7.14.nip.io\n      http:\n        paths:\n          - path: /\n            pathType: ImplementationSpecific\n            backend:\n              service:\n                name: zabbix-web\n                port:\n                  number: 8080\n"})}),"\n",(0,r.jsx)(n.p,{children:"ingress-nginx path\u88ab\u5e26\u8fc7 ingress\u914d\u7f6e\u6dfb\u52a0\u4e0b\u9762\u914d\u7f6e"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"annotations:\n    nginx.ingress.kubernetes.io/rewrite-target: /\n"})})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);