"use strict";(self.webpackChunkmysite=self.webpackChunkmysite||[]).push([[9893],{28453:(e,n,l)=>{l.d(n,{R:()=>c,x:()=>a});var s=l(96540);const i={},r=s.createContext(i);function c(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),s.createElement(r.Provider,{value:n},e.children)}},88752:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>o,frontMatter:()=>c,metadata:()=>s,toc:()=>t});const s=JSON.parse('{"id":"\u7b14\u8bb0/linux","title":"linux","description":"shell\u53d8\u91cf\u542b\u4e49","source":"@site/docs/\u7b14\u8bb0/linux.md","sourceDirName":"\u7b14\u8bb0","slug":"/\u7b14\u8bb0/linux","permalink":"/docs/\u7b14\u8bb0/linux","draft":false,"unlisted":false,"editUrl":"https://github.com/gavintan/notes/docs/\u7b14\u8bb0/linux.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"doc","next":{"title":"windows","permalink":"/docs/\u7b14\u8bb0/windows"}}');var i=l(74848),r=l(28453);const c={sidebar_position:1},a=void 0,d={},t=[{value:"shell\u53d8\u91cf\u542b\u4e49",id:"shell\u53d8\u91cf\u542b\u4e49",level:2},{value:"es\u4fee\u590d\u5206\u7247",id:"es\u4fee\u590d\u5206\u7247",level:2},{value:"haproxy\u505c\u7528\u542f\u7528server",id:"haproxy\u505c\u7528\u542f\u7528server",level:2},{value:"mysql\u5bfc\u51fa\u6587\u4ef6",id:"mysql\u5bfc\u51fa\u6587\u4ef6",level:2},{value:"xtrabackup\u5907\u4efd",id:"xtrabackup\u5907\u4efd",level:2},{value:"linux\u4e2d\u6587\u652f\u6301",id:"linux\u4e2d\u6587\u652f\u6301",level:2},{value:"logrotate\u65e5\u5fd7\u5207\u5272",id:"logrotate\u65e5\u5fd7\u5207\u5272",level:2},{value:"pm2",id:"pm2",level:2},{value:"windwos\u6587\u4ef6\u540d\u5230linux\u4e71\u7801",id:"windwos\u6587\u4ef6\u540d\u5230linux\u4e71\u7801",level:2},{value:"redis",id:"redis",level:2},{value:"kvm",id:"kvm",level:2},{value:"lvs",id:"lvs",level:2},{value:"nginx\u70ed\u5347\u7ea7\u7248\u672c",id:"nginx\u70ed\u5347\u7ea7\u7248\u672c",level:2},{value:"\u67e5\u770b\u8bc1\u4e66\u4fe1\u606f",id:"\u67e5\u770b\u8bc1\u4e66\u4fe1\u606f",level:2},{value:"kvm \u5f00\u542ftcp\u8fdc\u7a0b\u8fde\u63a5",id:"kvm-\u5f00\u542ftcp\u8fdc\u7a0b\u8fde\u63a5",level:2},{value:"vim\u8fdb\u5165\u5757\u7f16\u8f91\u6a21\u5f0f",id:"vim\u8fdb\u5165\u5757\u7f16\u8f91\u6a21\u5f0f",level:2},{value:"\u5b89\u88c5python",id:"\u5b89\u88c5python",level:2},{value:"\u67e5\u770b\u4f7f\u7528swap\u8fdb\u7a0b",id:"\u67e5\u770b\u4f7f\u7528swap\u8fdb\u7a0b",level:2},{value:"esxi \u5b89\u88c5MegaCli",id:"esxi-\u5b89\u88c5megacli",level:2},{value:"omsa",id:"omsa",level:2},{value:"mysql \u65e5\u5fd7\u4e3autc\u65f6\u95f4",id:"mysql-\u65e5\u5fd7\u4e3autc\u65f6\u95f4",level:2},{value:"kvm\u5d4c\u5957\u865a\u62df\u5316",id:"kvm\u5d4c\u5957\u865a\u62df\u5316",level:2},{value:"run django\u811a\u672c",id:"run-django\u811a\u672c",level:2},{value:"nginx\u9759\u6001\u8d44\u6e90\u914d\u7f6e",id:"nginx\u9759\u6001\u8d44\u6e90\u914d\u7f6e",level:2},{value:"zabbix \u5fae\u4fe1\u811a\u672c",id:"zabbix-\u5fae\u4fe1\u811a\u672c",level:2},{value:"jenkins pipeline",id:"jenkins-pipeline",level:2},{value:"\u7ec8\u7aef\u5b57\u4f53",id:"\u7ec8\u7aef\u5b57\u4f53",level:2},{value:"django\u5bfc\u5165\u9ed8\u8ba4\u6570\u636e",id:"django\u5bfc\u5165\u9ed8\u8ba4\u6570\u636e",level:2},{value:"mysql\u67e5\u770b\u6570\u636e\u5e93\u5360\u7528\u5927\u5c0f",id:"mysql\u67e5\u770b\u6570\u636e\u5e93\u5360\u7528\u5927\u5c0f",level:2},{value:"sendmail\u53d1\u9001\u90ae\u4ef6",id:"sendmail\u53d1\u9001\u90ae\u4ef6",level:2},{value:"\u751f\u6210\u968f\u673a\u5bc6\u7801",id:"\u751f\u6210\u968f\u673a\u5bc6\u7801",level:2},{value:"django\u91cd\u5efa\u8868",id:"django\u91cd\u5efa\u8868",level:2},{value:"tlbb",id:"tlbb",level:2},{value:"es\u4fee\u6539\u65e5\u5fd7\u6309\u5929\u6570\u4fdd\u7559",id:"es\u4fee\u6539\u65e5\u5fd7\u6309\u5929\u6570\u4fdd\u7559",level:2},{value:"\u6e05\u7406cache\u5360\u7528\u5927\u91cf\u5185\u5b58",id:"\u6e05\u7406cache\u5360\u7528\u5927\u91cf\u5185\u5b58",level:2},{value:"nfs",id:"nfs",level:2},{value:"systemd \u6a21\u677f",id:"systemd-\u6a21\u677f",level:2},{value:"git \u521d\u59cb\u5316\u63d0\u4ea4",id:"git-\u521d\u59cb\u5316\u63d0\u4ea4",level:2},{value:"zabbix\u542f\u52a8\u4e2d\u6587",id:"zabbix\u542f\u52a8\u4e2d\u6587",level:2},{value:"centos7\u5347\u7ea7\u5185\u6838",id:"centos7\u5347\u7ea7\u5185\u6838",level:2},{value:"smokeping",id:"smokeping",level:2},{value:"jdbc",id:"jdbc",level:2},{value:"yum\u6e90",id:"yum\u6e90",level:2},{value:"Linux\u751f\u6210\u968f\u673a\u6570",id:"linux\u751f\u6210\u968f\u673a\u6570",level:2},{value:"Python \u7b80\u5355http\u670d\u52a1\u4e0eftp\u670d\u52a1",id:"python-\u7b80\u5355http\u670d\u52a1\u4e0eftp\u670d\u52a1",level:2},{value:"\u7ea2\u5e3dcockpit web\u7ba1\u7406\u670d\u52a1\u5668",id:"\u7ea2\u5e3dcockpit-web\u7ba1\u7406\u670d\u52a1\u5668",level:2},{value:"linux \u8bbe\u7f6e\u65f6\u533a",id:"linux-\u8bbe\u7f6e\u65f6\u533a",level:2},{value:"weedfs mount",id:"weedfs-mount",level:2},{value:"\u83b7\u53d6Linux cpu\u6838\u6570",id:"\u83b7\u53d6linux-cpu\u6838\u6570",level:2},{value:"\u751f\u6210 100w \u8bb0\u5f55\u7684\u6570\u636e\u6587\u4ef6\u5bfc\u5165mysql",id:"\u751f\u6210-100w-\u8bb0\u5f55\u7684\u6570\u636e\u6587\u4ef6\u5bfc\u5165mysql",level:2},{value:"docker\u5b89\u88c5\u53ca\u76f8\u5173\u8bbe\u7f6e",id:"docker\u5b89\u88c5\u53ca\u76f8\u5173\u8bbe\u7f6e",level:2},{value:"keepalived\u914d\u7f6e\u53cc\u673a\u70ed\u5907",id:"keepalived\u914d\u7f6e\u53cc\u673a\u70ed\u5907",level:2},{value:"\u5185\u7f51\u7a7f\u900f",id:"\u5185\u7f51\u7a7f\u900f",level:2},{value:"\u751f\u6210mipsel\u67b6\u6784clash\u89e3\u51b3Illegal instruction\u9519\u8bef",id:"\u751f\u6210mipsel\u67b6\u6784clash\u89e3\u51b3illegal-instruction\u9519\u8bef",level:2},{value:"openwrt",id:"openwrt",level:2},{value:"\u547d\u4ee4\u884cjson\u683c\u5f0f\u5316\u8f93\u51fa",id:"\u547d\u4ee4\u884cjson\u683c\u5f0f\u5316\u8f93\u51fa",level:2},{value:"docker\u6dfb\u52a0\u4e2d\u6587\u652f\u6301",id:"docker\u6dfb\u52a0\u4e2d\u6587\u652f\u6301",level:2},{value:"git\u64a4\u9500commit\u5230\u672a\u63d0\u4ea4\u72b6\u6001",id:"git\u64a4\u9500commit\u5230\u672a\u63d0\u4ea4\u72b6\u6001",level:2},{value:"git\u4e0a\u4f20\u53ef\u6267\u884c\u6587\u4ef6",id:"git\u4e0a\u4f20\u53ef\u6267\u884c\u6587\u4ef6",level:2},{value:"python\u547d\u4ee4\u884c\u4e0d\u80fd\u4f7f\u7528\u65b9\u5411\u952e",id:"python\u547d\u4ee4\u884c\u4e0d\u80fd\u4f7f\u7528\u65b9\u5411\u952e",level:2},{value:"nginx\u914d\u7f6ewebsocket",id:"nginx\u914d\u7f6ewebsocket",level:2},{value:"\u5b89\u88c5twisted\u6a21\u5757",id:"\u5b89\u88c5twisted\u6a21\u5757",level:2},{value:"\u5220\u9664git\u4e0a\u6307\u5b9a\u76ee\u5f55",id:"\u5220\u9664git\u4e0a\u6307\u5b9a\u76ee\u5f55",level:2},{value:"\u8fdb\u5165\u76ee\u5f55\u81ea\u52a8\u8f7d\u5165 Python \u865a\u62df\u73af\u5883\u914d\u7f6e",id:"\u8fdb\u5165\u76ee\u5f55\u81ea\u52a8\u8f7d\u5165-python-\u865a\u62df\u73af\u5883\u914d\u7f6e",level:2},{value:"\u751f\u6210ssh\u5bc6\u94a5",id:"\u751f\u6210ssh\u5bc6\u94a5",level:2},{value:"tutum",id:"tutum",level:2},{value:"mongodb\u6570\u636e\u8fc1\u79fb",id:"mongodb\u6570\u636e\u8fc1\u79fb",level:2},{value:"percona-server-5.7 \u5b89\u88c5",id:"percona-server-57-\u5b89\u88c5",level:2},{value:"find\u4f7f\u7528",id:"find\u4f7f\u7528",level:2},{value:"zabbix\u6267\u884c\u8fdc\u7a0b\u547d\u4ee4",id:"zabbix\u6267\u884c\u8fdc\u7a0b\u547d\u4ee4",level:2},{value:"LVM\u5377\u7ec4",id:"lvm\u5377\u7ec4",level:2},{value:"vsftp \u51fa\u73b0\u62a5\u9519530 Login incorrect",id:"vsftp-\u51fa\u73b0\u62a5\u9519530-login-incorrect",level:2},{value:"yum\u5220\u9664\u91cd\u590d\u8f6f\u4ef6\u5305",id:"yum\u5220\u9664\u91cd\u590d\u8f6f\u4ef6\u5305",level:2},{value:"yum\u4e0b\u8f7drpm\u5305",id:"yum\u4e0b\u8f7drpm\u5305",level:2},{value:"linux scoket5\u4ee3\u7406\u8f6c\u6362http\u4ee3\u7406",id:"linux-scoket5\u4ee3\u7406\u8f6c\u6362http\u4ee3\u7406",level:2},{value:"linux \u8fde\u63a5vpn\uff08pptp\uff09",id:"linux-\u8fde\u63a5vpnpptp",level:2},{value:"nginx http\u5f3a\u5236\u8df3\u8f6chttps",id:"nginx-http\u5f3a\u5236\u8df3\u8f6chttps",level:2},{value:"shadowsocks\u5b89\u88c5",id:"shadowsocks\u5b89\u88c5",level:2},{value:"linux \u5927\u4e8e2TB\u78c1\u76d8\u521b\u5efa",id:"linux-\u5927\u4e8e2tb\u78c1\u76d8\u521b\u5efa",level:2},{value:"\u7f51\u7ad9\u538b\u529b\u6d4b\u8bd5",id:"\u7f51\u7ad9\u538b\u529b\u6d4b\u8bd5",level:2},{value:"vi \u53bb\u7a7a\u683c",id:"vi-\u53bb\u7a7a\u683c",level:2},{value:"\u67e5\u770b\u6587\u4ef6\u6743\u9650",id:"\u67e5\u770b\u6587\u4ef6\u6743\u9650",level:2},{value:"shell \u5b57\u7b26\u4e32\u53d8\u91cf\u503c\u7684\u66ff\u6362",id:"shell-\u5b57\u7b26\u4e32\u53d8\u91cf\u503c\u7684\u66ff\u6362",level:2},{value:"linux\u83b7\u53d6\u5916\u7f51ip",id:"linux\u83b7\u53d6\u5916\u7f51ip",level:2},{value:"locale \u7f16\u7801\u62a5\u9519",id:"locale-\u7f16\u7801\u62a5\u9519",level:2},{value:"Windows\u4e0b\u7f16\u8f91\u7684shell\u811a\u672c\u5728Linux\u65e0\u6cd5\u6267\u884c",id:"windows\u4e0b\u7f16\u8f91\u7684shell\u811a\u672c\u5728linux\u65e0\u6cd5\u6267\u884c",level:2},{value:"pip \u5b89\u88c5",id:"pip-\u5b89\u88c5",level:2},{value:"\u811a\u672c\u53d6\u5f97\u7f51\u7ad9\u72b6\u6001\u7801",id:"\u811a\u672c\u53d6\u5f97\u7f51\u7ad9\u72b6\u6001\u7801",level:2},{value:"\u67e5\u627e\u6307\u5b9a\u65e5\u671f\u6587\u4ef6",id:"\u67e5\u627e\u6307\u5b9a\u65e5\u671f\u6587\u4ef6",level:2},{value:"centos7 \u521b\u5efa\u81ea\u5b9a\u4e49\u670d\u52a1",id:"centos7-\u521b\u5efa\u81ea\u5b9a\u4e49\u670d\u52a1",level:2},{value:"screen  \u4fdd\u5b58\u65e5\u5fd7",id:"screen--\u4fdd\u5b58\u65e5\u5fd7",level:2},{value:"\u5185\u5b58\u7f13\u5b58",id:"\u5185\u5b58\u7f13\u5b58",level:2},{value:"git \u514d\u5bc6\u7801",id:"git-\u514d\u5bc6\u7801",level:2},{value:"linux l2tp \u5b89\u88c5\u811a\u672c",id:"linux-l2tp-\u5b89\u88c5\u811a\u672c",level:2},{value:"linux \u67e5\u627e",id:"linux-\u67e5\u627e",level:2},{value:"linux \u6d4b\u8bd5\u7f51\u901f",id:"linux-\u6d4b\u8bd5\u7f51\u901f",level:2},{value:"cobbler \u5b89\u88c5\u9519\u8bef",id:"cobbler-\u5b89\u88c5\u9519\u8bef",level:2},{value:"linux\u6587\u672c\u5904\u7406\u547d\u4ee4",id:"linux\u6587\u672c\u5904\u7406\u547d\u4ee4",level:2},{value:"\u5347\u7ea7php5.6",id:"\u5347\u7ea7php56",level:2},{value:"\u540e\u53f0\u4efb\u52a1",id:"\u540e\u53f0\u4efb\u52a1",level:2},{value:"saltstack\u5b89\u88c5",id:"saltstack\u5b89\u88c5",level:2},{value:"Ubuntu\u5b89\u88c5\u684c\u9762\u73af\u5883",id:"ubuntu\u5b89\u88c5\u684c\u9762\u73af\u5883",level:2},{value:"Ubuntu\u63d0\u793aW: mdadm: /etc/mdadm/mdadm.conf defines no arrays",id:"ubuntu\u63d0\u793aw-mdadm-etcmdadmmdadmconf-defines-no-arrays",level:2},{value:"MySQL 5.6 my.cnf \u53c2\u6570\u8bf4\u660e",id:"mysql-56-mycnf-\u53c2\u6570\u8bf4\u660e",level:2},{value:"MySQL 5.6\u7248\u672c\u9002\u5408\u57281GB\u5185\u5b58VPS\u4e0a\u7684my.cnf\u914d\u7f6e\u6587\u4ef6",id:"mysql-56\u7248\u672c\u9002\u5408\u57281gb\u5185\u5b58vps\u4e0a\u7684mycnf\u914d\u7f6e\u6587\u4ef6",level:2},{value:"Linux \u52a0\u5bc6\u811a\u672c",id:"linux-\u52a0\u5bc6\u811a\u672c",level:2},{value:"DELL\u670d\u52a1\u5668\u786c\u4ef6\u4fe1\u606f\u67e5\u770b",id:"dell\u670d\u52a1\u5668\u786c\u4ef6\u4fe1\u606f\u67e5\u770b",level:2},{value:"\u666e\u901a\u8d26\u53f7\u540e\u518d\u4f7f\u7528su -\u547d\u4ee4\u5207\u6362\u56deroot\u63d0\u793a&quot;incorrect password&quot;",id:"\u666e\u901a\u8d26\u53f7\u540e\u518d\u4f7f\u7528su--\u547d\u4ee4\u5207\u6362\u56deroot\u63d0\u793aincorrect-password",level:2},{value:"\u4e0d\u6253\u5370\u7a7a\u884c\u548c\u6ce8\u91ca",id:"\u4e0d\u6253\u5370\u7a7a\u884c\u548c\u6ce8\u91ca",level:2},{value:"\u865a\u62df\u673a\u5728\u7ebf\u6dfb\u52a0\u78c1\u76d8",id:"\u865a\u62df\u673a\u5728\u7ebf\u6dfb\u52a0\u78c1\u76d8",level:2},{value:"iptables\u901a\u8fc7lokkit\u5f00\u653e\u7aef\u53e3",id:"iptables\u901a\u8fc7lokkit\u5f00\u653e\u7aef\u53e3",level:2},{value:"\u67e5\u770blibstdc\u5e93\u5bf9\u5e94\u7248\u672c\u578b\u53f7",id:"\u67e5\u770blibstdc\u5e93\u5bf9\u5e94\u7248\u672c\u578b\u53f7",level:2},{value:"fork \u70b8\u5f39",id:"fork-\u70b8\u5f39",level:2},{value:"\u591a\u4e2a\u5916\u7f51ip\u6307\u5b9a\u51fa\u53e3ip",id:"\u591a\u4e2a\u5916\u7f51ip\u6307\u5b9a\u51fa\u53e3ip",level:2},{value:"ssh\u53cd\u5411\u4ee3\u7406",id:"ssh\u53cd\u5411\u4ee3\u7406",level:2},{value:"linux\u7aef\u53e3\u8f6c\u53d1",id:"linux\u7aef\u53e3\u8f6c\u53d1",level:2},{value:"\u4e71\u7801\u540d\u5b57\u6587\u4ef6\u901a\u8fc7inode\u4fee\u6539\u6587\u4ef6\u540d\u5b57",id:"\u4e71\u7801\u540d\u5b57\u6587\u4ef6\u901a\u8fc7inode\u4fee\u6539\u6587\u4ef6\u540d\u5b57",level:2},{value:"Shell\u53c2\u6570",id:"shell\u53c2\u6570",level:2},{value:"\u5347\u7ea7zabbix",id:"\u5347\u7ea7zabbix",level:2},{value:"Linux\u7f51\u9875\u7ba1\u7406\u5de5\u5177",id:"linux\u7f51\u9875\u7ba1\u7406\u5de5\u5177",level:2},{value:"centos6.5\u5347\u7ea7\u5230centos7",id:"centos65\u5347\u7ea7\u5230centos7",level:2},{value:"\u5b89\u88c5zabbix\u62a5\u9519\u89e3\u51b3\u65b9\u6cd5",id:"\u5b89\u88c5zabbix\u62a5\u9519\u89e3\u51b3\u65b9\u6cd5",level:2},{value:"\u8c03\u6574\u6839\u5206\u533a\u5927\u5c0f",id:"\u8c03\u6574\u6839\u5206\u533a\u5927\u5c0f",level:2},{value:"linux\u8fde\u63a5wpa\u52a0\u5bc6\u7684wifi",id:"linux\u8fde\u63a5wpa\u52a0\u5bc6\u7684wifi",level:2},{value:"\u7cfb\u7edf\u521d\u59cb\u5316\u811a\u672c",id:"\u7cfb\u7edf\u521d\u59cb\u5316\u811a\u672c",level:2},{value:"\u67e5\u770bcpu\u4fe1\u606f",id:"\u67e5\u770bcpu\u4fe1\u606f",level:2},{value:"svn\u8fc1\u79fb",id:"svn\u8fc1\u79fb",level:2},{value:"vim \u5feb\u6377\u952e",id:"vim-\u5feb\u6377\u952e",level:2},{value:"\u6302\u8f7dntfs\u5206\u533a",id:"\u6302\u8f7dntfs\u5206\u533a",level:2},{value:"\u4fee\u6539\u5355\u4e2a\u7528\u6237\u5b57\u7b26\u96c6",id:"\u4fee\u6539\u5355\u4e2a\u7528\u6237\u5b57\u7b26\u96c6",level:2},{value:"\u67e5\u770b\u670d\u52a1\u5668\u786c\u4ef6\u4fe1\u606f",id:"\u67e5\u770b\u670d\u52a1\u5668\u786c\u4ef6\u4fe1\u606f",level:2},{value:"zabbix\u76d1\u63a7exsi",id:"zabbix\u76d1\u63a7exsi",level:2},{value:"\u670d\u52a1\u5668\u7f51\u7edc\u6b7b\u6389",id:"\u670d\u52a1\u5668\u7f51\u7edc\u6b7b\u6389",level:2},{value:"\u67e5\u770b\u7f51\u7edc\u8fde\u63a5\u6570",id:"\u67e5\u770b\u7f51\u7edc\u8fde\u63a5\u6570",level:2},{value:"\u6279\u91cf\u4fee\u6539\u670d\u52a1\u5668\u5bc6\u7801",id:"\u6279\u91cf\u4fee\u6539\u670d\u52a1\u5668\u5bc6\u7801",level:2},{value:"\u914d\u7f6essh\u4fe1\u4efb\u5173\u7cfb",id:"\u914d\u7f6essh\u4fe1\u4efb\u5173\u7cfb",level:2},{value:"ansible\u4f7f\u7528",id:"ansible\u4f7f\u7528",level:2},{value:"\u67e5\u770b\u8bbe\u5907OID\u503c",id:"\u67e5\u770b\u8bbe\u5907oid\u503c",level:2},{value:"ssh\u767b\u5f55\u9519\u8bef\u6b21\u6570\u8f83\u591a\u7684IP\u7528iptables\u5c01\u6389\u811a\u672c",id:"ssh\u767b\u5f55\u9519\u8bef\u6b21\u6570\u8f83\u591a\u7684ip\u7528iptables\u5c01\u6389\u811a\u672c",level:2},{value:"iptables\u6dfb\u52a0\u591a\u4e2a\u7aef\u53e3\u811a\u672c",id:"iptables\u6dfb\u52a0\u591a\u4e2a\u7aef\u53e3\u811a\u672c",level:2},{value:"ssh\u8fde\u63a5\u53ea\u663e\u793a-bash-4.1#",id:"ssh\u8fde\u63a5\u53ea\u663e\u793a-bash-41",level:2},{value:"iptables \u8bbe\u7f6e\u9650\u5236mac\u5730\u5740",id:"iptables-\u8bbe\u7f6e\u9650\u5236mac\u5730\u5740",level:2},{value:"\u4e0d\u91cd\u542f\u5173\u95edselinux",id:"\u4e0d\u91cd\u542f\u5173\u95edselinux",level:2},{value:"\u6dfb\u52a0\u9ad8\u7ea7\u8def\u7531",id:"\u6dfb\u52a0\u9ad8\u7ea7\u8def\u7531",level:2},{value:"\u67e5\u8be2ip\u8def\u7531\u4fe1\u606f",id:"\u67e5\u8be2ip\u8def\u7531\u4fe1\u606f",level:2},{value:"\u4fee\u6539ssh\u57fa\u4e8e\u5bc6\u7801\u9a8c\u8bc1",id:"\u4fee\u6539ssh\u57fa\u4e8e\u5bc6\u7801\u9a8c\u8bc1",level:2},{value:"\u5b89\u88c5logwatch",id:"\u5b89\u88c5logwatch",level:2},{value:"You have new mail in /var/spool/mail/root \u89e3\u51b3\u65b9\u6cd5",id:"you-have-new-mail-in-varspoolmailroot-\u89e3\u51b3\u65b9\u6cd5",level:2},{value:"\u8bbe\u7f6e\u81ea\u52a8\u540c\u6b65\u65f6\u95f4",id:"\u8bbe\u7f6e\u81ea\u52a8\u540c\u6b65\u65f6\u95f4",level:2},{value:"\u5b89\u88c5sz rz\u547d\u4ee4",id:"\u5b89\u88c5sz-rz\u547d\u4ee4",level:2},{value:"yum\u65e0pptpd",id:"yum\u65e0pptpd",level:2},{value:"\u5347\u7ea7GCC\u540e\u4f7f\u7528filezilla\u62a5\u9519",id:"\u5347\u7ea7gcc\u540e\u4f7f\u7528filezilla\u62a5\u9519",level:2},{value:"linux \u5b89\u88c5DNS",id:"linux-\u5b89\u88c5dns",level:2},{value:"\u5b89\u88c5\u672c\u5730rpm\u5305",id:"\u5b89\u88c5\u672c\u5730rpm\u5305",level:2},{value:"ipsec\u5b89\u88c5",id:"ipsec\u5b89\u88c5",level:2},{value:"\u6d4b\u8bd5\u786c\u76d8\u8bfb\u5199\u901f\u5ea6",id:"\u6d4b\u8bd5\u786c\u76d8\u8bfb\u5199\u901f\u5ea6",level:2},{value:"\u9500\u6bc1\u78c1\u76d8\u6570\u636e",id:"\u9500\u6bc1\u78c1\u76d8\u6570\u636e",level:2},{value:"\u67e5\u770b\u7cfb\u7edf\u6240\u6709\u7528\u6237\u548c\u7ec4",id:"\u67e5\u770b\u7cfb\u7edf\u6240\u6709\u7528\u6237\u548c\u7ec4",level:2},{value:"\u67e5\u770b\u7528\u6237\u767b\u5f55\u65e5\u5fd7",id:"\u67e5\u770b\u7528\u6237\u767b\u5f55\u65e5\u5fd7",level:2},{value:"\u67e5\u770b\u7cfb\u7edf\u7248\u672c",id:"\u67e5\u770b\u7cfb\u7edf\u7248\u672c",level:2},{value:"\u8f93\u51fa\u6700\u4e3a\u5e38\u7528\u7684\u5341\u6761\u547d\u4ee4",id:"\u8f93\u51fa\u6700\u4e3a\u5e38\u7528\u7684\u5341\u6761\u547d\u4ee4",level:2},{value:"anaconda-ks.cfg",id:"anaconda-kscfg",level:2},{value:"linux \u5378\u8f7drpm",id:"linux-\u5378\u8f7drpm",level:2},{value:"\u5b89\u88c5GBD\u51fa\u73b0  cc1plus: warnings being treated as errors \u9519\u8bef\u89e3\u51b3\u65b9\u6cd5",id:"\u5b89\u88c5gbd\u51fa\u73b0--cc1plus-warnings-being-treated-as-errors-\u9519\u8bef\u89e3\u51b3\u65b9\u6cd5",level:2},{value:"\u6c92\u6709nslookup\u3001host\u3001dig\u547d\u4ee4",id:"\u6c92\u6709nslookuphostdig\u547d\u4ee4",level:2},{value:"\u914d\u7f6e\u591a\u4e2atomcat",id:"\u914d\u7f6e\u591a\u4e2atomcat",level:2},{value:"\u4fee\u6539FSTAB\u6587\u4ef6\u51fa\u9519\u7cfb\u7edf\u65e0\u6cd5\u542f\u52a8",id:"\u4fee\u6539fstab\u6587\u4ef6\u51fa\u9519\u7cfb\u7edf\u65e0\u6cd5\u542f\u52a8",level:2},{value:"\u5b89\u88c5SVN",id:"\u5b89\u88c5svn",level:2},{value:"svn\u542f\u52a8",id:"svn\u542f\u52a8",level:2},{value:"\u5b89\u88c5JAVA\u4fee\u6539profile",id:"\u5b89\u88c5java\u4fee\u6539profile",level:2},{value:"\u67e5\u770b\u5f53\u524d\u6b63\u5728\u5220\u9664\u7684\u8fdb\u7a0b",id:"\u67e5\u770b\u5f53\u524d\u6b63\u5728\u5220\u9664\u7684\u8fdb\u7a0b",level:2},{value:"\u67e5\u770b\u76ee\u5f55\u5927\u5c0f",id:"\u67e5\u770b\u76ee\u5f55\u5927\u5c0f",level:2},{value:"isolinux.cfg",id:"isolinuxcfg",level:2},{value:"\u6253\u5305\u76ee\u5f55\u811a\u672c",id:"\u6253\u5305\u76ee\u5f55\u811a\u672c",level:2},{value:"\u5173\u95edIPV6",id:"\u5173\u95edipv6",level:2},{value:"\u67e5\u770b\u540e\u53f0\u4efb\u52a1",id:"\u67e5\u770b\u540e\u53f0\u4efb\u52a1",level:2},{value:"\u4f7f\u7528\u4e8c\u8fdb\u5236\u6e90\u5b89\u88c5\u540e\u7ec8\u7aef\u65e0\u547d\u4ee4",id:"\u4f7f\u7528\u4e8c\u8fdb\u5236\u6e90\u5b89\u88c5\u540e\u7ec8\u7aef\u65e0\u547d\u4ee4",level:2},{value:"\u9632\u706b\u5899\u6253\u5f00\u7aef\u53e3",id:"\u9632\u706b\u5899\u6253\u5f00\u7aef\u53e3",level:2},{value:"\u67e5\u770b\u6253\u5f00\u7aef\u53e3",id:"\u67e5\u770b\u6253\u5f00\u7aef\u53e3",level:2},{value:"\u8bbe\u7f6e\u5206\u8fa8\u7387",id:"\u8bbe\u7f6e\u5206\u8fa8\u7387",level:2},{value:"\u8bbe\u7f6e\u5f00\u673a\u542f\u52a8",id:"\u8bbe\u7f6e\u5f00\u673a\u542f\u52a8",level:2},{value:"\u521b\u5efa\u6216\u4fee\u6539\u6587\u4ef6\u65f6\u95f4",id:"\u521b\u5efa\u6216\u4fee\u6539\u6587\u4ef6\u65f6\u95f4",level:2},{value:"linux\u65f6\u95f4\u65e5\u671f",id:"linux\u65f6\u95f4\u65e5\u671f",level:2},{value:"\u7981\u6b62\u6587\u4ef6\u4fee\u6539\u5220\u9664",id:"\u7981\u6b62\u6587\u4ef6\u4fee\u6539\u5220\u9664",level:2},{value:"\u7acb\u5373\u751f\u6548\u6587\u4ef6",id:"\u7acb\u5373\u751f\u6548\u6587\u4ef6",level:2},{value:"\u4fee\u6539\u5f00\u673a\u9ed8\u8ba4\u542f\u52a8\u65b9\u5f0f",id:"\u4fee\u6539\u5f00\u673a\u9ed8\u8ba4\u542f\u52a8\u65b9\u5f0f",level:2},{value:"scp\u5b89\u88c5",id:"scp\u5b89\u88c5",level:2},{value:"top\u67e5\u770b\u5b9e\u65f6\u8fdb\u7a0b\u4fe1\u606f",id:"top\u67e5\u770b\u5b9e\u65f6\u8fdb\u7a0b\u4fe1\u606f",level:2},{value:"\u67e5\u770blinux\u7cfb\u7edf\u4fe1\u606f",id:"\u67e5\u770blinux\u7cfb\u7edf\u4fe1\u606f",level:2},{value:"\u663e\u793a\u7528\u6237\u8fc7\u53bb\u547d\u7528\u7684\u547d\u4ee4",id:"\u663e\u793a\u7528\u6237\u8fc7\u53bb\u547d\u7528\u7684\u547d\u4ee4",level:2},{value:"\u67e5\u770b\u6587\u4ef6\u5185\u5bb9",id:"\u67e5\u770b\u6587\u4ef6\u5185\u5bb9",level:2},{value:"ftp",id:"ftp",level:2}];function h(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"shell\u53d8\u91cf\u542b\u4e49",children:"shell\u53d8\u91cf\u542b\u4e49"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"$# \u662f\u4f20\u7ed9\u811a\u672c\u7684\u53c2\u6570\u4e2a\u6570"}),"\n",(0,i.jsx)(n.li,{children:"$0 \u662f\u811a\u672c\u672c\u8eab\u7684\u540d\u5b57"}),"\n",(0,i.jsx)(n.li,{children:"$1 \u662f\u4f20\u9012\u7ed9\u8be5shell\u811a\u672c\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570"}),"\n",(0,i.jsx)(n.li,{children:"$2 \u662f\u4f20\u9012\u7ed9\u8be5shell\u811a\u672c\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570"}),"\n",(0,i.jsx)(n.li,{children:"$3 \u662f\u4f20\u9012\u7ed9\u8be5shell\u811a\u672c\u7684\u7b2c\u4e09\u4e2a\u53c2\u6570"}),"\n",(0,i.jsx)(n.li,{children:"$@ \u662f\u4f20\u7ed9\u811a\u672c\u7684\u6240\u6709\u53c2\u6570\u7684\u5217\u8868"}),"\n",(0,i.jsx)(n.li,{children:"$* \u662f\u4ee5\u4e00\u4e2a\u5355\u5b57\u7b26\u4e32\u663e\u793a\u6240\u6709\u5411\u811a\u672c\u4f20\u9012\u7684\u53c2\u6570\uff0c\u4e0e\u4f4d\u7f6e\u53d8\u91cf\u4e0d\u540c\uff0c\u53c2\u6570\u53ef\u8d85\u8fc79\u4e2a"}),"\n",(0,i.jsx)(n.li,{children:"$$ \u662f\u811a\u672c\u8fd0\u884c\u7684\u5f53\u524d\u8fdb\u7a0bID\u53f7"}),"\n",(0,i.jsx)(n.li,{children:"$? \u662f\u663e\u793a\u6700\u540e\u547d\u4ee4\u7684\u9000\u51fa\u72b6\u6001\uff0c0\u8868\u793a\u6ca1\u6709\u9519\u8bef\uff0c\u5176\u4ed6\u8868\u793a\u6709\u9519\u8bef"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"es\u4fee\u590d\u5206\u7247",children:"es\u4fee\u590d\u5206\u7247"}),"\n",(0,i.jsxs)(n.p,{children:["\u901a\u8fc7",(0,i.jsx)(n.code,{children:"explain api"}),"\u67e5\u770b\u8be6\u7ec6\u60c5\u51b5"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'[root@sh ~]# curl -s -XGET localhost:9200/_cluster/allocation/explain?pretty\n{\n  "index" : "index-net-20210902-3",\n  "shard" : 3,\n  "primary" : true,\n  "current_state" : "unassigned",\n  "unassigned_info" : {\n    "reason" : "ALLOCATION_FAILED",\n    "at" : "2021-09-28T03:10:58.099Z",\n    "failed_allocation_attempts" : 5,\n    "details" : """failed shard on node [LwWiAwmdQCiEibtiF7oqxQ]: failed recovery, failure RecoveryFailedException[[device_search_20201204][3]: Recovery failed on {reading_9.10.126.164_node2}{LwWiAwmdQCiEibtiF7oqxQ}{YVadGK2FSDKbR69l0Wu0xg}{9.10.126.164}{9.10.126.164:9300}{dil}{ml.machine_memory=539647844352, xpack.installed=true, ml.max_open_jobs=20}]; nested: IndexShardRecoveryException[failed recovery]; nested: ElasticsearchException[java.io.IOException: failed to read /data1/containers/1612339152002810932/es/data/nodes/0/indices/b0Ar9gFpQc6_oHhrdHYxGQ/7/_state/retention-leases-1518.st]; nested: IOException[failed to read /data1/containers/1612339152002810932/es/data/nodes/0/indices/b0Ar9gFpQc6_oHhrdHYxGQ/7/_state/retention-leases-1518.st]; nested: IOException[org.apache.lucene.index.CorruptIndexException: codec footer mismatch (file truncated?): actual footer=892219961 vs expected footer=-1071082520 (resource=BufferedChecksumIndexInput(SimpleFSIndexInput(path="/data1/containers/1612339152002810932/es/data/nodes/0/indices/b0Ar9gFpQc6_oHhrdHYxGQ/7/_state/retention-leases-1518.st")))]; nested: CorruptIndexException[codec footer mismatch (file truncated?): actual footer=892219961 vs expected footer=-1071082520 (resource=BufferedChecksumIndexInput(SimpleFSIndexInput(path="/data1/containers/1612339152002810932/es/data/nodes/0/indices/b0Ar9gFpQc6_oHhrdHYxGQ/7/_state/retention-leases-1518.st")))]; """,\n    "last_allocation_status" : "no"\n  }\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u65b9\u6848\u4e00\uff1a\u4fee\u590d\u5206\u7247"})}),"\n",(0,i.jsx)(n.p,{children:"retention-leases-1518.st \u8fd9\u4e2a\u6587\u4ef6\u7684\u635f\u574f\uff0c\u4e0e\u8fd9\u4e2a\u6587\u4ef6\u66fe\u7ecf\u6709\u4e00\u6bb5\u65f6\u95f4\u4e0d\u5728\u7ebf\u6709\u5173\u7cfb\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e0e\u673a\u5668\u91cd\u542f\u6709\u5173\u3002\u5982\u679c\u8981\u6062\u590d\u7684\u8bdd\uff0c\u5219\u9700\u8981\u624b\u52a8\u5220\u9664\u8fd9\u4e2a\u6587\u4ef6\uff0c\u7136\u540e\u91cd\u65b0\u5c1d\u8bd5\u5206\u914d\u5206\u7247\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'[root@sh ~]# curl -s -XPOST localhost:9200/_cluster/reroute?retry_failed=true\n{\n  "acknowledged": true,\n  "state": {\n    "cluster_uuid": "LOk2L8k5RsmCC7eg2y3h8A",\n    "version": 533752,\n    "state_uuid": "jVm_8aAIT6ug9NBJazjVig",\n    "master_node": "kHbBiclxR5-c-rsra2A5Jg",\n    "blocks": {\n\n    },\n    "nodes": {\n      "m5eloUNuTJak4xDRqf3FeA": {\n        "name": "1625799512002116132",\n        "ephemeral_id": "dqHmYahLSbuqvSkRXy2IPg",\n        "transport_address": "9.27.34.96:9300",\n        "attributes": {\n          "ml.machine_memory": "134587404288",\n          "rack": "cvm_33_330002",\n          "xpack.installed": "true",\n          "set": "330002",\n          "transform.node": "true",\n          "ip": "9.27.34.96",\n          "temperature": "hot",\n          "ml.max_open_jobs": "20",\n          "region": "33"\n        }\n      },\n    "security_tokens": {\n    }\n  }\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u65b9\u6848\u4e8c\uff1a\u5206\u914d\u9648\u8150\u7684\u5206\u7247"})}),"\n",(0,i.jsx)(n.p,{children:"\u5982\u679c\u5220\u9664\u635f\u574f\u7684.st\u6587\u4ef6\u65e0\u6cd5\u4f7f\u5206\u7247\u4e0a\u7ebf\uff0c\u5219\u9700\u8981\u8003\u8651\u4f7f\u7528reroute api\u5206\u914dstale primary\u3002\u6267\u884c\u8fd9\u4e2aapi\u4e4b\u524d\uff0c\u6211\u4eec\u9700\u8981\u5f97\u5230\u4e00\u4e9b\u4fe1\u606f\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u7d22\u5f15\u540d\u79f0\u548c\u5206\u7247ID\u53ef\u4ee5\u901a\u8fc7",(0,i.jsx)(n.code,{children:"explain api"}),"\u76f4\u89c2\u770b\u5230\uff1b"]}),"\n",(0,i.jsxs)(n.li,{children:["\u8282\u70b9\u540d\u79f0\u53ef\u4ee5\u901a\u8fc7",(0,i.jsx)(n.code,{children:"unassigned_info.details"}),"\u5f97\u5230\u3002"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://raw.githubusercontent.com/GavinTan/files/master/picgo/20220118162300.png",alt:""})}),"\n",(0,i.jsx)(n.p,{children:"\u6839\u636e\u8fd9\u4e9b\u4fe1\u606f\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u6267\u884creroute api\u4e86\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'[root@sh ~]# curl -s -H "Content-Type:application/json" -XPOST "localhost:9200/_cluster/reroute?pretty" -d \'\n{\n  "commands": [\n    {\n      "allocate_stale_primary": {\n      "index": "{\u7d22\u5f15\u540d\u79f0}",\n      "shard": "{\u5206\u7247ID}",\n      "node": "{\u8282\u70b9\u540d\u79f0}",\n      "accept_data_loss": true\n      }\n    }\n  ]\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u65b9\u6848\u4e09\uff1a\u4e22\u5f03\u5206\u7247"})}),"\n",(0,i.jsx)(n.p,{children:"\u5982\u679c\u5206\u914d\u9648\u8150\u7684\u5206\u7247\u4e5f\u65e0\u6cd5\u4f7f\u5206\u7247\u4e0a\u7ebf\uff0c\u4e3a\u4e86\u4e0d\u5f71\u54cd\u7d22\u5f15\u8bfb\u5199\u8bf7\u6c42\uff0c\u5c31\u53ea\u80fd\u4e22\u5f03\u6389\u635f\u574f\u7684\u5206\u7247\u4e86\uff0c\u8fd9\u662f\u6700\u7cdf\u7cd5\u7684\u60c5\u51b5\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'[root@sh ~]# curl -s -H "Content-Type:application/json" -XPOST "localhost:9200/_cluster/reroute?pretty" -d \'\n{\n    "commands" : [\n        {\n          "allocate_empty_primary" : {\n              "index" : "{\u7d22\u5f15\u540d\u79f0}", \n              "shard" : "{\u5206\u7247ID}",\n              "node" : "{\u8282\u70b9\u540d\u79f0}",\n              "accept_data_loss": true\n          }\n        }\n    ]\n}\'\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u4f7f\u7528Lucene CheckIndex \u4fee\u590d"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"-exorcise"}),"\u53ea\u80fd\u5728\u7d27\u6025\u60c5\u51b5\u4e0b\u4f7f\u7528\uff0c\u56e0\u4e3a\u5b83\u5c06\u5bfc\u81f4\u6587\u4ef6\uff08\u4e5f\u8bb8\u662f\u5f88\u591a\uff09\u88ab\u6c38\u4e45\u5730\u4ece\u7d22\u5f15\u4e2d\u5220\u9664\u3002"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u5728\u8fd0\u884c\u8fd9\u4e2a\u5de5\u5177\u4e4b\u524d\uff0c\u4e00\u5b9a\u8981\u5bf9\u4f60\u7684\u7d22\u5f15\u505a\u4e00\u4e2a\u5907\u4efd\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u4e0d\u8981\u5728\u4e00\u4e2a\u6b63\u5728\u88ab\u5199\u5165\u7684\u7d22\u5f15\u4e0a\u8fd0\u884c\u8fd9\u4e2a\u5de5\u5177\u3002"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"java -cp /usr/share/elasticsearch/lib/lucene-core-7.5.0.jar -ea:org.apache.lucene... org.apache.lucene.index.CheckIndex /work/elasticsearch/data/nodes/0/indices/uYrH-t7AR7e5mR2eCC7-6g/2/index -verbose -exorcise\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u7ed3\u679c\u8fd4\u56de ",(0,i.jsx)(n.code,{children:"No problems were detected with this index."})," \u8bdd\uff0c\u8bf4\u660e\u7d22\u5f15\u6ca1\u6709\u635f\u574f\u76f4\u63a5\u79fb\u9664\u76ee\u5f55\u4e0b\u7684\u6570\u636e\u635f\u574f\u6807\u7b7e corrupted_*\u6587\u4ef6\u7136\u540e\u91cd\u542fes"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"mv /work/elasticsearch/data/nodes/0/indices/uYrH-t7AR7e5mR2eCC7-6g/2/index/corrupted_H_wQlkOtQzKaz3dGkq_G-A /tmp\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u94fe\u63a5\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://cloud.tencent.com/developer/article/1884450",children:"https://cloud.tencent.com/developer/article/1884450"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"haproxy\u505c\u7528\u542f\u7528server",children:"haproxy\u505c\u7528\u542f\u7528server"}),"\n",(0,i.jsx)(n.p,{children:"\u8bbe\u7f6esocket admin\u6743\u9650"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-conf",metastring:"title=/etc/haproxy/haproxy.cfg",children:"stats socket /var/lib/haproxy/stats level admin\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u505c\u7528backend app\u4e0b\u7684server app1"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'echo "disable server app/app1" | socat stdio /var/lib/haproxy/stats\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u542f\u7528"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'echo "enable server app/app1" | socat stdio /var/lib/haproxy/stats\n'})}),"\n",(0,i.jsx)(n.h2,{id:"mysql\u5bfc\u51fa\u6587\u4ef6",children:"mysql\u5bfc\u51fa\u6587\u4ef6"}),"\n",(0,i.jsx)(n.p,{children:"msyql5.7 secure_file_priv \u7528\u4e8e\u9650\u5236\u6570\u636e\u5bfc\u5165\u5bfc\u51fa\u64cd\u4f5c\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"secure_file_priv \u4e3a NULL \u65f6\uff0c\u8868\u793a\u9650\u5236mysqld\u4e0d\u5141\u8bb8\u5bfc\u5165\u6216\u5bfc\u51fa\u3002"}),"\n",(0,i.jsx)(n.li,{children:"secure_file_priv \u4e3a /tmp \u65f6\uff0c\u8868\u793a\u9650\u5236mysqld\u53ea\u80fd\u5728/tmp\u76ee\u5f55\u4e2d\u6267\u884c\u5bfc\u5165\u5bfc\u51fa\uff0c\u5176\u4ed6\u76ee\u5f55\u4e0d\u80fd\u6267\u884c\u3002"}),"\n",(0,i.jsx)(n.li,{children:"secure_file_priv \u6ca1\u6709\u503c \u65f6\uff0c\u8868\u793a\u4e0d\u9650\u5236mysqld\u5728\u4efb\u610f\u76ee\u5f55\u7684\u5bfc\u5165\u5bfc\u51fa\u3002"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["\u56e0\u4e3a ",(0,i.jsx)(n.code,{children:"secure_file_priv"})," \u53c2\u6570\u662f\u53ea\u8bfb\u53c2\u6570\uff0c\u4e0d\u80fd\u4f7f\u7528set global\u547d\u4ee4\u4fee\u6539\u3002\u9700\u8981\u5728my.ini\u91cc\u52a0\u5165 ",(0,i.jsx)(n.code,{children:"secure_file_priv=''"})," \u3002"]}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770b\u5f53\u524d\u914d\u7f6e\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"show global variables like '%secure_file_priv%';\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5bfc\u51facsv\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"select * from user into outfile '/tmp/user.csv' fields terminated by ',' optionally enclosed by '\"' lines terminated by '\\r\\n';\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5bfc\u5165\u6570\u636e\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"load data local infile '/tmp/data.txt' replace into table mytable;\n"})}),"\n",(0,i.jsx)(n.h2,{id:"xtrabackup\u5907\u4efd",children:"xtrabackup\u5907\u4efd"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"yum install -y https://repo.percona.com/yum/percona-release-latest.noarch.rpm\nyum install -y percona-xtrabackup-21.x86_64\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u5907\u4efd\uff1a"})}),"\n",(0,i.jsx)(n.p,{children:"\u521b\u5efa\u5907\u4efd\u7528\u6237"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"create user 'bakuser'@'localhost' identified by '123456';\ngrant reload, lock tables, process, replication client on *.* to 'bakuser'@'localhost';\nflush privileges;\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5168\u91cf\u5907\u4efd"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"xtrabackup -u bakuser -p 123456 --backup --target-dir=/data/dbbak/base\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u538b\u7f29\u5907\u4efd"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"xtrabackup --backup --compress --compress-threads=4 --target-dir=/data/dbbak/base\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5907\u4efd\u6307\u5b9a\u6570\u636e\u5e93"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'xtrabackup -u bakuser -p 123456  --databases="db1 db2" --backup --target-dir=/data/dbbak/base\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u5907\u4efd\u6307\u5b9a\u8868"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'xtrabackup -u bakuser -p 123456  --databases="db1.tab1 db2.tab2" --backup --target-dir=/data/dbbak/base\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u6062\u590d\uff1a"})}),"\n",(0,i.jsx)(n.p,{children:"\u51c6\u5907\u5907\u4efd"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"#\u538b\u7f29\u8fc7\u7684\u9700\u8981\u5148\u89e3\u538b\u7f29\nxtrabackup --decompress --target-dir=/data/dbbak/base\n\nxtrabackup --prepare --target-dir=/data/dbbak/base\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u6062\u590d\u5907\u4efd --move-back \u79fb\u52a8\u4e0d\u4fdd\u7559\u5907\u4efd --copy-back \u590d\u5236\u4fdd\u7559\u5907\u4efd"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"#rsync -avrP /data/dbbak/base/ /var/lib/mysql/\nxtrabackup --copy-back --target-dir=/data/dbbak/base\nchown -R mysql:mysql /var/lib/mysql\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u589e\u91cf\u5907\u4efd\uff1a"})}),"\n",(0,i.jsx)(n.p,{children:"\u521b\u5efa\u5168\u91cf\u5907\u4efd"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"xtrabackup -u bakuser -p 123456 --backup --target-dir = /data/dbbak/base\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u521b\u5efa\u589e\u91cf\u5907\u4efd inc1"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"xtrabackup -u bakuser -p 123456 --backup --target-dir=/data/dbbak/inc1 --incremental-basedir=/data/dbbak/base\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u521b\u5efa\u589e\u91cf\u5907\u4efd inc2"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"xtrabackup -u bakuser -p 123456 --backup --target-dir=/data/dbbak/inc2 --incremental-basedir=/data/dbbak/inc1\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u6062\u590d\u589e\u91cf\u5907\u4efd\uff1a"})}),"\n",(0,i.jsx)(n.p,{children:"\u51c6\u5907\u5907\u4efd"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"#\u538b\u7f29\u8fc7\u7684\u9700\u8981\u5148\u89e3\u538b\u7f29\nxtrabackup --decompress --target-dir=/data/dbbak/base\n\nxtrabackup --prepare --apply-log-only --target-dir=/data/dbbak/base\nxtrabackup --prepare --apply-log-only --target-dir=/data/dbbak/base --incremental-dir=/data/dbbak/inc1\nxtrabackup --prepare --target-dir=/data/dbbak/base --incremental-dir=/data/dbbak/inc2\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u6062\u590d\u5907\u4efd"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"#rsync -avrP /data/dbbak/ /var/lib/mysql/\nxtrabackup --copy-back --target-dir=/data/dbbak/\nchown -R mysql:mysql /var/lib/mysql\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u6062\u590d\u5355\u4e2a\u8868\uff1a"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"yum install mysql-utilities -y\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"#\u4ece\u5907\u4efd\u4e2d\u8bfb\u53d6\u8868\u7ed3\u6784 \u590d\u5236\u521b\u8868\u8bed\u53e5\u5728\u6570\u636e\u5e93\u521b\u5efa\u8868\nmysqlfrm --diagnostic /data/dbbak/mydb/tb1.frm\n\n#\u4e22\u5f03\u8868\u7a7a\u95f4\nalter table tb1 discard tablespace;\n\n#\u4ece\u5907\u4efd\u4e2d\u62f7\u8d1dibd\u6587\u4ef6\ncp /data/dbbak/mydb/tb1.ibd /var/lib/mysql/mydb/\nchown mysql. /var/lib/mysql/mydb/tb1.ibd\n\n#\u8f7d\u5165\u8868\u7a7a\u95f4\nalter table tb1 import tablespace;\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u94fe\u63a5\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://www.jianshu.com/p/19b986a39b5e",children:"https://www.jianshu.com/p/19b986a39b5e"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://www.percona.com/doc/percona-xtrabackup/2.4/index.html#advanced-features",children:"https://www.percona.com/doc/percona-xtrabackup/2.4/index.html#advanced-features"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://www.percona.com/doc/percona-xtrabackup/2.3/howtos/recipes_ibkx_stream.html",children:"https://www.percona.com/doc/percona-xtrabackup/2.3/howtos/recipes_ibkx_stream.html"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"linux\u4e2d\u6587\u652f\u6301",children:"linux\u4e2d\u6587\u652f\u6301"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"centos"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"yum -y install fontconfig\n\n#\u67e5\u770b\u5df2\u5b89\u88c5\u7684\u4e2d\u6587\u5b57\u4f53\nfc-list :lang=zh\n\n#\u5b89\u88c5\u4e2d\u6587\u5b57\u4f53\nyum install wqy-zenhei-fonts wqy-microhei-fonts\n\n#\u5237\u65b0\u5b57\u4f53\u7f13\u5b58\nfc-cache -f -v\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"debian"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"#\u67e5\u770b\u5f53\u524d\u73af\u5883\u8bed\u8a00\nlocale\n\n#\u5b89\u88c5\u4e2d\u6587\u5b57\u4f53\napt-get install xfonts-wqy ttf-wqy-zenhei ttf-wqy-microhei\n\n#\u6dfb\u52a0\u4e2d\u6587\u73af\u5883\u652f\u6301\ndpkg-reconfigure locales\n\n#\u901a\u8fc7\u7a7a\u683c\u9009\u62e9 \u9009\u62e9\u540e\u786e\u8ba4\u6dfb\u52a0\n#zh_CN,UTF-8 UTF-8\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"ubuntu"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"# \u5b89\u88c5\u4e2d\u6587\u5b57\u4f53\napt install fonts-wqy-microhei ttf-wqy-zenhei\n\n#\u751f\u6210\u4e2d\u6587\u73af\u5883\nsudo locale-gen zh_CN.UTF-8\n\n\n\n#\u8f93\u5165\u6cd5\n\n#\u5b89\u88c5\u8f93\u5165\u6cd5\nsudo apt install fcitx fcitx-googlepinyin\n\n#\u751f\u6210dbus\u673a\u5668\u7801\ndbus-uuidgen > /var/lib/dbus/machine-id\n\n#\u914d\u7f6e\u73af\u5883\u53d8\u91cf\uff0c/etc/profile.d/fcitx.sh\n#!/bin/bash\nexport QT_IM_MODULE=fcitx\nexport GTK_IM_MODULE=fcitx\nexport XMODIFIERS=@im=fcitx\nexport DefaultIMModule=fcitx\nfcitx-autostart &>/dev/null\n\n\n#\u914d\u7f6e Fcitx \u7684\u8f93\u5165\u6cd5\u9009\u9879\nfcitx-config-gtk3\n\n\n#\u8fd0\u884cfcitx\nfcitx-autostart\n"})}),"\n",(0,i.jsx)(n.h2,{id:"logrotate\u65e5\u5fd7\u5207\u5272",children:"logrotate\u65e5\u5fd7\u5207\u5272"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"logrotate \u662f\u57fa\u4e8e cron \u6bcf\u5929\u8fd0\u884c"})}),"\n",(0,i.jsx)(n.p,{children:"\u914d\u7f6e\u6587\u4ef6\u793a\u4f8b\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-log",metastring:"title=/etc/logrotate.d/zabbix_agentd",children:"/var/log/zabbix/zabbix_agentd.log {\n    weekly\n    rotate 12\n    compress\n    delaycompress\n    missingok\n    notifempty\n    create 0664 zabbix zabbix\n}\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-log",metastring:"title=/etc/logrotate.d/httpd",children:"/var/log/cron\n/var/log/maillog\n/var/log/messages\n/var/log/secure\n/var/log/spooler\n{\n    missingok\n    sharedscripts\n    postrotate\n        /bin/kill -HUP `cat /var/run/syslogd.pid 2> /dev/null` 2> /dev/null || true\n    endscript\n}\n\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-log",metastring:"title=/etc/logrotate.d/httpd",children:"/var/log/httpd/*log {\n    missingok\n    notifempty\n    sharedscripts\n    delaycompress\n    postrotate\n        /bin/systemctl reload httpd.service > /dev/null 2>/dev/null || true\n    endscript\n}\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-log",metastring:"title=/etc/logrotate.d/tinyproxy",children:"/var/log/tinyproxy/tinyproxy.log {\n    daily\n    rotate 10\n    missingok\n    notifempty\n    compress\n    sharedscripts\n    postrotate\n        [ ! -f /var/run/tinyproxy/tinyproxy.pid ] || kill -HUP `cat /var/run/tinyproxy/tinyproxy.pid`\n    endscript\n}\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"monthly: \u65e5\u5fd7\u6587\u4ef6\u5c06\u6309\u6708\u8f6e\u5faa\u3002\u5176\u5b83\u53ef\u7528\u503c\u4e3a daily\uff0cweekly \u6216\u8005 yearly\u3002"}),"\n",(0,i.jsx)(n.li,{children:"rotate 5: \u4e00\u6b21\u5c06\u5b58\u50a8 5 \u4e2a\u5f52\u6863\u65e5\u5fd7\u3002\u5bf9\u4e8e\u7b2c\u516d\u4e2a\u5f52\u6863\uff0c\u65f6\u95f4\u6700\u4e45\u7684\u5f52\u6863\u5c06\u88ab\u5220\u9664\u3002"}),"\n",(0,i.jsx)(n.li,{children:"compress: \u5728\u8f6e\u5faa\u4efb\u52a1\u5b8c\u6210\u540e\uff0c\u5df2\u8f6e\u5faa\u7684\u5f52\u6863\u5c06\u4f7f\u7528 gzip \u8fdb\u884c\u538b\u7f29\u3002"}),"\n",(0,i.jsx)(n.li,{children:"delaycompress: \u603b\u662f\u4e0e compress \u9009\u9879\u4e00\u8d77\u7528\uff0cdelaycompress \u9009\u9879\u6307\u793a logrotate \u4e0d\u8981\u5c06\u6700\u8fd1\u7684\u5f52\u6863\u538b\u7f29\uff0c\u538b\u7f29 \u5c06\u5728\u4e0b\u4e00\u6b21\u8f6e\u5faa\u5468\u671f\u8fdb\u884c\u3002\u8fd9\u5728\u4f60\u6216\u4efb\u4f55\u8f6f\u4ef6\u4ecd\u7136\u9700\u8981\u8bfb\u53d6\u6700\u65b0\u5f52\u6863\u65f6\u5f88\u6709\u7528\u3002"}),"\n",(0,i.jsx)(n.li,{children:"missingok: \u5728\u65e5\u5fd7\u8f6e\u5faa\u671f\u95f4\uff0c\u4efb\u4f55\u9519\u8bef\u5c06\u88ab\u5ffd\u7565\uff0c\u4f8b\u5982 \u201c\u6587\u4ef6\u65e0\u6cd5\u627e\u5230\u201d \u4e4b\u7c7b\u7684\u9519\u8bef\u3002"}),"\n",(0,i.jsx)(n.li,{children:"notifempty: \u5982\u679c\u65e5\u5fd7\u6587\u4ef6\u4e3a\u7a7a\uff0c\u8f6e\u5faa\u4e0d\u4f1a\u8fdb\u884c\u3002"}),"\n",(0,i.jsx)(n.li,{children:"create 644 root root: \u4ee5\u6307\u5b9a\u7684\u6743\u9650\u521b\u5efa\u5168\u65b0\u7684\u65e5\u5fd7\u6587\u4ef6\uff0c\u540c\u65f6 logrotate \u4e5f\u4f1a\u91cd\u547d\u540d\u539f\u59cb\u65e5\u5fd7\u6587\u4ef6\u3002"}),"\n",(0,i.jsx)(n.li,{children:"postrotate/endscript: \u5728\u6240\u6709\u5176\u5b83\u6307\u4ee4\u5b8c\u6210\u540e\uff0cpostrotate \u548c endscript \u91cc\u9762\u6307\u5b9a\u7684\u547d\u4ee4\u5c06\u88ab\u6267\u884c\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0crsyslogd \u8fdb\u7a0b\u5c06\u7acb\u5373\u518d\u6b21\u8bfb\u53d6\u5176\u914d\u7f6e\u5e76\u7ee7\u7eed\u8fd0\u884c\u3002"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u5e38\u7528\u914d\u7f6e\u53c2\u6570\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"daily \uff1a\u6307\u5b9a\u8f6c\u50a8\u5468\u671f\u4e3a\u6bcf\u5929"}),"\n",(0,i.jsx)(n.li,{children:"weekly \uff1a\u6307\u5b9a\u8f6c\u50a8\u5468\u671f\u4e3a\u6bcf\u5468"}),"\n",(0,i.jsx)(n.li,{children:"monthly \uff1a\u6307\u5b9a\u8f6c\u50a8\u5468\u671f\u4e3a\u6bcf\u6708"}),"\n",(0,i.jsx)(n.li,{children:"rotate count \uff1a\u6307\u5b9a\u65e5\u5fd7\u6587\u4ef6\u5220\u9664\u4e4b\u524d\u8f6c\u50a8\u7684\u6b21\u6570\uff0c0 \u6307\u6ca1\u6709\u5907\u4efd\uff0c5 \u6307\u4fdd\u7559 5 \u4e2a\u5907\u4efd"}),"\n",(0,i.jsx)(n.li,{children:"tabooext [+] list\uff1a\u8ba9 logrotate \u4e0d\u8f6c\u50a8\u6307\u5b9a\u6269\u5c55\u540d\u7684\u6587\u4ef6\uff0c\u7f3a\u7701\u7684\u6269\u5c55\u540d\u662f\uff1a.rpm-orig, .rpmsave, v, \u548c\uff5e"}),"\n",(0,i.jsx)(n.li,{children:"missingok\uff1a\u5728\u65e5\u5fd7\u8f6e\u5faa\u671f\u95f4\uff0c\u4efb\u4f55\u9519\u8bef\u5c06\u88ab\u5ffd\u7565\uff0c\u4f8b\u5982 \u201c\u6587\u4ef6\u65e0\u6cd5\u627e\u5230\u201d \u4e4b\u7c7b\u7684\u9519\u8bef\u3002"}),"\n",(0,i.jsx)(n.li,{children:"size size\uff1a\u5f53\u65e5\u5fd7\u6587\u4ef6\u5230\u8fbe\u6307\u5b9a\u7684\u5927\u5c0f\u65f6\u624d\u8f6c\u50a8\uff0cbytes (\u7f3a\u7701) \u53ca KB (sizek) \u6216 MB (sizem)"}),"\n",(0,i.jsx)(n.li,{children:"compress\uff1a \u901a\u8fc7 gzip \u538b\u7f29\u8f6c\u50a8\u4ee5\u540e\u7684\u65e5\u5fd7"}),"\n",(0,i.jsx)(n.li,{children:"nocompress\uff1a \u4e0d\u538b\u7f29"}),"\n",(0,i.jsx)(n.li,{children:"copytruncate\uff1a\u7528\u4e8e\u8fd8\u5728\u6253\u5f00\u4e2d\u7684\u65e5\u5fd7\u6587\u4ef6\uff0c\u628a\u5f53\u524d\u65e5\u5fd7\u5907\u4efd\u5e76\u622a\u65ad"}),"\n",(0,i.jsx)(n.li,{children:"nocopytruncate\uff1a \u5907\u4efd\u65e5\u5fd7\u6587\u4ef6\u4f46\u662f\u4e0d\u622a\u65ad"}),"\n",(0,i.jsx)(n.li,{children:"create mode owner group \uff1a \u8f6c\u50a8\u6587\u4ef6\uff0c\u4f7f\u7528\u6307\u5b9a\u7684\u6587\u4ef6\u6a21\u5f0f\u521b\u5efa\u65b0\u7684\u65e5\u5fd7\u6587\u4ef6"}),"\n",(0,i.jsx)(n.li,{children:"nocreate\uff1a \u4e0d\u5efa\u7acb\u65b0\u7684\u65e5\u5fd7\u6587\u4ef6"}),"\n",(0,i.jsx)(n.li,{children:"delaycompress\uff1a \u548c compress \u4e00\u8d77\u4f7f\u7528\u65f6\uff0c\u8f6c\u50a8\u7684\u65e5\u5fd7\u6587\u4ef6\u5230\u4e0b\u4e00\u6b21\u8f6c\u50a8\u65f6\u624d\u538b\u7f29"}),"\n",(0,i.jsx)(n.li,{children:"nodelaycompress\uff1a \u8986\u76d6 delaycompress \u9009\u9879\uff0c\u8f6c\u50a8\u540c\u65f6\u538b\u7f29"}),"\n",(0,i.jsx)(n.li,{children:"errors address \uff1a \u4e13\u50a8\u65f6\u7684\u9519\u8bef\u4fe1\u606f\u53d1\u9001\u5230\u6307\u5b9a\u7684 Email \u5730\u5740"}),"\n",(0,i.jsx)(n.li,{children:"ifempty \uff1a\u5373\u4f7f\u662f\u7a7a\u6587\u4ef6\u4e5f\u8f6c\u50a8\uff0c\u8fd9\u4e2a\u662f logrotate \u7684\u7f3a\u7701\u9009\u9879"}),"\n",(0,i.jsx)(n.li,{children:"notifempty \uff1a\u5982\u679c\u662f\u7a7a\u6587\u4ef6\u7684\u8bdd\uff0c\u4e0d\u8f6c\u50a8"}),"\n",(0,i.jsx)(n.li,{children:"mail address \uff1a \u628a\u8f6c\u50a8\u7684\u65e5\u5fd7\u6587\u4ef6\u53d1\u9001\u5230\u6307\u5b9a\u7684 E-mail \u5730\u5740"}),"\n",(0,i.jsx)(n.li,{children:"nomail \uff1a \u8f6c\u50a8\u65f6\u4e0d\u53d1\u9001\u65e5\u5fd7\u6587\u4ef6"}),"\n",(0,i.jsx)(n.li,{children:"olddir directory\uff1a\u50a8\u540e\u7684\u65e5\u5fd7\u6587\u4ef6\u653e\u5165\u6307\u5b9a\u7684\u76ee\u5f55\uff0c\u5fc5\u987b\u548c\u5f53\u524d\u65e5\u5fd7\u6587\u4ef6\u5728\u540c\u4e00\u4e2a\u6587\u4ef6\u7cfb\u7edf"}),"\n",(0,i.jsx)(n.li,{children:"noolddir\uff1a \u8f6c\u50a8\u540e\u7684\u65e5\u5fd7\u6587\u4ef6\u548c\u5f53\u524d\u65e5\u5fd7\u6587\u4ef6\u653e\u5728\u540c\u4e00\u4e2a\u76ee\u5f55\u4e0b"}),"\n",(0,i.jsx)(n.li,{children:"prerotate/endscript\uff1a \u5728\u8f6c\u50a8\u4ee5\u524d\u9700\u8981\u6267\u884c\u7684\u547d\u4ee4\u53ef\u4ee5\u653e\u5165\u8fd9\u4e2a\u5bf9\uff0c\u8fd9\u4e24\u4e2a\u5173\u952e\u5b57\u5fc5\u987b\u5355\u72ec\u6210\u884c"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"pm2",children:"pm2"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"fork\u6a21\u5f0f"}),"\uff1a\u5355\u5b9e\u4f8b\u591a\u8fdb\u7a0b\u4e0d\u652f\u6301\u7aef\u53e3\u590d\u7528\u3002\u652f\u6301\u914d\u7f6einterpreter\u4f7f\u7528pm2\u8fd0\u884cjs\u4e4b\u5916\u7684\u8bed\u8a00\uff0c\u4f8b\u5982php\u3001python\u7b49\u7b49\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"cluster\u6a21\u5f0f"}),"\uff1a\u591a\u5b9e\u4f8b\u591a\u8fdb\u7a0b\uff0c\u53ea\u652f\u6301node\uff0c\u7aef\u53e3\u53ef\u4ee5\u590d\u7528\uff0c\u5b9e\u73b0\u8d1f\u8f7d\u5747\u8861\u3001\u5171\u4eabTCP\u8fde\u63a5\u3002"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"npm install -g pm2\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5e38\u7528\u547d\u4ee4\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"npm\u542f\u52a8"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'pm2 start npm --name "myapp" -- start\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"npm\u542f\u52a8\u6307\u5b9a\u811a\u672c"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'pm2 start npm --name "myapp" -- run "start:dev"\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u6307\u5b9a\u53c2\u6570\u542f\u52a8"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'pm2 start app.js --node-args="--max-old-space-size=1024"\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u542f\u52a8app.js\u5e94\u7528\u7a0b\u5e8f"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"pm2 start app.js \n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u542f\u52a84\u4e2aapp.js\u7684\u5e94\u7528\u5b9e\u4f8bcluster\u6a21\u5f0f"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"pm2 start app.js -i 4\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u542f\u52a8\u5e94\u7528\u7a0b\u5e8f\u5e76\u547d\u540d\u4e3amyapp"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'pm2 start app.js --name="myapp"\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u5f53\u6587\u4ef6\u53d8\u5316\u65f6\u81ea\u52a8\u91cd\u542f\u5e94\u7528"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"pm2 start app.js --watch\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u901a\u8fc7config\u6587\u4ef6\u542f\u52a8"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"pm2 start ecosystem.config.js\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u5217\u51fa PM2 \u542f\u52a8\u7684\u6240\u6709\u7684\u5e94\u7528\u7a0b\u5e8f"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"pm2 list\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u663e\u793a\u6bcf\u4e2a\u5e94\u7528\u7a0b\u5e8f\u7684CPU\u548c\u5185\u5b58\u5360\u7528\u60c5\u51b5"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"pm2 monit\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u663e\u793a\u5e94\u7528\u7a0b\u5e8f\u7684\u6240\u6709\u4fe1\u606f"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"pm2 show [app-name]\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u663e\u793a\u6240\u6709\u5e94\u7528\u7a0b\u5e8f\u7684\u65e5\u5fd7"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"pm2 logs\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u663e\u793a\u6307\u5b9a\u5e94\u7528\u7a0b\u5e8f\u7684\u65e5\u5fd7"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"pm2 logs [app-name]\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u6e05\u7a7a\u6240\u6709\u65e5\u5fd7"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"pm2 flush\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u505c\u6b62\u6240\u6709\u7684\u5e94\u7528\u7a0b\u5e8f"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"pm2 stop all\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u505c\u6b62 id\u4e3a 0\u7684\u6307\u5b9a\u5e94\u7528\u7a0b\u5e8f"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"pm2 stop 0\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u91cd\u542f\u6240\u6709\u5e94\u7528"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"pm2 restart all\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u91cd\u65b0\u52a0\u8f7d\u6240\u6709\u5e94\u7528"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"pm2 reload all\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u5173\u95ed\u5e76\u5220\u9664\u6240\u6709\u5e94\u7528"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"pm2 delete all\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u5220\u9664\u6307\u5b9a\u5e94\u7528 id 0"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"pm2 delete 0\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u628a\u5e94\u7528\u6269\u5c55\u523010\u4e2a\u5b9e\u4f8b"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"pm2 scale [app-name] 10\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u589e\u52a02\u4e2a\u5b9e\u4f8b"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"pm2 scale [app-name] +2\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u91cd\u7f6e\u91cd\u542f\u6b21\u6570"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"pm2 reset [app-name]\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u521b\u5efa\u5f00\u673a\u81ea\u542f\u52a8\u547d\u4ee4"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"pm2 startup\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u4fdd\u5b58\u5f53\u524d\u5e94\u7528\u5217\u8868"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"pm2 save\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u66f4\u65b0pm2 \uff0c\u4fdd\u5b58\u8fdb\u7a0b>\u6740\u6b7bPM2>\u6062\u590d\u8fdb\u7a0b"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"pm2 update\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u751f\u6210ecosystem.config.js\u6a21\u677f"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"pm2 init\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"pm2 init simple\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"pm2 ecosystem\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",metastring:"title=ecosystem.config.js",children:"module.exports = {\n  apps : [{\n    name: 'myapp',                            // \u9879\u76ee\u540d\n    script: 'index.js',                       // \u6267\u884c\u6587\u4ef6\n    cwd: './',                                // \u5de5\u4f5c\u76ee\u5f55\n    args: '',                                 // \u4f20\u9012\u7ed9\u811a\u672c\u7684\u53c2\u6570\n    interpreter: '/usr/bin/python',           // \u6307\u5b9a\u7684\u811a\u672c\u89e3\u91ca\u5668\uff0c\u9ed8\u8ba4node\n    interpreter_args: '',                     // \u4f20\u9012\u7ed9\u89e3\u91ca\u5668\u7684\u53c2\u6570\n    watch: '.',                               // \u662f\u5426\u76d1\u542c\u6587\u4ef6\u53d8\u52a8\u7136\u540e\u91cd\u542f\n    ignore_watch: [                           // \u4e0d\u7528\u76d1\u542c\u7684\u6587\u4ef6\u6216\u76ee\u5f55\n      'node_modules,\n      'logs'\n    ],\n    exec_mode: 'fork',                        // \u542f\u52a8\u5e94\u7528\u7a0b\u5e8f\u7684\u6a21\u5f0f\uff0c\u53ef\u4ee5\u662fcluster\u6216fork\uff0c\u9ed8\u8ba4fork\u3002\n    instances: 4,                             // \u5e94\u7528\u542f\u52a8\u5b9e\u4f8b\u4e2a\u6570\n    max_memory_restart: '8G',                 // \u6700\u5927\u5185\u5b58\u9650\u5236\u6570\uff0c\u8d85\u51fa\u81ea\u52a8\u91cd\u542f\n    error_file: './logs/app-err.log',         // \u9519\u8bef\u65e5\u5fd7\u6587\u4ef6\n    out_file: './logs/app-out.log',           // \u6b63\u5e38\u65e5\u5fd7\u6587\u4ef6\n    merge_logs: true,                         // \u8bbe\u7f6e\u8ffd\u52a0\u65e5\u5fd7\u800c\u4e0d\u662f\u65b0\u5efa\u65e5\u5fd7\n    log_date_format: 'YYYY-MM-DD HH:mm:ss',   // \u6307\u5b9a\u65e5\u5fd7\u6587\u4ef6\u7684\u65f6\u95f4\u683c\u5f0f\n    min_uptime: '60s',                        // \u5e94\u7528\u8fd0\u884c\u5c11\u4e8e\u65f6\u95f4\u88ab\u8ba4\u4e3a\u662f\u5f02\u5e38\u542f\u52a8\n    max_restarts: 30,                         // \u6700\u5927\u5f02\u5e38\u91cd\u542f\u6b21\u6570\uff0c\u5373\u5c0f\u4e8emin_uptime\u8fd0\u884c\u65f6\u95f4\u91cd\u542f\u6b21\u6570\uff1b\n    autorestart: true,                        // \u9ed8\u8ba4\u4e3atrue, \u53d1\u751f\u5f02\u5e38\u7684\u60c5\u51b5\u4e0b\u81ea\u52a8\u91cd\u542f\n    cron_restart: '1 0 * * *',                // crontab\u65f6\u95f4\u683c\u5f0f\u91cd\u542f\u5e94\u7528;\n    restart_delay: '60s'                      // \u5f02\u5e38\u91cd\u542f\u60c5\u51b5\u4e0b\uff0c\u5ef6\u65f6\u91cd\u542f\u65f6\u95f4\n    env: {                                    // \u9ed8\u8ba4\u73af\u5883\u53c2\u6570\n      PORT: 3003,\n      NODE_ENV: 'production',                 \n      MYNAME: 'aa'\n    },\n    env_dev: {                                // \u81ea\u5b9a\u4e49\u73af\u5883\u53c2\u6570dev\uff0c\u5f53\u524d\u6307\u5b9a\u4e3a\u5f00\u53d1\u73af\u5883 pm2 start app.js --env dev\n      NODE_ENV: 'development',               \n      MYNAME: 'bb'\n    },\n    env_test: {                               // \u81ea\u5b9a\u4e49\u73af\u5883\u53c2\u6570test\uff0c\u5f53\u524d\u6307\u5b9a\u4e3a\u6d4b\u8bd5\u73af\u5883 pm2 start app.js --env test\n     NODE_ENV: 'test',\n     MYNAME: 'cc'\n    }\n  }, {\n    script: './service-worker/',\n    watch: ['./service-worker']\n  }],\n\n\n  deploy : {\n    production : {\n      user : 'SSH_USERNAME',\n      host : 'SSH_HOSTMACHINE',\n      ref  : 'origin/master',\n      repo : 'GIT_REPOSITORY',\n      path : 'DESTINATION_PATH',\n      'pre-deploy-local': '',\n      'post-deploy' : 'npm install && pm2 reload ecosystem.config.js --env production',\n      'pre-setup': ''\n    }\n  }\n};\n"})}),"\n",(0,i.jsx)(n.h2,{id:"windwos\u6587\u4ef6\u540d\u5230linux\u4e71\u7801",children:"windwos\u6587\u4ef6\u540d\u5230linux\u4e71\u7801"}),"\n",(0,i.jsx)(n.p,{children:"\u5b89\u88c5convmv\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"yum -y install convmv\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u8f6c\u6362\u7f16\u7801\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"convmv --notest --nosmart -f gbk -t utf8 -r /data\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"-f enc     \u6e90\u7f16\u7801"}),"\n",(0,i.jsx)(n.li,{children:"-t enc     \u65b0\u7f16\u7801"}),"\n",(0,i.jsx)(n.li,{children:"-r         \u9012\u5f52\u5904\u7406\u5b50\u6587\u4ef6\u5939"}),"\n",(0,i.jsx)(n.li,{children:"-i         \u4ea4\u4e92\u6587\u5411\u8f6c\u6362"}),"\n",(0,i.jsx)(n.li,{children:"--list     \u663e\u793a\u6240\u6709\u53ef\u7528\u7f16\u7801"}),"\n",(0,i.jsx)(n.li,{children:"--nosmart  \u5982\u679c\u662futf8\u6587\u4ef6\uff0c\u5ffd\u7565"}),"\n",(0,i.jsx)(n.li,{children:"--notest   \u76f4\u63a5\u8f6c\u6362\u4e0d\u6d4b\u8bd5"}),"\n",(0,i.jsx)(n.li,{children:"--replace  \u6587\u4ef6\u76f8\u540c\u76f4\u63a5\u66ff\u6362"}),"\n",(0,i.jsx)(n.li,{children:"--unescape \u53ef\u4ee5\u505a\u4e00\u4e0b\u8f6c\u4e49\uff0c\u6bd4\u5982\u628a%20\u53d8\u6210\u7a7a\u683c"}),"\n",(0,i.jsx)(n.li,{children:"--upper    \u5168\u90e8\u8f6c\u6362\u6210\u5927\u5199"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"redis",children:"redis"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u521b\u5efa\u96c6\u7fa4\uff1a"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"redis-cli --cluster create 127.0.0.1:7001 127.0.0.1:7002 127.0.0.1:7003 127.0.0.1:7004 127.0.0.1:7005 127.0.0.1:7006 --cluster-replicas 1\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u6dfb\u52a0\u8282\u70b9\uff1a"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u6dfb\u52a0master\u8282\u70b9\uff08master7008\uff09"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"redis-cli --cluster add-node 127.0.0.1:7008 127.0.0.1:7000\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u6dfb\u52a0slave\u8282\u70b9\uff08\u6307\u5b9amaster-id\u7684slave7009\uff09"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"redis-cli --cluster add-node 127.0.0.1:7009 127.0.0.1:7000 --cluster-slave --cluster-master-id 46f0b68b3f605b3369d3843a89a2b4a164ed21e8\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u5220\u9664\u8282\u70b9\uff1a"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u8fc1\u79fb\u54c8\u5e0c\u69fd\u81f3\u522b\u7684\u8282\u70b9"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"redis-cli --cluster reshard 127.0.0.1:7000 --cluster-from 46f0b68b3f605b3369d3843a89a2b4a164ed21e8 --cluster-to 2846540d8284538096f111a8ce7cf01c50199237 --cluster-slots 1024 --cluster-yes\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u5220\u9664master\u4ee5\u53ca\u5bf9\u5e94\u7684slave\u8282\u70b9"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"redis-cli --cluster del-node 127.0.0.1:7000 46f0b68b3f605b3369d3843a89a2b4a164ed21e8\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u5bfc\u5165\u6570\u636e\uff1a"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u6570\u636e\u4ece\u5916\u90e8\u5b9e\u4f8b\u5bfc\u5165\u5230 Redis \u96c6\u7fa4"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"redis-cli --cluster import 127.0.0.1:7001 --cluster-from 172.16.7.14:6379 --cluster-copy\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u6570\u636e\u4eceaof\u6062\u590d\u6570\u636e\u5230\u96c6\u7fa4"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"redis-cli -c -p 7001 --pipe < appendonly.aof\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u4fee\u590d\u69fd\uff1a"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"[WARNING] Node 127.0.0.1:7003 has slots in migrating state 10867."})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u6e05\u9664\u54c8\u5e0c\u69fd\u4e2d\u7684\u4efb\u4f55\u5bfc\u5165/\u8fc1\u79fb\u72b6\u6001"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"redis-cli -c -p 7001 cluster setslot 10867 stable\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u4fee\u590d\uff08\u69fd\u5bf9\u5e94\u7684\u8282\u70b9\uff09"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"redis-cli --cluster fix 127.0.0.1:7003\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u8fc1\u79fb\u69fd\uff08from & to \u5bf9\u5e94\u8282\u70b9id\uff09\uff1a"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"# cluster-slots \u8fc1\u79fb\u69fd\u7684\u6570\u91cf\nredis-cli --cluster reshard 127.0.0.1:7001 --cluster-from 9a243bc1db6cd60689512b2c3c63e5962b2de0bb --cluster-to 3e96051497a2021c84d230831104f1f9e8c6430a --cluster-slots 5461 --cluster-yes\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"redis-cli\u4e0b\u5e38\u7528\u64cd\u4f5c\uff1a"})}),"\n",(0,i.jsx)(n.p,{children:"redis-cli -c -p 7001"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u6307\u5b9a\u6216\u5207\u6362\u5f53\u524d\u8282\u70b9\u4e3anode-id\u7684slave\uff08master\u65f6\u5fc5\u987b\u8fc1\u79fb\u8d70\u6240\u6709\u69fd\uff09"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"cluster replicate node-id\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u67e5\u770bkeyname\u5bf9\u5e94\u7684\u69fd"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"cluster keyslot keyname\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u67e5\u770b\u69fd\u7684\u5206\u914d"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"cluster slots\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u5f02\u6b65\u91cd\u5199aof\u751f\u6210\u65b0\u7684aof\u6587\u4ef6"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"bgrewriteaof\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u5f02\u6b65\u751f\u6210rdb"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"bgsave\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770b\u96c6\u7fa4\u8282\u70b9\u53ca\u69fd\u5206\u914d"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"redis-cli --cluster check 127.0.0.1:7001\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770b\u96c6\u7fa4\u5404\u8282\u70b9dbsize"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"redis-cli --cluster call 127.0.0.1:7001 dbsize\n"})}),"\n",(0,i.jsx)(n.h2,{id:"kvm",children:"kvm"}),"\n",(0,i.jsx)(n.p,{children:"\u5b89\u88c5kvm\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"yum install -y qemu-kvm libvirt\n\nyum install -y virt-install libvirt-python virt-manager virt-install libvirt-client\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u914d\u7f6e\u7f51\u6865\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"virsh iface-bridge eth0 br0\n\nvirsh iface-list\nbrctl show\n\nvirsh iface-unbridge br0\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u521b\u5efa\u865a\u62df\u673a\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"virt-install --name t01 --vcpus=2 --memory=1024 --location=/vm/CentOS-8.1.1911-x86_64-dvd1.iso --disk /vm/w01.qcow2,size=20,format=qcow2 --graphics vnc,listen=0.0.0.0 --noautoconsole --autostart --os-type=linux --os-variant=rhel8.0\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"virt-install --name eBay16_237--memory=2048 --vcpus=2 --os-type=windows --cdrom /data/en_windows_7_ultimate_with_sp1_x64_dvd_u_677332.iso --disk path=/usr/share/virtio-win/virtio-win-0.1.171_amd64.vfd,device=floppy --disk path=/data/kvm/eBay16_237.img,size=30,bus=virtio,format=qcow2 --network bridge=br0,model=virtio --graphics vnc,listen=0.0.0.0 --noautoconsole\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u4eceISO\u6620\u50cf\u5b89\u88c5\u865a\u62df\u673a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"virt-install \\\n  --name guest1-rhel7 \\\n  --memory 2048 \\\n  --vcpus 2 \\\n  --disk size=8 \\\n  --cdrom /path/to/rhel7.iso \\\n  --os-variant rhel7 \\\n  --noautoconsole\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u4ece\u865a\u62df\u78c1\u76d8\u6620\u50cf\u5bfc\u5165\u865a\u62df\u673a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"virt-install \\\n  --name guest1-rhel7 \\\n  --memory 2048 \\\n  --vcpus 2 \\\n  --disk /path/to/imported/disk.qcow2 \\\n  --import \\\n  --os-variant rhel7 \\\n  --noautoconsole\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u4ece\u7f51\u7edc\u5b89\u88c5\u865a\u62df\u673a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"virt-install \\\n  --name guest1-rhel7 \\\n  --memory 2048 \\\n  --vcpus 2 \\\n  --disk size=8 \\\n  --location http://example.com/path/to/os \\\n  --os-variant rhel7\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u4f7f\u7528PXE\u5b89\u88c5\u865a\u62df\u673a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"virt-install \\\n  --name guest1-rhel7 \\\n  --memory 2048 \\\n  --vcpus 2 \\\n  --disk size=8 \\\n  --network=bridge:br0 \\\n  --pxe \\\n  --os-variant rhel7 \\\n  --noautoconsole\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u4f7f\u7528Kickstart\u5b89\u88c5\u865a\u62df\u673a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'virt-install \\\n  --name guest1-rhel7 \\\n  --memory 2048 \\\n  --vcpus 2 \\\n  --disk size=8 \\\n  --location http://example.com/path/to/os \\\n  --os-variant rhel7 \\\n  --initrd-inject /path/to/ks.cfg \\\n  --extra-args="ks=file:/ks.cfg console=tty0 console=ttyS0,115200n8" \\\n  --noautoconsole\n'})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u5728\u7ebf\u6dfb\u52a0\u786c\u76d8\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"qemu-img create -f qcow2 /data/kvm/win11_1.img 20G\n\nvirsh attach-disk win11 /data/kvm/win11_1.img vdb --driver qemu --subdriver qcow2 --targetbus virtio --persistent\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5378\u8f7d\u786c\u76d8\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"# \u5206\u79bb\u786c\u76d8 vdb or img\u8def\u5f84\nvirsh detach-disk win11 /data/kvm/win11_1.img\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u786c\u76d8\u6269\u5bb9\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"# \u865a\u62df\u673a\u5728\u5173\u673a\u72b6\u6001\u4e0b\u8fdb\u884c\nqemu-img resize /data/kvm/win11.img +10G\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u538b\u7f29\u786c\u76d8\u4f7f\u7528\u7a7a\u95f4\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"qemu-img convert -c -O qcow2 /data/kvm/win11_1.img /tmp/kvm/win11_1.img\n"})}),"\n",(0,i.jsx)(n.p,{children:"DNF error: Error in POSTTRANS scriptlet in rpm package kernel-core   \u52a0\u4e0a\u53c2\u6570 --extra-args ro"}),"\n",(0,i.jsx)(n.h2,{id:"lvs",children:"lvs"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"ipvsadm -A -t VIP:port -s rr\nipvsadm -a -t VIP:port -r RIP1 -g\nipvsadm -a -t VIP:port -r RIP2 -g\n\n#\u793a\u4f8b\n#ipvsadm -A -t 172.16.7.14:80 -s rr\n#ipvsadm -a -t 172.16.7.14:80 -r 172.16.7.15:88 -g\n#ipvsadm -a -t 172.16.7.14:80 -r 172.16.7.16:81 -g\n#ipvsadm -a -t 172.16.7.14:80 -r 172.16.7.17 -g\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.strong,{children:["ipvsadm -A -t VIP",":port"," -s rr"]})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"-A \u9009\u9879\u4e3a\u6dfb\u52a0\u4e00\u6761\u865a\u62df\u670d\u52a1\u5668\u8bb0\u5f55\uff0c\u5373\u521b\u5efa\u4e00\u4e2aLVS\u96c6\u7fa4"}),"\n",(0,i.jsxs)(n.li,{children:["-t \u6807\u8bc6\u521b\u5efa\u7684LVS\u96c6\u7fa4\u670d\u52a1\u4e3atcp\u534f\u8bae\uff0cVIP",":port"," \u6807\u8bc6\u96c6\u7fa4\u670d\u52a1IP\u53ca\u7aef\u53e3\u53f7\uff0c"]}),"\n",(0,i.jsx)(n.li,{children:"-u \u4f7f\u7528udp\u534f\u8bae"}),"\n",(0,i.jsx)(n.li,{children:"-s Scheduling \u8c03\u5ea6\u4e4b\u610f\uff0c\u540e\u9762\u53c2\u6570\u4e3a\u6307\u5b9a\u7684\u8c03\u5ea6\u7b97\u6cd5\uff0c\u6709rr\u3001wrr\u3001lc\u3001wlc\u3001lblc\u3001lblcr\u3001dh\u3001sh\u3001sed\u3001nq\uff0c\u9ed8\u8ba4\u4e3awlc\uff0c\u5176\u4e2drr\u4e3aRound-Robin\u7f29\u5199\uff0c\u4ee3\u8868\u8f6e\u8be2\u7b97\u6cd5"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.strong,{children:["ipvsadm -a -t VIP",":port"," -r RIP -g"]})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"-a \u9009\u9879\u8868\u793a\u6dfb\u52a0\u4e00\u4e2aRS\u5230\u96c6\u7fa4\u4e2d"}),"\n",(0,i.jsx)(n.li,{children:"-t \u4f7f\u7528tcp\u534f\u8bae"}),"\n",(0,i.jsx)(n.li,{children:"-u \u4f7f\u7528udp\u534f\u8bae"}),"\n",(0,i.jsx)(n.li,{children:"-r \u7528\u4e8e\u6307\u5b9a\u9700\u8981\u6dfb\u52a0\u7684RIP\uff08RS\u5bf9\u5e94IP\uff09"}),"\n",(0,i.jsx)(n.li,{children:"-g \u8868\u793aLVS\u5de5\u4f5c\u6a21\u5f0f\u4e3aDR\u6a21\u5f0f\uff0c-i \u4e3aTUN\u6a21\u5f0f\uff0c-m \u4e3aNAT\u6a21\u5f0f"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770b\u751f\u6548\u89c4\u5219\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"ipvsadm -Ln\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u4f46\u8981\u6ce8\u610f\u4e00\u70b9\uff0c\u5982\u679c\u6ca1\u6709\u63d0\u524d\u5c06\u89c4\u5219\u8fdb\u884c\u4fdd\u5b58\uff0c\u5728\u8bbe\u5907\u91cd\u542f\u540e\u914d\u7f6e\u4f1a\u6d88\u5931\uff0c\u6240\u4ee5\u6211\u4eec\u914d\u7f6e\u5b8c\u9700\u8981\u7528 ",(0,i.jsx)(n.code,{children:"service ipvsadm save"})," \u4fdd\u5b58\u547d\u4ee4\uff0c\u91cd\u542f\u540e\u7528 ",(0,i.jsx)(n.code,{children:"service ipvsadm reload"})," \u91cd\u65b0\u8f7d\u5165\u89c4\u5219\u3002\u9664\u6b64\u4e4b\u5916\uff0c\u53ef\u4ee5\u7528 ",(0,i.jsx)(n.code,{children:"ipvsadm -S > file"})," \u5c06LVS\u89c4\u5219\u4fdd\u5b58\u5728\u6307\u5b9a\u6587\u4ef6\u4e2d\uff0c\u901a\u8fc7 ",(0,i.jsx)(n.code,{children:"ipvsadm -R < file"})," \u8fdb\u884c\u91cd\u8f7d"]}),"\n",(0,i.jsx)(n.p,{children:"\u94fe\u63a5\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://segmentfault.com/a/1190000019967549",children:"https://segmentfault.com/a/1190000019967549"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"nginx\u70ed\u5347\u7ea7\u7248\u672c",children:"nginx\u70ed\u5347\u7ea7\u7248\u672c"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u5907\u4efd\u65e7nginx"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"mv /usr/local/nginx/sbin/nginx{,.bak}\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u7f16\u8bd1\u65b0ningx\uff0c\u590d\u5236\u7f16\u8bd1\u597d\u7684nginx\u5230sbin\u4e0b"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"aria2c -c -x 10 https://nginx.org/download/nginx-1.20.1.tar.gz\n\ntar zxf nginx-1.20.1.tar.gz\ncd nginx-1.20.1\n./configure --prefix=/usr/local/nginx --with-http_ssl_module\nmake -j\n\ncp objs/nginx /usr/local/nginx/sbin\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u7ed9\u65e7nginx\u8fdb\u7a0b\u53d1\u9001usr2\u4fe1\u53f7\uff0cnginx\u4f1a\u4f7f\u7528\u65b0\u6587\u4ef6\u542f\u52a8\u4e00\u4e2a\u65b0\u7684master\u8fdb\u7a0b\uff0c\u751f\u6210\u65b0\u7684nginx.pid\u6587\u4ef6\u65e7\u7684\u91cd\u547d\u540d\u4e3a.obin"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"kill -usr2 `cat /usr/local/nginx/logs/nginx.pid`\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u7ed9\u65e7nginx\u8fdb\u7a0b\u53d1\u9001winch\u5173\u95ed\u65e7nginx\u7684worker\u8fdb\u7a0b"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"kill -winch `cat /usr/local/nginx/logs/nginx.pid.obin`\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u5f85\u90fd\u6b63\u5e38\u540e\u7ed9\u65e7nginx\u8fdb\u7a0b\u53d1\u9001quit\u4fe1\u53f7\u9000\u51famaster\u8fdb\u7a0b"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"kill -quit `cat /usr/local/nginx/logs/nginx.pid.obin`\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u56de\u6eda\uff08\u9700\u8981\u65e7\u8fdb\u7a0b\u5b58\u5728\uff09\uff1a"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u91cd\u542f\u65e7\u8fdb\u7a0bworker"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"kill -hup `cat /usr/local/nginx/logs/nginx.pid.obin`\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u9000\u51fa\u65b0\u7684\u8fdb\u7a0b"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"kill -quit `cat /usr/local/nginx/logs/nginx.pid`\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u94fe\u63a5\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://blog.csdn.net/gexiaoyizhimei/article/details/101650717",children:"https://blog.csdn.net/gexiaoyizhimei/article/details/101650717"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"\u67e5\u770b\u8bc1\u4e66\u4fe1\u606f",children:"\u67e5\u770b\u8bc1\u4e66\u4fe1\u606f"}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770b\u8fc7\u671f\u65f6\u95f4\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"openssl x509 -noout -enddate -in /etc/kubernetes/pki/ca.crt\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770b\u8bc1\u4e66\u4fe1\u606f\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"openssl x509 -noout -text -in ca.crt\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770bKEY\u4fe1\u606f\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"openssl rsa -noout -text -in ca.key\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770bCSR\u4fe1\u606f\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"openssl req -noout -text -in ca.csr\n"})}),"\n",(0,i.jsx)(n.h2,{id:"kvm-\u5f00\u542ftcp\u8fdc\u7a0b\u8fde\u63a5",children:"kvm \u5f00\u542ftcp\u8fdc\u7a0b\u8fde\u63a5"}),"\n",(0,i.jsx)(n.p,{children:"\u542f\u7528tcp\u7684\u7aef\u53e3"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-conf",metastring:"title=/etc/sysconfig/libvirtd",children:'LIBVIRTD_CONFIG=/etc/libvirt/libvirtd.conf\n\nLIBVIRTD_ARGS="--listen"\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-conf",metastring:"title=/etc/libvirt/libvirtd.conf",children:'listen_tls = 0\nlisten_tcp = 1\ntcp_port = "16509"\nlisten_addr = "0.0.0.0"\nauth_tcp = "none"\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u8fde\u63a5"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"virsh -c qemu+tcp://172.16.7.254/system\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"tsl"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'mkdir pki\ncd pki/\ncerttool --generate-privkey > cakey.pem\n\n\ncat >ca.info <<EOF\ncn = ops\nca\ncert_signing_key\nexpiration_days = 700\nEOF\n# cn: \u7ec4\u7ec7\u540d\u79f0\n# expiration_days\uff1a\u8fc7\u671f\u5929\u6570\uff0c\u9ed8\u8ba41\u5e74\n\n\ncerttool --generate-self-signed --load-privkey cakey.pem --template ca.info --outfile cacert.pem\n\ncerttool --generate-privkey > serverkey.pem\n\ncat > server.info <<EOF\norganization = ops\ncn = server22\nip_address = 172.16.7.14\ntls_www_server\nencryption_key\nsigning_key\nexpiration_days = 700\nEOF\n# organization: \u7ec4\u7ec7\u540d\uff0c\u548cca\u4e2d\u7684cn\u4e00\u81f4\n# cn: kvm\u670d\u52a1\u5668\u7684hostname\uff0c\u9700\u8981\u80fdping\n# ip_address: kvm\u670d\u52a1\u5668\u7684ip\n# expiration_days: \u8bc1\u4e66\u8fc7\u671f\u65f6\u95f4\n\n\ncerttool --generate-certificate --load-privkey serverkey.pem --load-ca-certificate cacert.pem --load-ca-privkey cakey.pem --template server.info --outfile servercert.pem\n\ncerttool --generate-privkey > clientkey.pem\n\n\ncat >client.info <<EOF \ncountry = CN\nstate = GD\nlocality = SZ\norganization = ops\ncn = server22\ntls_www_server\nencryption_key\nsigning_key\nexpiration_days = 700\nEOF\n\n\ncerttool --generate-certificate --load-privkey clientkey.pem --load-ca-certificate cacert.pem --load-ca-privkey cakey.pem --template client.info --outfile clientcert.pem\n\n\ncp servercert.pem /etc/pki/libvirt/\ncp serverkey.pem /etc/pki/libvirt/private/\ncp cacert.pem /etc/pki/CA/\n\n\n\n\nscp cacert.pem root@172.16.7.14:/etc/pki/CA/\nscp clientcert.pem root@172.16.7.14:/etc/pki/libvirt/clientcert.pem\nscp clientkey.pem  root@172.16.7.14:/etc/pki/libvirt/clientkey.pem\n\n\n\n\nvim /etc/sysconfig/libvirtd\n#libvirtd\u542f\u52a8\u65f6\u6dfb\u52a0--listen\u53c2\u6570\nLIBVIRTD_ARGS="--listen"\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u94fe\u63a5\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://www.cnblogs.com/jinyuanliu/p/11244876.html",children:"https://www.cnblogs.com/jinyuanliu/p/11244876.html"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"vim\u8fdb\u5165\u5757\u7f16\u8f91\u6a21\u5f0f",children:"vim\u8fdb\u5165\u5757\u7f16\u8f91\u6a21\u5f0f"}),"\n",(0,i.jsx)(n.p,{children:"wsl\uff1actrl+q"}),"\n",(0,i.jsx)(n.p,{children:"linux\uff1actrl+v or ctrl+shift+v"}),"\n",(0,i.jsx)(n.p,{children:"\u6279\u91cf\u7f16\u8f91\u5185\u5bb9\uff1a\u6309\u65b9\u5411\u952e\u9009\u4e2d\u8981\u7f16\u8f91\u7684\u884c shift+i \u7f16\u8f91\u8f93\u5165\u5185\u5bb9\u7136\u540e\u6309\u4e24\u4e0besc"}),"\n",(0,i.jsx)(n.h2,{id:"\u5b89\u88c5python",children:"\u5b89\u88c5python"}),"\n",(0,i.jsx)(n.p,{children:"debian\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"apt install gcc g++ make libssl-dev libsqlite3-dev libreadline-dev libffi-dev zlib1g-dev libbz2-dev\n"})}),"\n",(0,i.jsx)(n.p,{children:"centos\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"yum install -y zlib-devel bzip2-devel readline-devel sqlite-devel openssl-devel libffi-devel\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"ModuleNotFoundError: No module named '_ctypes'"}),"    \u9700\u8981\u5b89\u88c5libffi\u7136\u540e\u91cd\u65b0\u7f16\u8bd1"]}),"\n",(0,i.jsx)(n.h2,{id:"\u67e5\u770b\u4f7f\u7528swap\u8fdb\u7a0b",children:"\u67e5\u770b\u4f7f\u7528swap\u8fdb\u7a0b"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"for i in $(cd /proc;ls | grep \"^[0-9]\" | awk '$0>100'); do awk '/Swap:/{a=a+$2}END{print '\"$i\"',a/1024\"M\"}' /proc/$i/smaps;done| sort -k2nr | head\n"})}),"\n",(0,i.jsx)(n.h2,{id:"esxi-\u5b89\u88c5megacli",children:"esxi \u5b89\u88c5MegaCli"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"esxcli software vib install -v=/tmp/vmware-esx-MegaCli-8.07.06.vib -f --maintenance-mode\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u94fe\u63a5\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://www.broadcom.com/",children:"https://www.broadcom.com/"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"omsa",children:"omsa"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u7b80\u4ecb"})}),"\n",(0,i.jsx)(n.p,{children:"OMSA\u5168\u79f0\u4e3aDell OpenManage Server Administrator\uff0c\u4e13\u4e3a\u7cfb\u7edf\u7ba1\u7406\u5458\u8bbe\u8ba1\uff0c\u53ef\u7528\u4e8e\u7ba1\u7406\u672c\u5730\u7cfb\u7edf\u53ca\u7f51\u7edc\u4e2d\u7684\u8fdc\u7a0b\u7cfb\u7edf\u3002OMSA\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5168\u9762\u7684\u4e00\u5bf9\u4e00\u7cfb\u7edf\u7ba1\u7406\u89e3\u51b3\u65b9\u6848\u5305\uff0c\u53ef\u4f7f\u7cfb\u7edf\u7ba1\u7406\u5458\u4e13\u6ce8\u4e8e\u6574\u4e2a\u7f51\u7edc\u7684\u7ba1\u7406\u5de5\u4f5c\u3002"}),"\n",(0,i.jsx)(n.p,{children:"OMSA\u7cfb\u7edf\u7ba1\u7406\u65b9\u6848\u53ef\u4ee5\u5168\u9762\u89e3\u51b3\u7cfb\u7edf\u7ba1\u7406\u4eba\u5458\u6700\u5173\u5fc3\u7684\u7cfb\u7edf\u90e8\u7f72\u3001\u7cfb\u7edf\u76d1\u63a7\u548c\u7cfb\u7edf\u53d8\u66f4\u4e09\u5927\u7cfb\u7edf\u7ba1\u7406\u95ee\u9898\u3002\u5b83\u901a\u8fc7\u63d0\u4f9b\u4ee5\u4e0b\u4e24\u79cd\u65b9\u5f0f\u6765\u5bf9\u672c\u5730\u548c\u8fdc\u7a0b\u7684\u670d\u52a1\u5668\u8fdb\u884c\u7ba1\u7406\u548c\u76d1\u63a7\u3002"}),"\n",(0,i.jsx)(n.p,{children:"1\u3001\u57fa\u4e8eWeb\u6d4f\u89c8\u5668\u7684\u96c6\u6210\u56fe\u5f62\u7528\u6237\u754c\u9762(GUI)"}),"\n",(0,i.jsx)(n.p,{children:"2\u3001\u64cd\u4f5c\u7cfb\u7edf\u7684\u547d\u4ee4\u884c\u754c\u9762(CLI)\u5de5\u5177"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u5b89\u88c5omsa"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u5b8c\u6574\u7248\u5b89\u88c5"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"#\u5b89\u88c5omsa\u7684\u6e90\nwget -q -O - http://linux.dell.com/repo/hardware/latest/bootstrap.cgi | bash\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"yum -y install srvadmin-all    # \u5b89\u88c5\u6240\u6709\u8f6f\u4ef6\u5305\nyum -y install srvadmin-base    # \u53ea\u5b89\u88c5OMSA\u57fa\u7840\u670d\u52a1\uff0c\u4e0d\u5305\u62ecweb\u7ba1\u7406\nyum -y install srvadmin-omacore    # \u5b89\u88c5CLI\u547d\u4ee4\nyum -y install srvadmin-webserver    # \u5b89\u88c5web\u7ba1\u7406\u7ec4\u4ef6\nyum -y install srvadmin-storageservices    # \u5b89\u88c5RAID\u63a7\u5236\u5361\u7ba1\u7406\u7ec4\u4ef6\nyum -y install srvadmin-rac4    # \u5b89\u88c5\u8fdc\u7a0b\u63a7\u5236\u53614\u7ba1\u7406\u7ec4\u4ef6\nyum -y install srvadmin-rac5    # \u5b89\u88c5\u8fdc\u7a0b\u63a7\u5236\u53615\u7ba1\u7406\u7ec4\u4ef6\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u6240\u6709\u7684\u8f6f\u4ef6\u5305\u5c06\u88ab\u5b89\u88c5\u81f3/opt\u76ee\u5f55\u4e0b\uff0c\u867d\u7136 OMSA \u7684web\u7aef\u529f\u80fd\u5f88\u5f3a\u5927\uff0c\u4f46\u662f\u5728\u5de5\u4f5c\u5f53\u4e2d\uff0c\u6211\u4eec\u7684\u4e3b\u8981\u76ee\u7684\u5e76\u975e\u662f\u4f7f\u7528\u5b83\u7684web\u7aef\uff0c\u66f4\u591a\u65f6\u95f4\u53ea\u662f\u60f3\u4f7f\u7528\u5b83\u63d0\u4f9b\u7684\u4e00\u4e9b\u547d\u4ee4\u884c\u5de5\u5177\u6765\u83b7\u53d6\u670d\u52a1\u5668\u4e3b\u8981\u7ec4\u4ef6\u7684\u76f8\u5173\u4fe1\u606f\uff0c\u6bd4\u5982CPU\u3001\u5185\u5b58\u3001\u786c\u76d8\u3001\u9648\u5217\u548c\u4e3b\u677f\u6e29\u5ea6\u4e4b\u7c7b\u7684\u5065\u5eb7\u72b6\u51b5\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u6ca1\u6709\u5fc5\u8981\u5b89\u88c5OMSA\u7684web\u7aef\uff0c\u6240\u4ee5\u5982\u679c\u53ea\u662f\u505a\u76d1\u63a7\uff0c\u5b89\u88c5",(0,i.jsx)(n.code,{children:"srvadmin-base\u3001srvadmin-omacore\u53casrvadmin-storageservices"}),"\u5373\u53ef\u3002\u3002"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u7cbe\u7b80\u7248"}),"\n",(0,i.jsxs)(n.p,{children:["\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u76f4\u63a5Yum\u5b89\u88c5\u5373\u53ef\uff0c\u4f46\u662f\u73b0\u9636\u6bb5srvadmin\u7684\u6e90\u5728\u56fd\u5916\uff0c\u4e0b\u8f7d\u6162\uff0c\u540c\u65f6\u8fd8\u6709\u4e00\u4e9b\u5185\u7f51\u673a\u5668\u4e0d\u80fd\u76f4\u63a5\u901a\u5916\u7f51\uff0c\u53ea\u80fd\u628a\u5305\u4e0b\u8f7d\u4e0b\u6765\uff0c\u7136\u540e\u76f4\u63a5\u5b89\u88c5\u3002\u53c2\u8003\u4e86",(0,i.jsx)(n.a,{href:"https://www.dell.com/support/manuals/cn/zh/cnbsd1/openmanage-software-v9.1.2/om_linux_9.1.2_install_guide/%E5%8D%95%E4%B8%AA%E7%BB%84%E4%BB%B6%E7%9A%84-rpm?guid=guid-ad662d47-9b32-4b9c-a714-90d419276a25&lang=zh-cn",children:"\u5355\u4e2a\u7ec4\u4ef6\u7684-rpm"}),"\u8fd9\u91cc\u9762\u7684\u8bf4\u660e\uff08\u6216\u8005",(0,i.jsx)(n.a,{href:"https://topics-cdn.dell.com/pdf/openmanage-server-administrator-v93_install-guide2_zh-cn.pdf%EF%BC%89%EF%BC%8C%E5%88%B6%E4%BD%9C%E5%87%BA%E6%9D%A5%E4%BA%86%E7%B2%BE%E7%AE%80%E7%89%88%E7%9A%84omsa",children:"https://topics-cdn.dell.com/pdf/openmanage-server-administrator-v93_install-guide2_zh-cn.pdf\uff09\uff0c\u5236\u4f5c\u51fa\u6765\u4e86\u7cbe\u7b80\u7248\u7684omsa"})," 9.3.0\u7248\u672c\u3002\u5177\u4f53\u7684rpm\u7684\u5b89\u88c5\u5305\u5982\u4e0b\uff1a"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Updating / installing...\n   1:srvadmin-omilcore-9.3.0-3465.1481################################# [  3%]\n   2:srvadmin-deng-9.3.0-3465.14818.el################################# [  7%]\n   3:srvadmin-omacs-9.3.0-3465.14818.e################################# [ 10%]\n   4:srvadmin-xmlsup-9.3.0-3465.14818.################################# [ 14%]\n   5:srvadmin-hapi-9.3.0-3465.14818.el################################# [ 17%]\n   6:srvadmin-isvc-9.3.0-3465.14818.el################################# [ 21%]\n   7:srvadmin-sysfsutils-9.3.0-3465.14################################# [ 24%]\n   8:srvadmin-smcommon-9.3.0-3465.1481################################# [ 28%]\n   9:srvadmin-deng-snmp-9.3.0-3465.148################################# [ 31%]\n  10:srvadmin-isvc-snmp-9.3.0-3465.148################################# [ 34%]\n  11:srvadmin-ominst-9.3.0-3465.14818.################################# [ 38%]\n  12:srvadmin-omcommon-9.3.0-3465.1481################################# [ 41%]\n  13:srvadmin-omacore-9.3.0-3465.14818################################# [ 45%]\n  14:srvadmin-storelib-sysfs-9.3.0-346################################# [ 48%]\n  15:srvadmin-storelib-9.3.0-3465.1481################################# [ 52%]\n  16:srvadmin-realssd-9.3.0-3465.14818################################# [ 55%]\n  17:srvadmin-nvme-9.3.0-3465.14818.el################################# [ 59%]\n  18:srvadmin-marvellib-9.3.0-3465.148################################# [ 62%]\n  19:srvadmin-storage-9.3.0-3465.14818################################# [ 66%]\n  20:srvadmin-storage-cli-9.3.0-3465.1################################# [ 69%]\n  21:srvadmin-storageservices-cli-9.3.################################# [ 72%]\n  22:srvadmin-storage-snmp-9.3.0-3465.################################# [ 76%]\n  23:srvadmin-storageservices-snmp-9.3################################# [ 79%]\n  24:srvadmin-argtable2-9.3.0-3465.148################################# [ 83%]\n  25:libsmbios-2.3.3-8.el7            ################################# [ 86%]\n  26:smbios-utils-bin-2.3.3-8.el7     ################################# [ 90%]\n  27:srvadmin-idracadm7-9.3.0-3465.148################################# [ 93%]\n  28:srvadmin-storageservices-9.3.0-34################################# [ 97%]\n  29:syscfg-6.3.0-3465.14818.el7      ################################# [100%]\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u4e00\u517129\u4e2a\u5305\uff0c\u5305\u62ec\u4e86",(0,i.jsx)(n.code,{children:"omreport\u3001syscfg\u3001racadm7"}),"\u7b49\u547d\u4ee4\u3002\u5176\u4e2dlibsmbios\u3001smbios-utils-bin\u53ef\u4ee5\u901a\u8fc7yum\u8fdb\u884c\u5b89\u88c5\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:["\u4e0b\u8f7d\u5305\u7684\u5730\u5740\uff1a",(0,i.jsx)(n.a,{href:"https://linux.dell.com/repo/hardware/dsu/os_dependent/",children:"https://linux.dell.com/repo/hardware/dsu/os_dependent/"})," \uff0c\u8fd8\u6709\u4e00\u4e2a\u65b9\u6cd5\u4e0b\u8f7d\u5305\uff0c\u4e0b\u8f7domsa\u6e90\uff0c\u7136\u540e\u4f7f\u7528",(0,i.jsx)(n.code,{children:"yumdownloader"}),"\u7684\u65b9\u6cd5\u4e0b\u8f7d\u5305\u3002\u6216\u8005\u76f4\u63a5\u8bbf\u95ee",(0,i.jsx)(n.code,{children:"https://linux.dell.com/repo/hardware/latest/mirrors.cgi?osname=el7&basearch=x86_64&native=1"}),"\u4f1a\u51fa\u73b0\u771f\u5b9e\u7684\u4e0b\u8f7d\u5730\u5740\u3002\u518d\u6b21\u8bbf\u95ee\u51fa\u73b0\u7684URL\u5c31\u53ef\u4ee5\u4e0b\u8f7d\u6700\u65b0\u7684OMSA\u7684\u5b89\u88c5\u5305\u4e86\u3002el7\u8868\u793acentos7\u7cfb\u7edf\u3002"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"OMSA CLI\u5e38\u7528\u547d\u4ee4"})}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770bbmc\u4ee5\u53cabios\u8bbe\u7f6e\u7684\u67e5\u770b\u65b9\u6cd5\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"/opt/dell/srvadmin/sbin/srvadmin-services.sh start\n/opt/dell/srvadmin/sbin/omreport chassis bmc\n/opt/dell/srvadmin/sbin/omreport chassis bmc config=nic\n/opt/dell/srvadmin/sbin/omreport chassis biossetup\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u5176\u4ed6\u76f8\u5173\u547d\u4ee4\u53ef\u4ee5\u4f7f\u7528",(0,i.jsx)(n.code,{children:"/opt/dell/srvadmin/sbin/omreport -?"}),"\u6765\u83b7\u53d6\u547d\u4ee4\u5e2e\u52a9\u3002\u5176\u4ed6\u547d\u4ee4\u53ef\u4ee5\u53c2\u8003",(0,i.jsx)(n.a,{href:"https://www.cnblogs.com/LuckWJL/p/10154732.html",children:"\u6234\u5c14\u670d\u52a1\u5668\u4f7f\u7528omreport\uff08OMSA\uff09\u67e5\u770b\u76d1\u63a7\u786c\u4ef6\u4fe1\u606f"})]}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u8be2\u6027\u80fd\u6a21\u5f0f\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"[root@localhost ~]# /opt/dell/srvadmin/sbin/omreport chassis biossetup |sed -n '/System Profile Settings/,/System Security/p'\nSystem Profile Settings\n------------------------------------------\nSystem Profile                                    : Performance\nCPU Power Management                              : Maximum Performance\nMemory Frequency                                  : Maximum Performance\nTurbo Boost                                       : Enabled\nC1E                                               : Disabled\nC States                                          : Disabled\nMonitor/Mwait                                     : Enabled\nMemory Patrol Scrub                               : Standard\nMemory Refresh Rate                               : 1x\nMemory Operating Voltage                          : Auto\nCollaborative CPU Performance Control             : Disabled\n"})}),"\n",(0,i.jsx)(n.p,{children:"racadm\u4e5f\u662f\u53ef\u4ee5\u83b7\u53d6\u5230\u8fd9\u4e2a\u4fe1\u606f\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"[root@localhost ~]# /opt/dell/srvadmin/bin/idracadm7 get BIOS.SysProfileSettings\n[Key=BIOS.Setup.1-1#SysProfileSettings]\nMemFrequency=MaxPerf\nMemPatrolScrub=Standard\nMemRefreshRate=1x\nProcC1E=Disabled\nProcCStates=Disabled\nProcPwrPerf=MaxPerf\nProcTurboMode=Enabled\nSysProfile=PerfOptimized\n"})}),"\n",(0,i.jsx)(n.p,{children:"syscfg\u4e5f\u662f\u53ef\u4ee5\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"[root@localhost ~]# /opt/dell/toolkit/bin/syscfg --ProcPwrPerf\nProcPwrPerf=maxperf\n[root@localhost ~]# /opt/dell/toolkit/bin/syscfg --SysProfile\nSysProfile=perfoptimized\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u53c2\u8003\uff1a"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://blog.51cto.com/nolinux/1664664",children:"\u670d\u52a1\u5668\u786c\u4ef6\u76d1\u63a7\u4e4bOMSA"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"http://www.madown.com/2017/05/23/81/",children:"DELL OpenManage Server Administrator\u5b89\u88c5\u53ca\u4f7f\u7528"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"http://linux.dell.com/repo/hardware/latest/",children:"dell omsa\u5b98\u65b9\u5e97"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://salogs.com/news/2018/06/21/install-dell-omsa/",children:"CentOS 7.x \u5b89\u88c5 Dell OMSA \u4e0e\u76d1\u63a7"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://www.dell.com/support/home/us/en/04/product-support/product/openmanage-server-administrator-v9.3/docs",children:"dell omsa\u5b98\u65b9\u6587\u6863"})}),"\n",(0,i.jsx)(n.h2,{id:"mysql-\u65e5\u5fd7\u4e3autc\u65f6\u95f4",children:"mysql \u65e5\u5fd7\u4e3autc\u65f6\u95f4"}),"\n",(0,i.jsx)(n.p,{children:"\u8bbe\u7f6e\u4e3a\u7cfb\u7edf\u65f6\u95f4\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u901a\u8fc7\u914d\u7f6e\u6587\u4ef6"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",metastring:"title=my.cnf",children:"[mysqld]\nlog_timestamps=SYSTEM\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u5728\u7ebf\u8bbe\u7f6e"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"set global log_timestamps=SYSTEM;\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770b\u5f53\u524d\u914d\u7f6e"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"show global variables like 'log_timestamps';\n"})}),"\n",(0,i.jsx)(n.h2,{id:"kvm\u5d4c\u5957\u865a\u62df\u5316",children:"kvm\u5d4c\u5957\u865a\u62df\u5316"}),"\n",(0,i.jsxs)(n.p,{children:["\u865a\u62df\u673acpu\u6a21\u5f0f\u5fc5\u987b\u4e3a ",(0,i.jsx)(n.code,{children:"host-modle"})," \u6216 ",(0,i.jsx)(n.code,{children:"host-passthrough"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"# \u67e5\u770b\u662f\u5426\u542f\u7528\ncat /sys/module/kvm_intel/parameters/nested\n\n\n# \u6dfb\u52a0\u542f\u7528\u914d\u7f6e\nvi /etc/modprobe.d/kvm-nested.conf\noptions kvm-intel nested=1\noptions kvm-intel enable_shadow_vmcs=1\noptions kvm-intel enable_apicv=1\noptions kvm-intel ept=1\n\n\n# \u91cd\u8f7d\u6a21\u5757\nmodprobe -r kvm_intel\nmodprobe -a kvm_intel\n"})}),"\n",(0,i.jsx)(n.h2,{id:"run-django\u811a\u672c",children:"run django\u811a\u672c"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",metastring:"title=run.sh",children:"#!/bin/bash\n\nproject_name='ds_backend'\npid_path=\"$project_name.pid\"\nlogs_path='logs'\n\nsource  venv/bin/activate\n\n\nstop(){\n    [ -f $pid_path ] && pid=`cat $pid_path` && [ `ps -ef|grep $pid|grep -v grep|wc -l` -gt 0 ] && kill $pid || echo \"$project_name not runing\"\n}\n\n\nstart(){\n    [ ! -d $logs_path ] && mkdir $logs_path\n    gunicorn -p $pid_path --log-file $logs_path/$project_name.log --access-logfile '-' --capture-output -D $project_name.wsgi\n}\n\n\nstatus(){\n    [ -f $pid_path ] && pid=`cat $pid_path` && [ `ps -ef|grep $pid|grep -v grep|wc -l` -gt 0 ] && echo \"$project_name is runing: $pid\" || echo \"$project_name not runing\"\n}\n\n\nrestart(){\n    [ -f $pid_path ] && pid=`cat $pid_path` && [ `ps -ef|grep $pid|grep -v grep|wc -l` -gt 0 ] && kill $pid\n    start\n}\n\n\ncase $1 in\nstart) restart;;\nstop) stop;;\nstatus) status;;\nrestart) restart;;\n*)\necho 'Usage: sh $0 {start|stop|status|restart}'\n;;\nesac\n"})}),"\n",(0,i.jsx)(n.h2,{id:"nginx\u9759\u6001\u8d44\u6e90\u914d\u7f6e",children:"nginx\u9759\u6001\u8d44\u6e90\u914d\u7f6e"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",metastring:"title=nginx.conf",children:"server {\n    # \u56fe\u7247\u3001\u89c6\u9891\n    location ~ .*\\.(gif|jpg|jpeg|png|bmp|swf|flv|mp4|ico)$ {\n      expires 30d;\n      access_log off;\n    }\n    # \u5b57\u4f53\n    location ~ .*\\.(eot|ttf|otf|woff|svg)$ {\n      expires 30d;\n      access_log off;\n    }\n    # js\u3001css\n    location ~ .*\\.(js|css)?$ {\n      expires 7d;\n      access_log off;\n    }\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"zabbix-\u5fae\u4fe1\u811a\u672c",children:"zabbix \u5fae\u4fe1\u811a\u672c"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",metastring:"title=wechat.sh",children:'#!/bin/bash\n\n\n#https://work.weixin.qq.com/api/doc/90000/90135/90236#%E6%96%87%E6%9C%AC%E6%B6%88%E6%81%AF\n\n\nCorpID=\'wxe464964f5ce6d80d\'\nSecret=\'NUJkJytNlone5r0qDUT6Rua082yePex4uO1vazLd-UA\'\nGURL="https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid=$CorpID&corpsecret=$Secret"\nGtoken=$(/usr/bin/curl -s -G $GURL | awk -F\\" \'{print $10}\')\nPURL="https://qyapi.weixin.qq.com/cgi-bin/message/send?access_token=$Gtoken"\n\n\n\n\n/usr/bin/curl --data-ascii "$(cat <<EOF\n{\n  "touser": "${1//,/|}",\n  "toparty": "2",\n  "msgtype": "text",\n  "agentid": 1,\n  "text": {"content": "$2\\n\\n${3//\\"/}"}\n}\nEOF\n)" $PURL\n'})}),"\n",(0,i.jsx)(n.h2,{id:"jenkins-pipeline",children:"jenkins pipeline"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"pipeline {  \n  agent {\n    // \u6267\u884c\u8282\u70b9\n    node {\n      label 'master'\n    }\n  }\n   \n  // \u5b9a\u4e49\u73af\u5883\u53d8\u91cf\n  environment {\n    // \u60a8 Docker Hub \u4ed3\u5e93\u7684\u5730\u5740\n    REGISTRY = 'docker.io'\n    // \u60a8\u7684 Docker Hub \u7528\u6237\u540d\n    DOCKERHUB_USERNAME = 'yyxx'\n    // Docker \u955c\u50cf\u540d\u79f0\n    APP_NAME = 'devops-go-sample'\n    // \u4f7f\u7528credentials \u83b7\u53d6KubeSphere\u521b\u5efa\u7684\u51ed\u8bc1\uff0c docker \u662f\u60a8\u5728 KubeSphere \u7528 Docker Hub \u8bbf\u95ee\u4ee4\u724c\u521b\u5efa\u7684\u51ed\u8bc1 ID\n    DOCKERHUB_CREDENTIAL = credentials('docker')\n    // \u60a8\u5728 KubeSphere \u521b\u5efa\u7684 kubeconfig \u51ed\u8bc1 ID\n    KUBECONFIG_CREDENTIAL_ID = 'kubeconfig'\n    // \u60a8\u5728 KubeSphere \u521b\u5efa\u7684\u9879\u76ee\u540d\u79f0\uff0c\u4e0d\u662f DevOps \u5de5\u7a0b\u540d\u79f0\n    PROJECT_NAME = 'ops'\n  }\n  \n  // \u91cd\u8bd53\u6b21\n  options { retry(3) }\n   \n  stages {\n    // \u6b65\u9aa41\n    stage('docker login') {\n      steps{\n        sh 'echo $DOCKERHUB_CREDENTIAL_PSW  | docker login -u $DOCKERHUB_CREDENTIAL_USR --password-stdin'\n      }  \n    }\n   \n    // \u6b65\u9aa42\n    stage('build & push') {\n      steps {\n        sh 'git clone https://github.com/GavinTan/devops-go-sample.git'\n        sh 'cd devops-go-sample && docker build -t $REGISTRY/$DOCKERHUB_USERNAME/$APP_NAME .'\n        sh 'docker push $REGISTRY/$DOCKERHUB_USERNAME/$APP_NAME'\n      }\n    }\n  }\n    \n  post {\n    // \u5931\u8d25\u540e\u6267\u884c\n    failure {\n      echo '123'\n      sh 'rm -rf devops-go-sample'\n    }\n  }\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u7ec8\u7aef\u5b57\u4f53",children:"\u7ec8\u7aef\u5b57\u4f53"}),"\n",(0,i.jsx)(n.p,{children:"\u6dfb\u52a0\u5b57\u4f53\u5230/usr/share/fonts"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://raw.githubusercontent.com/GavinTan/files/master/picgo/dejavu-fonts-ttf-2.37.zip",children:"dejavu-fonts-ttf-2.37.zip"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://raw.githubusercontent.com/GavinTan/files/master/picgo/Menlo.zip",children:"Menlo.zip"})}),"\n",(0,i.jsx)(n.p,{children:"\u751f\u6210\u5b57\u4f53\u7d22\u5f15\u7f13\u5b58"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"mkfontscale && mkfontdir && fc-cache\n"})}),"\n",(0,i.jsx)(n.h2,{id:"django\u5bfc\u5165\u9ed8\u8ba4\u6570\u636e",children:"django\u5bfc\u5165\u9ed8\u8ba4\u6570\u636e"}),"\n",(0,i.jsx)(n.p,{children:"JSON\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",metastring:"title=data.json",children:'[\n  {\n    "model": "myapp.person",\n    "pk": 1,\n    "fields": {\n      "first_name": "John",\n      "last_name": "Lennon"\n    }\n  },\n  {\n    "model": "myapp.person",\n    "pk": 2,\n    "fields": {\n      "first_name": "Paul",\n      "last_name": "McCartney"\n    }\n  }\n]\n'})}),"\n",(0,i.jsx)(n.p,{children:"YAML\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:"title=data.yml",children:"- model: myapp.person\n  pk: 1\n  fields:\n    first_name: John\n    last_name: Lennon\n- model: myapp.person\n  pk: 2\n  fields:\n    first_name: Paul\n    last_name: McCartney\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5bfc\u5165\u6570\u636e\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"python manage.py loaddata data.json\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u53c2\u8003\uff1a",(0,i.jsx)(n.a,{href:"https://docs.djangoproject.com/zh-hans/3.2/howto/initial-data/",children:"https://docs.djangoproject.com/zh-hans/3.2/howto/initial-data/"})]}),"\n",(0,i.jsx)(n.h2,{id:"mysql\u67e5\u770b\u6570\u636e\u5e93\u5360\u7528\u5927\u5c0f",children:"mysql\u67e5\u770b\u6570\u636e\u5e93\u5360\u7528\u5927\u5c0f"}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u51fa\u6240\u6709\u7684\u6570\u636e\u5e93\u7684\u5360\u7528\u7a7a\u95f4\u662f\u591a\u5c11MB"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"select\ntable_schema as '\u6570\u636e\u5e93',\nsum(table_rows) as '\u8bb0\u5f55\u6570',\nsum(truncate(data_length/1024/1024, 2)) as '\u6570\u636e\u5bb9\u91cf(MB)',\nsum(truncate(index_length/1024/1024, 2)) as '\u7d22\u5f15\u5bb9\u91cf(MB)'from information_schema.tables\ngroup by table_schema\norder by sum(data_length) desc, sum(index_length) desc;\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770b\u6240\u6709\u7684\u6570\u636e\u5e93\u4ee5\u53ca\u8be5\u6570\u636e\u5e93\u4e0b\u5404\u4e2a\u8868\u7684\u5360\u7528\u7684\u7a7a\u95f4\u662f\u591a\u5c11MB\u4ee5\u53ca\u5404\u4e2a\u8868\u7684\u8bb0\u5f55\u6570"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"select\ntable_schema as '\u6570\u636e\u5e93',\ntable_name as '\u8868\u540d',\ntable_rows as '\u8bb0\u5f55\u6570',\ntruncate(data_length/1024/1024, 2) as '\u6570\u636e\u5bb9\u91cf(MB)',\ntruncate(index_length/1024/1024, 2) as '\u7d22\u5f15\u5bb9\u91cf(MB)'from information_schema.tables\norder by data_length desc, index_length desc;\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770b\u67d0\u4e2a\u6570\u636e\u5e93\u7684\u8bb0\u5f55\u6570\u4ee5\u53ca\u5360\u7528\u7684\u7a7a\u95f4\u662f\u591a\u5c11MB"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"select\ntable_schema as '\u6570\u636e\u5e93',\nsum(table_rows) as '\u8bb0\u5f55\u6570',\nsum(truncate(data_length/1024/1024, 2)) as '\u6570\u636e\u5bb9\u91cf(MB)',\nsum(truncate(index_length/1024/1024, 2)) as '\u7d22\u5f15\u5bb9\u91cf(MB)'from information_schema.tables\nwhere table_schema='mysql';\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770b\u67d0\u4e2a\u6570\u636e\u5e93\u7684\u5404\u4e2a\u8868\u5360\u7528\u7684\u7a7a\u95f4\u662f\u591a\u5c11MB"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"select\ntable_schema as '\u6570\u636e\u5e93',\ntable_name as '\u8868\u540d',\ntable_rows as '\u8bb0\u5f55\u6570',\ntruncate(data_length/1024/1024, 2) as '\u6570\u636e\u5bb9\u91cf(MB)',\ntruncate(index_length/1024/1024, 2) as '\u7d22\u5f15\u5bb9\u91cf(MB)'from information_schema.tables\nwhere table_schema='mysql'order by data_length desc, index_length desc;\n"})}),"\n",(0,i.jsx)(n.h2,{id:"sendmail\u53d1\u9001\u90ae\u4ef6",children:"sendmail\u53d1\u9001\u90ae\u4ef6"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",metastring:"titile=sendMail.sh",children:'#!/bin/bash\nSMTP_server=\'smtp.163.com\'    # SMTP\u670d\u52a1\u5668\nusername=\'good_zabbix@163.com\'     # \u7528\u6237\u540d\npassword=\'URMAXCTGAXGLFIVQ\'             # \u5bc6\u7801\nfrom_email_address=\'good_zabbix@163.com\' # \u53d1\u4ef6\u4ebaEmail\u5730\u5740\nto_email_address="$1"               # \u6536\u4ef6\u4ebaEmail\u5730\u5740\uff0czabbix\u4f20\u5165\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\nmessage_subject_utf8="$2"           # \u90ae\u4ef6\u6807\u9898\uff0czabbix\u4f20\u5165\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\nmessage_body_utf8="$3"              # \u90ae\u4ef6\u5185\u5bb9\uff0czabbix\u4f20\u5165\u7684\u7b2c\u4e09\u4e2a\u53c2\u6570\n\n\n# \u8f6c\u6362\u90ae\u4ef6\u6807\u9898\u4e3aGB2312\uff0c\u89e3\u51b3\u90ae\u4ef6\u6807\u9898\u542b\u6709\u4e2d\u6587\uff0c\u6536\u5230\u90ae\u4ef6\u663e\u793a\u4e71\u7801\u7684\u95ee\u9898\u3002\nmessage_subject_gb2312=`iconv -t GB2312 -f UTF-8 << EOF\n$message_subject_utf8\nEOF`\n[ $? -eq 0 ] && message_subject="$message_subject_gb2312" || message_subject="$message_subject_utf8"\n\n\n# \u8f6c\u6362\u90ae\u4ef6\u5185\u5bb9\u4e3aGB2312\nmessage_body_gb2312=`iconv -t GB2312 -f UTF-8 << EOF\n$message_body_utf8\nEOF`\n[ $? -eq 0 ] && message_body="$message_body_gb2312" || message_body="$message_body_utf8"\n\n\n# \u53d1\u9001\u90ae\u4ef6\nsendEmail=\'/usr/local/sendEmail/sendEmail\'\n$sendEmail -s "$SMTP_server" -xu "$username" -xp "$password" -f "$from_email_address" -t "$to_email_address" -u "$message_subject" -m "$message_body" -o message-content-type=text -o message-charset=gb2312 -o tls=no\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://raw.githubusercontent.com/GavinTan/files/master/picgo/sendEmail-v1.56.tar.gz",children:"sendEmail-v1.56.tar.gz"})}),"\n",(0,i.jsx)(n.h2,{id:"\u751f\u6210\u968f\u673a\u5bc6\u7801",children:"\u751f\u6210\u968f\u673a\u5bc6\u7801"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"tr -dc \\~\\`\\!@#\\$\\%\\^\\&\\*\\(\\)\\-\\_\\+\\=\\|\\\\\\?\\/\\.\\>\\,\\<A-Za-z0-9_ < /dev/urandom|head -c *|xargs\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"pwgen * 1\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"mkpasswd -l *\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"openssl rand -base64 *\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"*"}),"\u4e3a\u591a\u5c11\u4f4d\u6570"]}),"\n",(0,i.jsx)(n.h2,{id:"django\u91cd\u5efa\u8868",children:"django\u91cd\u5efa\u8868"}),"\n",(0,i.jsx)(n.p,{children:"\u5220\u9664\u6570\u636e\u5e93\u6240\u6709\u8868\u4ee5\u53caapp\u76ee\u5f55\u4e0bmigrations\u6587\u4ef6\u5939\uff0c\u91cd\u65b0\u6267\u884c\u4e0b\u9762\u547d\u4ee4"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"python manage.py makemigrations --empt appname\npython manage.py makemigrations\npython manage.py migrate\n"})}),"\n",(0,i.jsx)(n.h2,{id:"tlbb",children:"tlbb"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/yulinzhihou/gstlenv",children:"https://github.com/yulinzhihou/gstlenv"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://gitee.com/zhao-kai135/one-key",children:"https://gitee.com/zhao-kai135/one-key"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/liuguangw/billing_go",children:"https://github.com/liuguangw/billing_go"})}),"\n",(0,i.jsx)(n.h2,{id:"es\u4fee\u6539\u65e5\u5fd7\u6309\u5929\u6570\u4fdd\u7559",children:"es\u4fee\u6539\u65e5\u5fd7\u6309\u5929\u6570\u4fdd\u7559"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",metastring:"title=log4j2.properties",children:"# \u9ed8\u8ba4\u662f\u6309\u5927\u5c0f2GB\n# appender.rolling.strategy.action.condition.nested_condition.type = IfAccumulatedFileSize\n# appender.rolling.strategy.action.condition.nested_condition.exceeds = 2GB\n\nappender.rolling.strategy.action.condition.nested_condition.type = IfLastModified\nappender.rolling.strategy.action.condition.nested_condition.age = 7D\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u6e05\u7406cache\u5360\u7528\u5927\u91cf\u5185\u5b58",children:"\u6e05\u7406cache\u5360\u7528\u5927\u91cf\u5185\u5b58"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"              total        used        free      shared  buff/cache   available\nMem:          125Gi       999Mi       120Gi       4.0Gi       4.2Gi       119Gi\nSwap:         8.0Gi       3.0Mi       8.0Gi\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"available"}),"\u8868\u793a\u5e94\u7528\u7a0b\u5e8f\u8fd8\u53ef\u4ee5\u7533\u8bf7\u5230\u7684\u5185\u5b58"]}),"\n",(0,i.jsx)(n.p,{children:"\u9996\u5148\u4e86\u89e3\u4e0b\u4e24\u4e2a\u6982\u5ff5buff\u548ccache"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"buff\uff08Buffer Cache\uff09\u662f\u4e00\u79cdI/O\u7f13\u5b58\uff0c\u7528\u4e8e\u5185\u5b58\u548c\u786c\u76d8\u7684\u7f13\u51b2\uff0c\u662fio\u8bbe\u5907\u7684\u8bfb\u5199\u7f13\u51b2\u533a\u3002\u6839\u636e\u78c1\u76d8\u7684\u8bfb\u5199\u8bbe\u8ba1\u7684\uff0c\u628a\u5206\u6563\u7684\u5199\u64cd\u4f5c\u96c6\u4e2d\u8fdb\u884c\uff0c\u51cf\u5c11\u78c1\u76d8\u788e\u7247\u548c\u786c\u76d8\u7684\u53cd\u590d\u5bfb\u9053\uff0c\u4ece\u800c\u63d0\u9ad8\u7cfb\u7edf\u6027\u80fd\u3002"}),"\n",(0,i.jsx)(n.li,{children:"cache\uff08Page Cache\uff09\u662f\u4e00\u79cd\u9ad8\u901f\u7f13\u5b58\uff0c\u7528\u4e8eCPU\u548c\u5185\u5b58\u4e4b\u95f4\u7684\u7f13\u51b2 ,\u662f\u6587\u4ef6\u7cfb\u7edf\u7684cache\u3002\u628a\u8bfb\u53d6\u8fc7\u7684\u6570\u636e\u4fdd\u5b58\u8d77\u6765\uff0c\u91cd\u65b0\u8bfb\u53d6\u65f6\u82e5\u547d\u4e2d\uff08\u627e\u5230\u9700\u8981\u7684\u6570\u636e\uff09\u5c31\u4e0d\u8981\u53bb\u8bfb\u786c\u76d8\u4e86\uff0c\u82e5\u6ca1\u6709\u547d\u4e2d\u5c31\u8bfb\u786c\u76d8\u3002\u5176\u4e2d\u7684\u6570\u636e\u4f1a\u6839\u636e\u8bfb\u53d6\u9891\u7387\u8fdb\u884c\u7ec4\u7ec7\uff0c\u628a\u6700\u9891\u7e41\u8bfb\u53d6\u7684\u5185\u5bb9\u653e\u5728\u6700\u5bb9\u6613\u627e\u5230\u7684\u4f4d\u7f6e\uff0c\u628a\u4e0d\u518d\u8bfb\u7684\u5185\u5bb9\u4e0d\u65ad\u5f80\u540e\u6392\uff0c\u76f4\u81f3\u4ece\u4e2d\u5220\u9664\u3002"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u5b83\u4eec\u90fd\u662f\u5360\u7528\u5185\u5b58\u3002\u4e24\u8005\u90fd\u662fRAM\u4e2d\u7684\u6570\u636e\u3002\u7b80\u5355\u6765\u8bf4\uff0cbuff\u662f\u5373\u5c06\u8981\u88ab\u5199\u5165\u78c1\u76d8\u7684\uff0c\u800ccache\u662f\u88ab\u4ece\u78c1\u76d8\u4e2d\u8bfb\u51fa\u6765\u7684\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u76ee\u524d\u8fdb\u7a0b\u6b63\u5728\u5b9e\u9645\u88ab\u4f7f\u7528\u7684\u5185\u5b58\u7684\u8ba1\u7b97\u65b9\u5f0f\u4e3aused-buff/cache\uff0c\u901a\u8fc7\u91ca\u653ebuff/cache\u5185\u5b58\u540e\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u4f7f\u7528\u7684\u5185\u5b58\u91cffree+buff/cache\u3002\u901a\u5e38\u6211\u4eec\u5728\u9891\u7e41\u5b58\u53d6\u6587\u4ef6\u540e\uff0c\u4f1a\u5bfc\u81f4buff/cache\u7684\u5360\u7528\u91cf\u589e\u9ad8\u3002"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Linux\u9ed8\u8ba4\u4f7f\u7528\u7684\u662flazy\u6a21\u5f0f\uff0c\u5373\u5185\u5b58\u5982\u679c\u8fd8\u591f\u7528\uff0c\u5219\u4e0d\u4f1a\u4e3b\u52a8\u91ca\u653e\u5f53\u524d\u7684\u5360\u7528\u7684buffer\u548ccache\uff0c\u5982\u679c\u9700\u8981\u5185\u5b58\uff0c\u5219\u4f1a\u81ea\u52a8\u91ca\u653ebuffer\u548ccache\uff0c\u6240\u4ee5\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0ccache\u5360\u7528\u9ad8\u4e0d\u4f1a\u5bf9\u7cfb\u7edf\u9020\u6210\u5f71\u54cd\u3002"})}),"\n",(0,i.jsx)(n.p,{children:"\u624b\u52a8\u6e05\u9664\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"sync;sync;sync\necho 3 > /proc/sys/vm/drop_caches\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"sync\uff1a\u5c06\u6240\u6709\u672a\u5199\u7684\u7cfb\u7edf\u7f13\u51b2\u533a\u5199\u5230\u78c1\u76d8\u4e2d\uff0c\u5305\u542b\u5df2\u4fee\u6539\u7684i-node\u3001\u5df2\u5ef6\u8fdf\u7684\u5757I/O\u548c\u8bfb\u5199\u6620\u5c04\u6587\u4ef6"}),"\n",(0,i.jsx)(n.li,{children:"echo 1 > /proc/sys/vm/drop_caches\uff1a\u6e05\u9664page cache"}),"\n",(0,i.jsx)(n.li,{children:"echo 2 > /proc/sys/vm/drop_caches\uff1a\u6e05\u9664\u56de\u6536slab\u5206\u914d\u5668\u4e2d\u7684\u5bf9\u8c61\uff08\u5305\u62ec\u76ee\u5f55\u9879\u7f13\u5b58\u548cinode\u7f13\u5b58\uff09\u3002slab\u5206\u914d\u5668\u662f\u5185\u6838\u4e2d\u7ba1\u7406\u5185\u5b58\u7684\u4e00\u79cd\u673a\u5236\uff0c\u5176\u4e2d\u5f88\u591a\u7f13\u5b58\u6570\u636e\u5b9e\u73b0\u90fd\u662f\u7528\u7684pagecache\u3002"}),"\n",(0,i.jsx)(n.li,{children:"echo 3 > /proc/sys/vm/drop_caches\uff1a\u6e05\u9664pagecache\u548cslab\u5206\u914d\u5668\u4e2d\u7684\u7f13\u5b58\u5bf9\u8c61\u3002/proc/sys/vm/drop_caches\u7684\u503c,\u9ed8\u8ba4\u4e3a0"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u5b9a\u65f6\u6e05\u9664\u811a\u672c\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",metastring:"title=cleanCache.sh",children:'#!/bin/bash \n#\u6bcf\u4e24\u5c0f\u65f6\u6e05\u9664\u4e00\u6b21\u7f13\u5b58\necho "\u5f00\u59cb\u6e05\u9664\u7f13\u5b58"\nsync;sync;sync #\u5199\u5165\u786c\u76d8\uff0c\u9632\u6b62\u6570\u636e\u4e22\u5931\nsleep 10 #\u5ef6\u8fdf10\u79d2\necho 1 > /proc/sys/vm/drop_caches\necho 2 > /proc/sys/vm/drop_caches\necho 3 > /proc/sys/vm/drop_caches\n'})}),"\n",(0,i.jsx)(n.h2,{id:"nfs",children:"nfs"}),"\n",(0,i.jsx)(n.p,{children:"\u5b89\u88c5\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"yum -y install nfs-utils\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u914d\u7f6e\u6587\u4ef6\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",metastring:"title=/etc/exports",children:"/data/nfs-data 172.16.7.0/24(rw,sync,no_root_squash)\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u542f\u52a8\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"systemctl enable rpcbind\nsystemctl enable nfs\n\nsystemctl start rpcbind\nsystemctl start nfs\n\nfirewall-cmd --zone=public --permanent --add-service={rpc-bind,mountd,nfs}success\nfirewall-cmd --reload\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5e38\u7528\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"# \u91cd\u65b0\u52a0\u8f7d/etc/exports\nexportfs -r\n\n# \u67e5\u770bnfs\u670d\u52a1\u5668\u76ee\u5f55\u5217\u8868\nshowmount -e 172.16.7.14\n\n# \u6302\u8f7d\nmount -t nfs 172.16.7.14:/data/nfs-data /data/test\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u914d\u7f6e\u53c2\u6570\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"172.16.7.0/24\uff1a \u8bbf\u95ee\u7f51\u6bb5\u9650\u5236\uff1b"}),"\n",(0,i.jsx)(n.li,{children:"ro\uff1a\u5171\u4eab\u76ee\u5f55\u53ea\u8bfb\uff1b"}),"\n",(0,i.jsx)(n.li,{children:"rw\uff1a\u5171\u4eab\u76ee\u5f55\u53ef\u8bfb\u53ef\u5199\uff1b"}),"\n",(0,i.jsx)(n.li,{children:"all_squash\uff1a\u6240\u6709\u8bbf\u95ee\u7528\u6237\u90fd\u6620\u5c04\u4e3a\u533f\u540d\u7528\u6237\u6216\u7528\u6237\u7ec4\uff1b"}),"\n",(0,i.jsx)(n.li,{children:"no_all_squash\uff08\u9ed8\u8ba4\uff09\uff1a\u8bbf\u95ee\u7528\u6237\u5148\u4e0e\u672c\u673a\u7528\u6237\u5339\u914d\uff0c\u5339\u914d\u5931\u8d25\u540e\u518d\u6620\u5c04\u4e3a\u533f\u540d\u7528\u6237\u6216\u7528\u6237\u7ec4\uff1b"}),"\n",(0,i.jsx)(n.li,{children:"root_squash\uff08\u9ed8\u8ba4\uff09\uff1a\u5c06\u6765\u8bbf\u7684root\u7528\u6237\u6620\u5c04\u4e3a\u533f\u540d\u7528\u6237\u6216\u7528\u6237\u7ec4\uff1b"}),"\n",(0,i.jsx)(n.li,{children:"no_root_squash\uff1a\u6765\u8bbf\u7684root\u7528\u6237\u4fdd\u6301root\u5e10\u53f7\u6743\u9650\uff1b"}),"\n",(0,i.jsx)(n.li,{children:"anonuid=UID\uff1a\u6307\u5b9a\u533f\u540d\u8bbf\u95ee\u7528\u6237\u7684\u672c\u5730\u7528\u6237UID\uff0c\u9ed8\u8ba4\u4e3anfsnobody\uff0865534\uff09\uff1b"}),"\n",(0,i.jsx)(n.li,{children:"anongid=GID\uff1a\u6307\u5b9a\u533f\u540d\u8bbf\u95ee\u7528\u6237\u7684\u672c\u5730\u7528\u6237\u7ec4GID\uff0c\u9ed8\u8ba4\u4e3anfsnobody\uff0865534\uff09\uff1b"}),"\n",(0,i.jsx)(n.li,{children:"secure\uff08\u9ed8\u8ba4\uff09\uff1a\u9650\u5236\u5ba2\u6237\u7aef\u53ea\u80fd\u4ece\u5c0f\u4e8e1024\u7684tcp/ip\u7aef\u53e3\u8fde\u63a5\u670d\u52a1\u5668\uff1b"}),"\n",(0,i.jsx)(n.li,{children:"insecure\uff1a\u5141\u8bb8\u5ba2\u6237\u7aef\u4ece\u5927\u4e8e1024\u7684tcp/ip\u7aef\u53e3\u8fde\u63a5\u670d\u52a1\u5668\uff1b"}),"\n",(0,i.jsx)(n.li,{children:"sync\uff1a\u5c06\u6570\u636e\u540c\u6b65\u5199\u5165\u5185\u5b58\u7f13\u51b2\u533a\u4e0e\u78c1\u76d8\u4e2d\uff0c\u6548\u7387\u4f4e\uff0c\u4f46\u53ef\u4ee5\u4fdd\u8bc1\u6570\u636e\u7684\u4e00\u81f4\u6027\uff1b"}),"\n",(0,i.jsx)(n.li,{children:"async\uff1a\u5c06\u6570\u636e\u5148\u4fdd\u5b58\u5728\u5185\u5b58\u7f13\u51b2\u533a\u4e2d\uff0c\u5fc5\u8981\u65f6\u624d\u5199\u5165\u78c1\u76d8\uff1b"}),"\n",(0,i.jsx)(n.li,{children:"wdelay\uff08\u9ed8\u8ba4\uff09\uff1a\u68c0\u67e5\u662f\u5426\u6709\u76f8\u5173\u7684\u5199\u64cd\u4f5c\uff0c\u5982\u679c\u6709\u5219\u5c06\u8fd9\u4e9b\u5199\u64cd\u4f5c\u4e00\u8d77\u6267\u884c\uff0c\u8fd9\u6837\u53ef\u4ee5\u63d0\u9ad8\u6548\u7387\uff1b"}),"\n",(0,i.jsx)(n.li,{children:"no_wdelay\uff1a\u82e5\u6709\u5199\u64cd\u4f5c\u5219\u7acb\u5373\u6267\u884c\uff0c\u5e94\u4e0esync\u914d\u5408\u4f7f\u7528\uff1b"}),"\n",(0,i.jsx)(n.li,{children:"subtree_check\uff08\u9ed8\u8ba4\uff09 \uff1a\u82e5\u8f93\u51fa\u76ee\u5f55\u662f\u4e00\u4e2a\u5b50\u76ee\u5f55\uff0c\u5219nfs\u670d\u52a1\u5668\u5c06\u68c0\u67e5\u5176\u7236\u76ee\u5f55\u7684\u6743\u9650\uff1b"}),"\n",(0,i.jsx)(n.li,{children:"no_subtree_check \uff1a\u5373\u4f7f\u8f93\u51fa\u76ee\u5f55\u662f\u4e00\u4e2a\u5b50\u76ee\u5f55\uff0cnfs\u670d\u52a1\u5668\u4e5f\u4e0d\u68c0\u67e5\u5176\u7236\u76ee\u5f55\u7684\u6743\u9650\uff0c\u8fd9\u6837\u53ef\u4ee5\u63d0\u9ad8\u6548\u7387\uff1b"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["\u53c2\u8003\uff1a",(0,i.jsx)(n.a,{href:"https://segmentfault.com/a/1190000008629932",children:"https://segmentfault.com/a/1190000008629932"})]}),"\n",(0,i.jsx)(n.h2,{id:"systemd-\u6a21\u677f",children:"systemd \u6a21\u677f"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"cat << EOF > /etc/systemd/system/sshd.service\n[Unit]\nDescription=OpenSSH server daemon\nDocumentation=man:sshd(8) man:sshd_config(5)\nAfter=network.target sshd-keygen.service\nWants=sshd-keygen.service\n\n\n[Service]\nEnvironmentFile=/etc/sysconfig/sshd\nExecStart=/usr/sbin/sshd -D $OPTIONS\nExecReload=/bin/kill -HUP $MAINPID\nType=simple\nKillMode=process\nRestart=on-failure\nRestartSec=42s\n\n\n[Install]\nWantedBy=multi-user.target\nEOF\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"cat << EOF > /etc/systemd/system/elasticsearch_exporter.service\n[Unit]\nDescription=Prometheus elasticsearch_exporter\nAfter=local-fs.target network-online.target network.target\nWants=local-fs.target network-online.target network.target\n\n\n[Service]\nUser=root\nNice=10\nExecStart = /usr/local/bin/elasticsearch_exporter -es.all -es.indices -es.timeout 20s\nExecStop= /usr/bin/killall elasticsearch_exporter\n\n\n[Install]\nWantedBy=default.target\nEOF\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://raw.githubusercontent.com/GavinTan/files/master/picgo/logstash.service",children:"logstash.service"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://raw.githubusercontent.com/GavinTan/files/master/picgo/elasticsearch.service",children:"elasticsearch.service"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://raw.githubusercontent.com/GavinTan/files/master/picgo/bao.service",children:"bao.service"})}),"\n",(0,i.jsx)(n.h2,{id:"git-\u521d\u59cb\u5316\u63d0\u4ea4",children:"git \u521d\u59cb\u5316\u63d0\u4ea4"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'#\u521d\u59cb\u5316\u76ee\u5f55\ngit init\n\n#\u6dfb\u52a0\u63d0\u4ea4\u7684\u6587\u4ef6\u76ee\u5f55\ngit add .\n\n#\u6253tag\u6807\u7b7einit\ngit tag init\n\n#\u672c\u5730\u63d0\u4ea4\ngit commit -m "first commit"\n\n#\u6dfb\u52a0\u4ed3\u5e93\ngit remote add origin https://github.com/GavinTan/w-backend.git\n\n#\u63d0\u4ea4master\u5206\u652f\ngit push --set-upstream origin master init\n'})}),"\n",(0,i.jsx)(n.h2,{id:"zabbix\u542f\u52a8\u4e2d\u6587",children:"zabbix\u542f\u52a8\u4e2d\u6587"}),"\n",(0,i.jsx)(n.p,{children:"\u4fee\u6539\u6587\u4ef6\u5185\u5bb9\uff0c\u5c06zh_cn\u540e\u9762\u7684false\u6539\u6210true"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:" vi /var/www/html/zabbix/include/locales.inc.php \n"})}),"\n",(0,i.jsx)(n.p,{children:"\u62f7\u8d1d\u5b57\u4f53\u7f6e/var/www/html/zabbix/fonts/"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://raw.githubusercontent.com/GavinTan/files/master/picgo/simkai.ttf",children:"simkai.ttf"})}),"\n",(0,i.jsx)(n.p,{children:"\u4fee\u6539\u914d\u7f6e\u6587\u4ef6"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"sed -i 's/DejaVuSans/simkai/g' /var/www/html/zabbix/include/defines.inc.php\n"})}),"\n",(0,i.jsx)(n.h2,{id:"centos7\u5347\u7ea7\u5185\u6838",children:"centos7\u5347\u7ea7\u5185\u6838"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'#\u5b89\u88c5elrepo repo\nrpm --import https://www.elrepo.org/RPM-GPG-KEY-elrepo.org\nyum install https://www.elrepo.org/elrepo-release-7.el7.elrepo.noarch.rpm\n\n\n#\u5b89\u88c5\u65b0\u5185\u6838\nyum --enablerepo=elrepo-kernel install -y kernel-ml.x86_64\n\n\n#\u5b89\u88c5\u65b0\u5185\u6838\u76f8\u5173\u8f6f\u4ef6\nyum --disablerepo=* --enablerepo=elrepo-kernel install -y kernel-ml-devel kernel-ml-tools kernel-ml-tools-libs kernel-ml-tools-libs-devel kernel-ml-headers\n\n\n#\u67e5\u770b\u6240\u6709\u5185\u6838\nawk -F \\\' \'$1=="menuentry " {print i++ " : " $2}\' /etc/grub2.cfg\n\n#\u67e5\u770b\u9ed8\u8ba4\u5185\u6838\ngrub2-editenv list\n\n#\u5c06\u65b0\u5185\u6838\u8bbe\u4e3a\u9ed8\u8ba4grbu\u542f\u52a8\u9879\ngrub2-set-default 0\n\n#\u751f\u6210 grub \u914d\u7f6e\u6587\u4ef6\ngrub2-mkconfig -o /etc/grub2.cfg\n'})}),"\n",(0,i.jsxs)(n.p,{children:["\u53c2\u8003\uff1a",(0,i.jsx)(n.a,{href:"http://elrepo.org/tiki/HomePage",children:"http://elrepo.org/tiki/HomePage"})]}),"\n",(0,i.jsx)(n.h2,{id:"smokeping",children:"smokeping"}),"\n",(0,i.jsx)(n.p,{children:"\u56fe\u8868\u8bf4\u660e\uff1a"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"X\u8f74\u8868\u793a\u65f6\u95f4\uff0cY\u8f74\u8868\u793aPing\u8bf7\u6c42\u65f6\u957f"}),"\n",(0,i.jsx)(n.li,{children:"\u7f51\u7edc\u4e22\u5305\u548c\u5ef6\u8fdf\u4e0d\u540c\u7684\u989c\u8272\u548c\u9634\u5f71\u8868\u793a\uff0c\u9634\u5f71\u5757\u8d8a\u5927\u8bf4\u660e\u6ce2\u52a8\u8d8a\u5927"}),"\n",(0,i.jsx)(n.li,{children:"\u56fe\u8868\u4e2d\u66f2\u7ebf\u4e0a\u4e0d\u540c\u989c\u8272\u8868\u793a\u4e22\u5305\u6570\u3001\u5ef6\u8fdf\u4e0d\u540c\uff0c\u70b9\u51fb\u56fe\u8868\u5e76\u9009\u4e2d\u8303\u56f4\u53ef\u4ee5\u653e\u5927"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u53c2\u6570\u8bf4\u660e\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"med RTT\uff1aav md \u5e73\u5747\u4e2d\u4f4d\u6570\u3001av ls \u5e73\u5747\u635f\u5931\u3001av sd \u6bcf\u8f6e\u4e2d\u591a\u6b21\u6d4b\u91cf\u7684\u5e73\u5747\u6807\u51c6\u504f\u5dee\u3001am/as \u5e73\u5747\u4e2d\u4f4d\u6570\u548c\u5e73\u5747\u6807\u51c6\u5dee\u7684\u6bd4\u7387"}),"\n",(0,i.jsx)(n.li,{children:"median rtt\uff1aavg \u5e73\u5747\u503c\u3001max \u6700\u5927\u503c\u3001min \u6700\u5c0f\u503c\u3001now \u5f53\u524d\u4e2d\u4f4d\u6570\u3001sd \u4e2d\u4f4d\u6570\u7684\u6807\u51c6\u5dee\u3001am \u5e73\u5747\u4e2d\u4f4d\u6570\u4e0e\u6807\u51c6\u5dee\u7684\u6bd4\u7387"}),"\n",(0,i.jsx)(n.li,{children:"packet loss\uff1aavg \u5e73\u5747\u503c\u3001max \u6700\u5927\u503c\u3001min \u6700\u5c0f\u503c\u3001now \u5f53\u524d\u4e22\u5305\u7387"}),"\n",(0,i.jsx)(n.li,{children:"loss color\uff1a\u4e22\u5305\u989c\u8272\u8868\u793a 0\u8868\u793a\u4e0d\u4e22\u5305 1/20\u8868\u793a\u4e22\u4e00\u4e2a\u5305"}),"\n",(0,i.jsx)(n.li,{children:"probe\uff1a\u53d1\u9001\u7684\u63a2\u9488\u6570\u636e\u5305"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"jdbc",children:"jdbc"}),"\n",(0,i.jsx)(n.p,{children:"MySQL 8.0 \u5f00\u59cb\u6570\u636e\u5e93\u76f8\u6bd4\u5e38\u7528\u7684 5.X \u7248\u672c\u53d1\u751f\u4e86\u6bd4\u8f83\u5927\u7684\u53d8\u5316\uff0c\u6211\u4eec\u5728\u8fde\u63a5\u6570\u636e\u5e93\u7684\u8fc7\u7a0b\u4e2d\u8bb8\u591a\u5730\u65b9\u4e5f\u8981\u53d1\u751f\u4e00\u4e9b\u53d8\u5316\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u603b\u7ed3\u4e00\u4e0b\uff0c\u60f3\u8981\u5229\u7528 mysql-connector-java \u4e0e MySQL 8.X \u7248\u672c\u5efa\u7acb\u8fde\u63a5\uff0c\u6709\u4ee5\u4e0b\u56db\u4e2a\u65b9\u9762\u4e0e MySQL 5.X \u7248\u672c\u76f8\u6bd4\u53d1\u751f\u4e86\u53d8\u5316\u3002"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"MySQL 8.0 \u4ee5\u4e0a\u7248\u672c\u9a71\u52a8\u5305\u7248\u672c mysql-connector-java-8.X.jar"}),"\n",(0,i.jsx)(n.p,{children:"MySQL \u7248\u672c\u548c mysql-connector-java \u7248\u672c\u5bf9\u5e94\u5173\u7cfb\u5982\u4e0b\uff0cMySQL\u5b98\u65b9\u4e5f\u662f\u63a8\u8350\u4f7f\u7528 mysql-connector-java-8.X.jar \u53bb\u8fde\u63a5 MySQL 8.0 \u7684\u7248\u672c"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:(0,i.jsx)(n.strong,{children:"Connector/J version"})}),(0,i.jsx)(n.th,{children:(0,i.jsx)(n.strong,{children:"Driver Type"})}),(0,i.jsx)(n.th,{children:(0,i.jsx)(n.strong,{children:"JDBC version"})}),(0,i.jsx)(n.th,{children:(0,i.jsx)(n.strong,{children:"MySQL Server version"})}),(0,i.jsx)(n.th,{children:(0,i.jsx)(n.strong,{children:"Status"})})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"5.1"}),(0,i.jsx)(n.td,{children:"4"}),(0,i.jsx)(n.td,{children:"3.0, 4.0, 4.1, 4.2"}),(0,i.jsx)(n.td,{children:"5.6*, 5.7*, 8.0*"}),(0,i.jsx)(n.td,{children:"General availability"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"8.0"}),(0,i.jsx)(n.td,{children:"4"}),(0,i.jsx)(n.td,{children:"4.2"}),(0,i.jsx)(n.td,{children:"5.6, 5.7, 8.0"}),(0,i.jsx)(n.td,{children:"General availability. Recommended version"})]})]})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"com.mysql.jdbc.Driver \u66f4\u6362\u4e3a com.mysql.cj.jdbc.Driver\u3002"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"MySQL 8.0 \u4ee5\u4e0a\u7248\u672c\u4e0d\u9700\u8981\u5efa\u7acb SSL \u8fde\u63a5\u7684\uff0c\u9700\u8981\u663e\u5f0f\u5173\u95ed\u3002"}),"\n",(0,i.jsx)(n.p,{children:"MySQL 5.7 \u4e4b\u524d\u7248\u672c\uff0c\u5b89\u5168\u6027\u505a\u7684\u5e76\u4e0d\u591f\u597d\uff0c\u6bd4\u5982\u5b89\u88c5\u65f6\u751f\u6210\u7684root\u7a7a\u5bc6\u7801\u8d26\u53f7\u3001\u5b58\u5728\u4efb\u4f55\u7528\u6237\u90fd\u80fd\u8fde\u63a5\u4e0a\u7684 test \u5e93\u7b49\uff0c\u5bfc\u81f4\u6570\u636e\u5e93\u5b58\u5728\u8f83\u5927\u7684\u5b89\u5168\u9690\u60a3\u3002\u4ece5.7\u7248\u672c\u5f00\u59cbMySQL\u5b98\u65b9\u5bf9\u8fd9\u4e9b\u95ee\u9898\u9010\u6b65\u8fdb\u884c\u4e86\u4fee\u590d\uff0c\u5230\u4e86 MySQL 8.0 \u4ee5\u4e0a\u7248\u672c\u5df2\u7ecf\u4e0d\u9700\u8981\u4f7f\u7528 SSL \u8fdb\u884c\u8fde\u63a5\u52a0\u5bc6\u4e86\u3002\u4f46\u662f\u9ad8\u7248\u672c\u4ecd\u7136\u4fdd\u7559\u4e86\u8fd9\u4e2a\u63a5\u53e3\uff0c\u6240\u4ee5\u9700\u8981\u5728\u8fde\u63a5\u7684\u65f6\u5019\u624b\u52a8\u5199\u660e\u662f\u5426\u9700\u8981\u8fdb\u884c SSL \u8fde\u63a5\uff0c\u8fd9\u91cc\u6211\u4eec\u624b\u52a8\u5173\u95ed SSL \u8fde\u63a5\u52a0\u5bc6\u5c31OK\u3002"}),"\n",(0,i.jsx)(n.p,{children:"useSSL=false"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u6700\u540e\u8fd8\u9700\u8981\u8bbe\u7f6e CST\u3002\u4e5f\u5c31\u662f\u8bbe\u7f6e\u65f6\u533a\u3002"}),"\n",(0,i.jsx)(n.p,{children:"serverTimezone=UTC"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'Class.forName("com.mysql.cj.jdbc.Driver");\nconn=DriverManager.getConnection("jdbc:mysql://localhost:3306/test_demo?useSSL=false&serverTimezone=UTC","root","password");\n'})}),"\n",(0,i.jsx)(n.h2,{id:"yum\u6e90",children:"yum\u6e90"}),"\n",(0,i.jsx)(n.p,{children:"\u963f\u91cc\u6e90\uff1a"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://developer.aliyun.com/mirror/centos",children:"https://developer.aliyun.com/mirror/centos"}),"\n",(0,i.jsx)(n.a,{href:"https://developer.aliyun.com/mirror/epel",children:"https://developer.aliyun.com/mirror/epel"})]}),"\n",(0,i.jsx)(n.p,{children:"centos6 Vault yum\u6e90\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"#\u66ff\u6362\u4e3a\u5b98\u65b9Vault\u6e90\nwget -O /etc/yum.repos.d/CentOS-Base.repo https://static.lty.fun/%E5%85%B6%E4%BB%96%E8%B5%84%E6%BA%90/SourcesList/Centos-6-Vault-Official.repo\n\n\n#\u66ff\u6362\u4e3a\u963f\u91cc\u4e91Vault\u955c\u50cf\nwget -O /etc/yum.repos.d/CentOS-Base.repo https://static.lty.fun/%E5%85%B6%E4%BB%96%E8%B5%84%E6%BA%90/SourcesList/Centos-6-Vault-Aliyun.repo\n"})}),"\n",(0,i.jsx)(n.h2,{id:"linux\u751f\u6210\u968f\u673a\u6570",children:"Linux\u751f\u6210\u968f\u673a\u6570"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"head -c 32 /dev/random | base64\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"openssl rand -hex 32\n"})}),"\n",(0,i.jsx)(n.h2,{id:"python-\u7b80\u5355http\u670d\u52a1\u4e0eftp\u670d\u52a1",children:"Python \u7b80\u5355http\u670d\u52a1\u4e0eftp\u670d\u52a1"}),"\n",(0,i.jsx)(n.p,{children:"http\u670d\u52a1\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"pip install SimpleHTTPAuthServer\n#\u5f53\u524d\u6240\u5728\u7684\u6587\u4ef6\u5939\u8bbe\u7f6e\u4e3a\u9ed8\u8ba4\u7684Web\u76ee\u5f55\u542f\u52a8http\u670d\u52a1\u5668\uff0c\u4e0d\u63a5\u7aef\u53e3\u9ed8\u8ba48000\n#\u5982\u679c\u5f53\u524d\u6587\u4ef6\u5939\u6709index.html\u6587\u4ef6\uff0c\u4f1a\u9ed8\u8ba4\u663e\u793a\u8be5\u6587\u4ef6\uff1b\u5426\u5219\uff0c\u4f1a\u4ee5\u6587\u4ef6\u5217\u8868\u7684\u5f62\u5f0f\u663e\u793a\u76ee\u5f55\u4e0b\u6240\u6709\u6587\u4ef6.\npython -m SimpleHTTPServer 80\n#\u5e26\u9a8c\u8bc1\u7684http\u670d\u52a1\npython -m SimpleHTTPAuthServer 88 ops:ops.ops123\n\n#python3\npython -m http.server 80\n\n"})}),"\n",(0,i.jsx)(n.p,{children:"ftp\u670d\u52a1\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"pip install pyftpdlib\n#\u5f53\u524d\u6240\u5728\u7684\u6587\u4ef6\u5939\u8bbe\u7f6e\u4e3a\u9ed8\u8ba4\u7684ftp\u76ee\u5f55\u542f\u52a8ftp\u670d\u52a1\u5668\uff0c\u4e0d\u63a5\u7aef\u53e3\u9ed8\u8ba4\u968f\u673a\u4e00\u4e2a\u7aef\u53e3\npython -m pyftpdlib -p 21\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u7ea2\u5e3dcockpit-web\u7ba1\u7406\u670d\u52a1\u5668",children:"\u7ea2\u5e3dcockpit web\u7ba1\u7406\u670d\u52a1\u5668"}),"\n",(0,i.jsx)(n.p,{children:"\u591a\u670d\u52a1\u5668\u7ba1\u7406"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"yum install -y cockpit-dashboard\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u78c1\u76d8\u7ba1\u7406"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"yum install -y cockpit-storaged\n"})}),"\n",(0,i.jsx)(n.p,{children:"docker\u7ba1\u7406"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"yum install -y cockpit-docker\n"})}),"\n",(0,i.jsx)(n.p,{children:"kvm\u7ba1\u7406"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"yum install -y cockpit-machines\n"})}),"\n",(0,i.jsx)(n.h2,{id:"linux-\u8bbe\u7f6e\u65f6\u533a",children:"linux \u8bbe\u7f6e\u65f6\u533a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"export TZ=Asia/Shanghai\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\n"})}),"\n",(0,i.jsx)(n.h2,{id:"weedfs-mount",children:"weedfs mount"}),"\n",(0,i.jsx)(n.p,{children:'\u9519\u8bef\uff1amount: fusermount: exec: "fusermount": executable file not found in $PATH'}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"yum install fuse\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u6302\u8f7d\u540e\u5220\u9664\u4e0d\u4e86\u6267\u884c\u4e0b\u9762\u547d\u4ee4"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"fusermount -uz /data\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u83b7\u53d6linux-cpu\u6838\u6570",children:"\u83b7\u53d6Linux cpu\u6838\u6570"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"echo $(nproc)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u751f\u6210-100w-\u8bb0\u5f55\u7684\u6570\u636e\u6587\u4ef6\u5bfc\u5165mysql",children:"\u751f\u6210 100w \u8bb0\u5f55\u7684\u6570\u636e\u6587\u4ef6\u5bfc\u5165mysql"}),"\n",(0,i.jsx)(n.p,{children:"\u751f\u6210\u6570\u636e\u6587\u4ef6\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'python -c "for i in range(1, 1+1000000): print(i)" > /tmp/base.txt\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u5bfc\u5165mysql\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"use mydb\nCREATE TABLE tmp_table ( id INT, PRIMARY KEY (id) );\nload data local infile '/tmp/base.txt' replace into table tmp_table;\n"})}),"\n",(0,i.jsx)(n.h2,{id:"docker\u5b89\u88c5\u53ca\u76f8\u5173\u8bbe\u7f6e",children:"docker\u5b89\u88c5\u53ca\u76f8\u5173\u8bbe\u7f6e"}),"\n",(0,i.jsx)(n.p,{children:"\u5b89\u88c5\u6700\u65b0\u7248\uff0817.04 \u53ca\u4ee5\u540e\u7684\u7248\u672c\uff09\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"#\u811a\u672c\u5b89\u88c5\nexport CHANNEL=stable\ncurl -fsSL https://get.docker.com/ | sh -s -- --mirror Aliyun\ncurl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun\n\n#yum\u5b89\u88c5\nyum -y install yum-utils device-mapper-persistent-data lvm2\nyum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo\nyum -y install docker-ce\n"})}),"\n",(0,i.jsx)(n.p,{children:"CentOS 7 \u914d\u7f6e\u52a0\u901f\u5668\uff1a"}),"\n",(0,i.jsx)(n.p,{children:"\u5728\u6587\u4ef6\u4e2d\u627e\u5230 ExecStart= \u8fd9\u4e00\u884c\uff0c\u5e76\u4e14\u5728\u5176\u884c\u5c3e\u6dfb\u52a0\u4e0aregistry-mirror"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",metastring:"title=/usr/lib/systemd/system/docker.service",children:"ExecStart=/usr/bin/dockerd --registry-mirror=https://registry.docker-cn.com\n"})}),"\n",(0,i.jsx)(n.h2,{id:"keepalived\u914d\u7f6e\u53cc\u673a\u70ed\u5907",children:"keepalived\u914d\u7f6e\u53cc\u673a\u70ed\u5907"}),"\n",(0,i.jsx)(n.p,{children:"Master \u914d\u7f6e\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'! Configuration File for keepalived\n\nglobal_defs {\n   notification_email {\n     acassen@firewall.loc\n     failover@firewall.loc\n     sysadmin@firewall.loc\n   }\n   notification_email_from Alexandre.Cassen@firewall.loc\n   smtp_server 192.168.200.1\n   smtp_connect_timeout 30\n   router_id LVS_DEVEL\n   vrrp_skip_check_adv_addr\n   #vrrp_strict\n   vrrp_garp_interval 0\n   vrrp_gna_interval 0\n}\n\nvrrp_script chk_nginx {\n    script "[ `netstat -tnulp|grep 80|wc -l` -eq 0 ] && exit 1 || exit 0"\n    interval 2\n    weight -50\n    fall 3\n    user root\n}\n\nvrrp_instance VI_1 {\n    state MASTER\n    interface ens33\n    virtual_router_id 51\n    priority 100\n    advert_int 1\n    authentication {\n        auth_type PASS\n        auth_pass 1111\n    }\n    virtual_ipaddress {\n        192.168.1.7\n    }\n    track_script {\n        chk_nginx\n    }\n\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"Backup \u914d\u7f6e\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'! Configuration File for keepalived\n\nglobal_defs {\n   notification_email {\n     acassen@firewall.loc\n     failover@firewall.loc\n     sysadmin@firewall.loc\n   }\n   notification_email_from Alexandre.Cassen@firewall.loc\n   smtp_server 192.168.200.1\n   smtp_connect_timeout 30\n   router_id LVS_DEVEL\n   vrrp_skip_check_adv_addr\n   #vrrp_strict\n   vrrp_garp_interval 0\n   vrrp_gna_interval 0\n}\n\nvrrp_script chk_nginx {\n    script "[ `netstat -tnulp|grep 80|wc -l` -eq 0 ] && exit 1 || exit 0"\n    interval 2\n    weight -50\n    fall 3\n    user root\n}\n\nvrrp_instance VI_1 {\n    state MASTER\n    interface ens33\n    virtual_router_id 51\n    priority 100\n    advert_int 1\n    authentication {\n        auth_type PASS\n        auth_pass 1111\n    }\n    virtual_ipaddress {\n        192.168.1.7\n    }\n    track_script {\n        chk_nginx\n    }\n\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"\u5185\u7f51\u7a7f\u900f",children:"\u5185\u7f51\u7a7f\u900f"}),"\n",(0,i.jsx)(n.p,{children:"1.\u81ea\u5e26\u968f\u673a\u5916\u7f51\u57df\u540d"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://ngrok.com/download",children:"https://ngrok.com/download"})}),"\n",(0,i.jsx)(n.p,{children:"2.frpc\u9700\u8981\u4e00\u53f0\u5916\u7f51\u670d\u52a1\u5668"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/fatedier/frp/releases",children:"https://github.com/fatedier/frp/releases"})}),"\n",(0,i.jsx)(n.h2,{id:"\u751f\u6210mipsel\u67b6\u6784clash\u89e3\u51b3illegal-instruction\u9519\u8bef",children:"\u751f\u6210mipsel\u67b6\u6784clash\u89e3\u51b3Illegal instruction\u9519\u8bef"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"#go \u5b89\u88c5\u8def\u5f84\nexport GOROOT=/usr/local/go/\n#\u751f\u6210\u8def\u5f84\nexport GOPATH=/root/go\n\nexport GOOS=linux\nexport GOARCH=mipsle\nexport GOMIPS=softfloat\n\ngo get -u -v github.com/Dreamacro/clash\n"})}),"\n",(0,i.jsx)(n.h2,{id:"openwrt",children:"openwrt"}),"\n",(0,i.jsx)(n.p,{children:"\u4fee\u6539lan ip\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"ssh 192.168.1.1\n\nuci set network.lan.ipaddr=192.168.199.1\nuci commit network\nifup lan\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u66ff\u6362opkg\u6e90\uff1a"}),"\n",(0,i.jsx)(n.p,{children:"opkg\u6e90\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u4e2d\u56fd\u79d1\u6280\u5927\u5b66\u6559\u80b2\u7f51\u5b98\u65b9\u4e3b\u955c\u50cf\u7f51\u7ad9\uff1a",(0,i.jsx)(n.a,{href:"http://mirrors.ustc.edu.cn/OpenWrt",children:"http://mirrors.ustc.edu.cn/OpenWrt"})]}),"\n",(0,i.jsxs)(n.li,{children:["\u6e90\u6559\u80b2\u7f51\u9ad8\u901f\u955c\u50cf\u7ad9\u70b9\uff1a",(0,i.jsx)(n.a,{href:"http://openwrt.proxy.ustclug.org/",children:"http://openwrt.proxy.ustclug.org/"})]}),"\n",(0,i.jsxs)(n.li,{children:["\u6e05\u534e\u5927\u5b66\u5f00\u6e90\u8f6f\u4ef6\u955c\u50cf\u7ad9\uff1a",(0,i.jsx)(n.a,{href:"https://mirrors.tuna.tsinghua.edu.cn/",children:"https://mirrors.tuna.tsinghua.edu.cn/"})]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"#\u66ff\u6362\nsed -i 's/downloads.openwrt.org/mirrors.tuna.tsinghua.edu.cn\\/lede/g' /etc/opkg/distfeeds.conf\n\n#\u8fd8\u539f\nsed -i 's/mirrors.tuna.tsinghua.edu.cn\\/lede/downloads.openwrt.org/g' /etc/opkg/distfeeds.conf\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u7ba1\u7406\u754c\u9762\u4e2d\u6587\u5305\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"opkg update\nopkg install luci-i18n-base-zh-cn\n"})}),"\n",(0,i.jsx)(n.p,{children:"wget https\u652f\u6301\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"opkg update\nopkg install wget ca-certificates openssl-util ca-bundle\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5b89\u88c5sftp\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"opkg update\nopkg install openssh-sftp-server\n\n#\u5982\u679c\u4f60\u60f3\u7528Bonjour/Zeroconf\u5728\u7f51\u7edc\u4e0a\u516c\u5e03\u670d\u52a1\uff0c\u8ba9Cyberduck\u627e\u5230\u5b83\uff0c\u4f60\u53ef\u4ee5\u5b89\u88c5\u516c\u5e03\u5305\nopkg install announce\n/etc/init.d/announce enable\n/etc/init.d/announce start\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u6302\u8f7dsd /overlay\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"#opkg install block-mount kmod-fs-ext4 kmod-usb-storage-extras\nopkg install kmod-sdhci kmod-sdhci-mt7620 block-mount kmod-fs-ext4 e2fsprogs fdisk\n\n#fdisk -l\nblock info\n\nmkfs.ext4 /dev/mmcblk0\n\nmount /dev/mmcblk0 /mnt \ntar -C /overlay -cvf - . | tar -C /mnt -xf - \numount /mnt\nblock detect > /etc/config/fstab\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",metastring:"title=/etc/config/fstab",children:"config 'global'\n        option  anon_swap       '0'\n        option  anon_mount      '0'\n        option  auto_swap       '1'\n        option  auto_mount      '1'\n        option  delay_root      '5'\n        option  check_fs        '0'\n\nconfig 'mount'\n        option  target  '/overlay'    # \u6302\u7740\u8def\u5f84\n        option  uuid    'f2e07f24-88e4-47a6-8635-84e6a1da2953'\n        option  enabled '1'  # \u542f\u7528\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u521b\u5efaswap\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"#\u521b\u5efa\u8981\u4f5c\u4e3aswap\u5206\u533a\u7684\u6587\u4ef6\ndd if=/dev/zero of=/root/swapfile bs=1G count=5\n\n#\u683c\u5f0f\u5316\u4e3a\u4ea4\u6362\u5206\u533a\u6587\u4ef6\nmkswap /root/swapfile\n\n#\u542f\u7528swap\nswapon /root/swapfile\n\n#\u5173\u95edswap\nswapoff\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",metastring:"title=/etc/config/fstab",children:"config swap\n    option device   /root/swapfile\n    option enabled  1\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u547d\u4ee4\u884cjson\u683c\u5f0f\u5316\u8f93\u51fa",children:"\u547d\u4ee4\u884cjson\u683c\u5f0f\u5316\u8f93\u51fa"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'curl http://www.example.com | python -m json.tool\n\n\necho \'{"action": "update_db", "data": {"project": "dalmatian", "env": "test","sqlfile_list": ["t3.sql"]}}\' | python -m json.tool\n'})}),"\n",(0,i.jsx)(n.h2,{id:"docker\u6dfb\u52a0\u4e2d\u6587\u652f\u6301",children:"docker\u6dfb\u52a0\u4e2d\u6587\u652f\u6301"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'# docker-compose.yml\nversion: \'3.3\'\n\nservices:\n  lam:\n    build: .\n    #image: ldapaccountmanager/lam:stable\n    ports:\n      - "8088:80"\n    restart: always\n#    environment:\n#      LC_ALL: "en_US.UTF-8"\n#      LANG: "en_US.UTF-8"\n#      LANGUAGE: "en_US.UTF-8"\n\n\n\n# Dockerfile  - debian\nFROM ldapaccountmanager/lam:stable\nRUN apt-get update\nRUN apt-get install -y locales locales-all\nENV LC_ALL  zh_CN.utf8\nENV LANG  zh_CN.utf8\nENV LANGUAGE  zh_CN.utf8\n'})}),"\n",(0,i.jsx)(n.h2,{id:"git\u64a4\u9500commit\u5230\u672a\u63d0\u4ea4\u72b6\u6001",children:"git\u64a4\u9500commit\u5230\u672a\u63d0\u4ea4\u72b6\u6001"}),"\n",(0,i.jsx)(n.p,{children:"\u5982\u4f55\u628a\u6700\u540e\u4e00\u6b21commit\u64a4\u9500\u56deChanges not staged\u548cUntracked files\u533a\u5462\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u67093\u79cd\u60c5\u51b5\uff1a"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["\u628a\u6700\u540e\u7684commit\u5207\u56de",(0,i.jsx)(n.strong,{children:"Changes to be committed"}),"\u72b6\u6001\uff0c\u4f7f\u7528\u547d\u4ee4\uff1a"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"git reset --soft HEAD^\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["\u628a\u6700\u540e\u7684commit\u5207\u56de",(0,i.jsx)(n.strong,{children:"Changes not staged for commit"}),"\u72b6\u6001\uff0c\u4f7f\u7528\u547d\u4ee4\uff1a"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"git reset HEAD^\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["\u628a",(0,i.jsx)(n.strong,{children:"Changes to be committed"}),"\u72b6\u6001\u5207\u56de",(0,i.jsx)(n.strong,{children:"Changes not staged for commit"}),"\u72b6\u6001\uff0c\u4f7f\u7528\u547d\u4ee4\uff1a"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"git reset HEAD <file>... # \u5355\u4e2a\u6587\u4ef6\ngit reset HEAD -- . # \u6240\u6709Changes to be committed\u7684\u6587\u4ef6\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["\u53c2\u8003\uff1a",(0,i.jsx)(n.a,{href:"https://www.awaimai.com/2383.html",children:"https://www.awaimai.com/2383.html"})]}),"\n",(0,i.jsx)(n.h2,{id:"git\u4e0a\u4f20\u53ef\u6267\u884c\u6587\u4ef6",children:"git\u4e0a\u4f20\u53ef\u6267\u884c\u6587\u4ef6"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'# Stage the script.sh file\ngit add script.sh\n\n# Flag it as executable\ngit update-index --chmod=+x script.sh\n\n# Commit the change\ngit commit -m "Make script.sh executable."\n\n# Push the commit\ngit push\n'})}),"\n",(0,i.jsx)(n.h2,{id:"python\u547d\u4ee4\u884c\u4e0d\u80fd\u4f7f\u7528\u65b9\u5411\u952e",children:"python\u547d\u4ee4\u884c\u4e0d\u80fd\u4f7f\u7528\u65b9\u5411\u952e"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"apt install libreadline-dev\napt install libncurses-dev\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"\u7f16\u8bd1python\u4e4b\u524d\u5b89\u88c5\u4e0a\u9762\u4e24\u4e2a\u5305"})}),"\n",(0,i.jsx)(n.h2,{id:"nginx\u914d\u7f6ewebsocket",children:"nginx\u914d\u7f6ewebsocket"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'location / {\n    proxy_pass http://backend;\n    proxy_http_version 1.1;\n    proxy_set_header Upgrade $http_upgrade;\n    proxy_set_header Connection "upgrade";\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"proxy_read_timeout 60s;       # \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u4ee3\u7406\u670d\u52a1\u5668\u572860\u79d2\u5185\u672a\u4f20\u8f93\u4efb\u4f55\u6570\u636e\uff0c\u5219\u5c06\u5173\u95ed\u8fde\u63a5\uff0c\u53ef\u4fee\u6539\u6b64\u53c2\u6570\u589e\u52a0\u8d85\u65f6\u65f6\u95f4"}),"\n",(0,i.jsx)(n.h2,{id:"\u5b89\u88c5twisted\u6a21\u5757",children:"\u5b89\u88c5twisted\u6a21\u5757"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"python3 -m pip install git+git://github.com/twisted/twisted.git\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u5220\u9664git\u4e0a\u6307\u5b9a\u76ee\u5f55",children:"\u5220\u9664git\u4e0a\u6307\u5b9a\u76ee\u5f55"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"#\u5c06\u8fdc\u7a0b\u4ed3\u5e93\u91cc\u9762\u7684\u9879\u76ee\u62c9\u4e0b\u6765\ngit pull origin master\n\n#\u5220\u9664target\u6587\u4ef6\u5939\ngit rm -r --cached target\n\n#\u63d0\u4ea4\ngit commit -m '\u5220\u9664\u4e86target' \n\n#\u5c06\u672c\u6b21\u66f4\u6539\u66f4\u65b0\u5230git\u4e0a\u53bb\ngit push -u origin master\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"\u672c\u5730\u9879\u76ee\u4e2d\u7684target\u6587\u4ef6\u5939\u4e0d\u6536\u64cd\u4f5c\u5f71\u54cd,\u5220\u9664\u7684\u53ea\u662f\u8fdc\u7a0b\u4ed3\u5e93\u4e2d\u7684target"})}),"\n",(0,i.jsx)(n.h2,{id:"\u8fdb\u5165\u76ee\u5f55\u81ea\u52a8\u8f7d\u5165-python-\u865a\u62df\u73af\u5883\u914d\u7f6e",children:"\u8fdb\u5165\u76ee\u5f55\u81ea\u52a8\u8f7d\u5165 Python \u865a\u62df\u73af\u5883\u914d\u7f6e"}),"\n",(0,i.jsx)(n.p,{children:"using git:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"git clone https://github.com/kennethreitz/autoenv.git\necho 'source /opt/autoenv/activate.sh' >> ~/.bashrc\nsource ~/.bashrc\n"})}),"\n",(0,i.jsx)(n.p,{children:"using pip:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'pip install autoenv\necho "source `which activate.sh`" >> ~/.bashrc\nsource ~/.bashrc\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u914d\u7f6e\u76ee\u5f55\u4e0b.env\u6587\u4ef6\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'echo "source /opt/py3/bin/activate" > /opt/jumpserver/.env\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://raw.githubusercontent.com/GavinTan/files/master/picgo/activate.sh",children:"activate.sh"})}),"\n",(0,i.jsx)(n.h2,{id:"\u751f\u6210ssh\u5bc6\u94a5",children:"\u751f\u6210ssh\u5bc6\u94a5"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"ssh-keygen -t rsa\n"})}),"\n",(0,i.jsx)(n.h2,{id:"tutum",children:"tutum"}),"\n",(0,i.jsx)(n.p,{children:"mba811/tutum-hello-world"}),"\n",(0,i.jsx)(n.h2,{id:"mongodb\u6570\u636e\u8fc1\u79fb",children:"mongodb\u6570\u636e\u8fc1\u79fb"}),"\n",(0,i.jsx)(n.p,{children:"\u5bfc\u51fa\u6570\u636e\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"mongodump -h ip:port -u testUser -p testPwd -d testDB -o /tmp/mongodb/test.dump\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5bfc\u5165\u6570\u636e\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"mongorestore -u testUser -p testPwd -d testDB /tmp/mongodb/test.dump/testDB\n"})}),"\n",(0,i.jsx)(n.h2,{id:"percona-server-57-\u5b89\u88c5",children:"percona-server-5.7 \u5b89\u88c5"}),"\n",(0,i.jsx)(n.p,{children:"\u7f16\u8bd1\u5b89\u88c5\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"#\u5b89\u88c5\u6240\u9700\u7ec4\u4ef6\nyum install -y zlib-devel readline-devel ncurses-devel gcc-c++ gcc git libaio-devel cmake\n\n#\u7f16\u8bd1\ntar zxf percona-server-5.7.21-20.tar.gz\ncd percona-server-5.7.21-20\ncmake . -DCMAKE_INSTALL_PREFIX=/usr/local/percona -DCMAKE_BUILD_TYPE=RelWithDebInfo -DBUILD_CONFIG=mysql_release -DFEATURE_SET=community -DWITH_EMBEDDED_SERVER=OFF -DDOWNLOAD_BOOST=1 -DWITH_BOOST=.\nmake -j && make install\n"})}),"\n",(0,i.jsx)(n.p,{children:"yum\u5b89\u88c5\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"yum install http://www.percona.com/downloads/percona-release/redhat/0.1-4/percona-release-0.1-4.noarch.rpm\n\nyum install Percona-Server-server-57\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u521d\u59cb\u5316\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"#\u83b7\u53d6\u9ed8\u8ba4\u4e34\u65f6\u5bc6\u7801\ncat /var/log/mysqld.log | grep \"A temporary password\" | awk -F \" \" '{print$11}'\n\n#\u4fee\u6539\u5b89\u5168\u7b56\u7565\u5bc6\u7801\u590d\u6742\u5ea6\n# 0     \u3010\u957f\u5ea6\u3011\n# 1     \u3010 \u957f\u5ea6;\u6570\u5b57\u3001\u5c0f\u5199/\u5927\u5199\u548c\u7279\u6b8a\u5b57\u7b26\u3011  \u9ed8\u8ba4\n# 2     \u3010 \u957f\u5ea6;\u6570\u5b57\u3001\u5c0f\u5199/\u5927\u5199\u548c\u7279\u6b8a\u5b57\u7b26;\u5b57\u5178\u6587\u4ef6\u3011\nmysql -uroot -p -e 'set global validate_password_policy=0;'\n\n#\u5b89\u5168\u914d\u7f6e\u5411\u5bfc\nmysql_secure_installation\n"})}),"\n",(0,i.jsx)(n.h2,{id:"find\u4f7f\u7528",children:"find\u4f7f\u7528"}),"\n",(0,i.jsx)(n.p,{children:"find\u83b7\u53d6\u6587\u4ef6\u540d\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'find /root -name *.jpg -printf "%f\\n"\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u627e\u5305\u542b\u6307\u5b9a\u5185\u5bb9\u7684\u6587\u4ef6\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'find . -type f -exec grep -l "Hello World" {} \\;\n\n#grep -Ilr "Hello World" ./\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u627e\u6307\u5b9a\u65f6\u95f4\u8303\u56f4\u5185\u7684\u6587\u4ef6\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"find -name *.java -newermt '2015-12-25 08:00:00' ! -newermt '2015-12-25 21:00:00'\n\n#ls -alR --full-time * | grep \"2015-12-25\"| grep \".java\"\n"})}),"\n",(0,i.jsx)(n.h2,{id:"zabbix\u6267\u884c\u8fdc\u7a0b\u547d\u4ee4",children:"zabbix\u6267\u884c\u8fdc\u7a0b\u547d\u4ee4"}),"\n",(0,i.jsx)(n.p,{children:"\u5ba2\u6237\u7aef\u914d\u7f6e\u6587\u4ef6\u6dfb\u52a0\u914d\u7f6e\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",metastring:"title=zabbix_agentd.conf",children:"EnableRemoteCommands=1\t\t#\u542f\u7528\u8fdc\u7a0b\u547d\u4ee4\nLogRemoteCommands=1\t\t\t#\u542f\u7528\u8fdc\u7a0b\u547d\u4ee4\u65e5\u5fd7\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u914d\u7f6esudo\u6743\u9650\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"visudo \n\n#\u6388\u6743zabbix\u7528\u6237\u4f7f\u7528sudo\nzabbix  ALL=(ALL)       NOPASSWD: /usr/bin/systemctl restart myservice\n\n#\u5982\u679c\u5b58\u5728Defaults    requiretty\u914d\u7f6e\u5b58\u5728\u9700\u8981\u914d\u7f6ezabbix\u7528\u6237\u6216\u8005\u7ec4\u4e0d\u9700\u8981\u7ec8\u7aef\nDefaults:zabbix !requiretty\t\t#zabbix\u7528\u6237\u4e0d\u9700\u8981\u7ec8\u7aef\nDefaults:%zabbix !requiretty\t#zabbix\u7ec4\u4e0d\u9700\u8981\u7ec8\u7aef\n"})}),"\n",(0,i.jsx)(n.h2,{id:"lvm\u5377\u7ec4",children:"LVM\u5377\u7ec4"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"\u521b\u5efa"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"#\u521b\u5efa\u7269\u7406\u5377\npvcreate /dev/sdb\n\n#\u521b\u5efa\u903b\u8f91\u5377\u7ec4\nvgcreate volGroup00 /dev/sdb\n\n#\u521b\u5efa\u903b\u8f91\u5377\u5269\u4e0b\u6240\u6709\u7a7a\u95f4\u90fd\u7ed9\u903b\u8f91\u5377\nlvcreate -l +100%FREE -n LogVol01 volGroup00\n#\u521b\u5efa\u903b\u8f91\u5377(356\u4e3aTotal PE \u6570)\nlvcreate -l 356 -n LogVol01 volGroup00\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"\u6269\u5bb9"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"#\u521b\u5efa\u7269\u7406\u5377\npvcreate /dev/sdc\n\n#\u6dfb\u52a0\u7269\u7406\u5377\u8fdb\u5377\u7ec4\nvgextend volGroup00 /dev/sdc\n\n#\u6269\u5c55\u6240\u6709\u7a7a\u95f4\u7ed9\u903b\u8f91\u5377\nvextend -l +100%FREE -n LogVol01 volGroup00\n#\u6269\u5c55\u6307\u5b9a10G\u7a7a\u95f4\u7ed9\u903b\u8f91\u5377\nvextend -L +10G /dev/volGroup00/LogVol01\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"\u91cd\u5b9a\u4e49\u5927\u5c0f\uff08df -h\u770b\u4e0d\u5230\u7a7a\u95f4\u53d8\u5316\uff09"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"#ext2 ext3 ext4\u6587\u4ef6\u7cfb\u7edf\u4f7f\u7528\nresize2fs -p /dev/volGroup00/LogVol01\n\n#xfs\u6587\u4ef6\u7cfb\u7edf\u4f7f\u7528\nxfs_growfs  /dev/volGroup00/LogVol01\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"\u7f29\u5bb9"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"#\u5378\u8f7d\numount /dev/volGroup00/LogVol01\n\n#\u68c0\u67e5\ne2fsck -f /dev/volGroup00/LogVol01\n\n#\u7f29\u5c0f\u6587\u4ef6\u7cfb\u7edf\u4e3a50g\nresize2fs  /dev/volGroup00/LogVol01 50g\n\n#\u7f29\u5c0flv\u5bb9\u91cf\u4e3a50g\nlvreduce -L 50G  /dev/volGroup00/LogVol01\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"\u5220\u9664"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"#\u5220\u903b\u8f91\u5377\nlvremove /dev/volGroup00/LogVol01\n\n#\u5220\u5377\u7ec4\nvgremove volGroup00\n\n#\u5220\u7269\u7406\u5377\npvremove /dev/sdb\n\n#\u6e05\u9664\u65e0\u6548\u7684\u5377\nvgreduce --removemissing --force volGroup00\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"\u6302\u8f7d"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"mkfs.ext4 /dev/volGroup00/LogVol01\nmount /dev/mapper/volGroup00-LogVol01 /data\n\nvi /etc/fstab \n/dev/mapper/volGroup00-LogVol01 /data                   ext4    defaults        1 2\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"pvdisplay\uff1a\u663e\u793a\u7269\u7406\u5377\u4fe1\u606f"}),"\n",(0,i.jsx)(n.li,{children:"vgdisplay\uff1a\u663e\u793a\u5377\u7ec4\u4fe1\u606f"}),"\n",(0,i.jsx)(n.li,{children:"lvdisplay\uff1a\u663e\u793a\u903b\u8f91\u5377\u4fe1\u606f"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"vsftp-\u51fa\u73b0\u62a5\u9519530-login-incorrect",children:"vsftp \u51fa\u73b0\u62a5\u9519530 Login incorrect"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"#\u4f7f\u7528\u4e0b\u9762\u547d\u4ee4\u67e5\u770bpam\u5e93\u662f\u5426\u6709\u52a0\u8f7d\nldd /usr/local/sbin/vsftpd|grep pam\n\n#\u672a\u52a0\u8f7d\u5b89\u88c5pam\u540e\u91cd\u65b0\u518d\u7f16\u8bd1vsftp\u5b89\u88c5\nyum install pam-devel \n"})}),"\n",(0,i.jsx)(n.h2,{id:"yum\u5220\u9664\u91cd\u590d\u8f6f\u4ef6\u5305",children:"yum\u5220\u9664\u91cd\u590d\u8f6f\u4ef6\u5305"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"#\u5217\u51fa\u91cd\u590d\u7684\u5305\npackage-cleanup --dupes\n\n#\u5220\u9664\u91cd\u590d\u7684\u5305\npackage-cleanup --cleandupes\n"})}),"\n",(0,i.jsx)(n.h2,{id:"yum\u4e0b\u8f7drpm\u5305",children:"yum\u4e0b\u8f7drpm\u5305"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"yum install --downloadonly --downloaddir=/tmp <package-name> \n"})}),"\n",(0,i.jsx)(n.h2,{id:"linux-scoket5\u4ee3\u7406\u8f6c\u6362http\u4ee3\u7406",children:"linux scoket5\u4ee3\u7406\u8f6c\u6362http\u4ee3\u7406"}),"\n",(0,i.jsx)(n.p,{children:"\u5b89\u88c5\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'wget  https://www.irif.fr/~jch/software/files/polipo/polipo-1.1.1.tar.gz\n\ntar zxf polipo-1.1.1.tar.gz\ncd polipo-1.1.1\nyum install -y texinfo\nmake all && make install\ncp config.sample /etc/texinfo.conf\n\nvi /etc/texinfo.conf\nsocksParentProxy = "192.168.120.110:10000"\nsocksProxyType = socks5\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u542f\u52a8\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"polipo -c /etc/texinfo.conf\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u8bbe\u7f6ehttp\u4ee3\u7406\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"export http_proxy=127.0.0.1:8123 \n"})}),"\n",(0,i.jsx)(n.h2,{id:"linux-\u8fde\u63a5vpnpptp",children:"linux \u8fde\u63a5vpn\uff08pptp\uff09"}),"\n",(0,i.jsx)(n.p,{children:"\u5b89\u88c5\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"yum install ppp pptp pptp-setup\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u521b\u5efaVPN\u8fde\u63a5\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"modprobe ppp_mppe\npptpsetup --create vpn\u540d\u79f0 --server ip\u5730\u5740 --username \u8d26\u53f7 --password \u5bc6\u7801 --start\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u8fde\u63a5VPN\u8fde\u63a5\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"pppd call vpn\u540d\u79f0\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u6dfb\u52a0\u8def\u7531\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"route add -net 192.168.200.0/24 dev ppp0\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u65ad\u5f00vpn\u8fde\u63a5\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"/etc/init.d/network restart\n"})}),"\n",(0,i.jsx)(n.p,{children:"VPN\u5f00\u542f\u5173\u95ed\u811a\u672c\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"cp /usr/share/doc/ppp-2.4.5/scripts/pon /usr/sbin/\ncp /usr/share/doc/ppp-2.4.5/scripts/poff /usr/sbin/\nchmod +x /usr/sbin/pon\nchmod +x /usr/sbin/poff\n\n\npoff test      #\u5173\u95edvpn\npon test      #\u5f00\u542fvpn\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u9519\u8bef\uff1a"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"Using interface ppp0Connect: ppp0 <--\x3e /dev/pts/3CHAP authentication succeededLCP terminated by peer (MPPE required but peer refused)Modem hangup"})}),"\n",(0,i.jsx)(n.p,{children:"\u89e3\u51b3\u65b9\u6cd5\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"# test\u4e3a\u521b\u5efa\u7684vpn\u540d\u79f0\necho 'require-mppe-128' >> /etc/ppp/peers/test\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u9519\u8bef\uff08CentOS7\uff09\uff1a"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"LCP: timeout sending Config-RequestsConnection terminated.Modem hangup"})}),"\n",(0,i.jsx)(n.p,{children:"\u89e3\u51b3\u65b9\u6cd5\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"modprobe nf_conntrack_pptp\nmodprobe nf_conntrack_proto_gre\n"})}),"\n",(0,i.jsx)(n.h2,{id:"nginx-http\u5f3a\u5236\u8df3\u8f6chttps",children:"nginx http\u5f3a\u5236\u8df3\u8f6chttps"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"return 301 https://$server_name$request_uri; \n"})}),"\n",(0,i.jsx)(n.h2,{id:"shadowsocks\u5b89\u88c5",children:"shadowsocks\u5b89\u88c5"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"1.\u5b89\u88c5"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://raw.githubusercontent.com/GavinTan/files/master/picgo/shadowsocks-all.sh",children:"shadowsocks-all.sh"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/shadowsocks/shadowsocks-libev",children:"https://github.com/shadowsocks/shadowsocks-libev"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"2.bbr\u52a0\u901f\u811a\u672c"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://raw.githubusercontent.com/GavinTan/files/master/picgo/bbr.sh",children:"bbr.sh"})}),"\n",(0,i.jsxs)(n.p,{children:["wget --no-check-certificate ",(0,i.jsx)(n.a,{href:"https://github.com/teddysun/across/raw/master/bbr.sh",children:"https://github.com/teddysun/across/raw/master/bbr.sh"})," && chmod +x bbr.sh && ./bbr.sh"]}),"\n",(0,i.jsx)(n.p,{children:"\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u811a\u672c\u4f1a\u63d0\u793a\u9700\u8981\u91cd\u542f VPS\uff0c\u8f93\u5165 y \u5e76\u56de\u8f66\u540e\u91cd\u542f\u3002\u91cd\u542f\u5b8c\u6210\u540e\uff0c\u8fdb\u5165 VPS\uff0c\u9a8c\u8bc1\u4e00\u4e0b\u662f\u5426\u6210\u529f\u5b89\u88c5\u6700\u65b0\u5185\u6838\u5e76\u5f00\u542f TCP BBR\uff0c\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff1a"}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770b\u5185\u6838\u7248\u672c\uff0c\u542b\u6709 4.13 \u5c31\u8868\u793a OK \u4e86"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"uname -r\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770b\u8fd4\u56de\u503c\u662f\u5426\u4e3a net.ipv4.tcp_available_congestion_control = bbr cubic reno"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"sysctl net.ipv4.tcp_available_congestion_control\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770b\u8fd4\u56de\u503c\u662f\u5426\u4e3a net.ipv4.tcp_congestion_control = bbr"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"sysctl net.ipv4.tcp_congestion_control\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770b\u8fd4\u56de\u503c\u662f\u5426\u4e3a net.core.default_qdisc = fq"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"sysctl net.core.default_qdisc\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u8fd4\u56de\u503c\u6709 tcp_bbr \u6a21\u5757\u5373\u8bf4\u660e bbr \u5df2\u542f\u52a8\u3002\u6ce8\u610f\uff1a\u5e76\u4e0d\u662f\u6240\u6709\u7684 VPS \u90fd\u4f1a\u6709\u6b64\u8fd4\u56de\u503c\uff0c\u82e5\u6ca1\u6709\u4e5f\u5c5e\u6b63\u5e38\u3002"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"lsmod | grep bbr\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u53c2\u8003\u94fe\u63a5\uff1a",(0,i.jsx)(n.a,{href:"https://teddysun.com/489.html",children:"https://teddysun.com/489.html"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"3.\u6df7\u6dc6\u63d2\u4ef6simple-obfs"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/shadowsocks/simple-obfs",children:"https://github.com/shadowsocks/simple-obfs"})}),"\n",(0,i.jsx)(n.h2,{id:"linux-\u5927\u4e8e2tb\u78c1\u76d8\u521b\u5efa",children:"linux \u5927\u4e8e2TB\u78c1\u76d8\u521b\u5efa"}),"\n",(0,i.jsx)(n.p,{children:"\u7528part\u547d\u4ee4\u5bf93T\u786c\u76d8\u8fdb\u884c\u5206\u533a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"parted /dev/sdb \n  mklabel gpt\t\t\t#\u7528gpt\u683c\u5f0f\u53ef\u4ee5\u5c063TB\u5f04\u5728\u4e00\u4e2a\u5206\u533a\u91cc\n  unit TB\t\t\t\t#\u8bbe\u7f6e\u5355\u4f4d\u4e3aTB\n  mkpart primary 0 3\t#\u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u4e3b\u5206\u533a,\u5927\u5c0f\u4e3a3TB\uff0c\u5f00\u59cb\u662f0\uff0c\u7ed3\u675f\u662f3\n  print\t\t\t\t\t#\u663e\u793a\u8bbe\u7f6e\u7684\u5206\u533a\u5927\u5c0f\n  quit\t\t\t\t\t#\u9000\u51faparted\u7a0b\u5e8f\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u683c\u5f0f\u5316"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"mkfs.xfs  /dev/sdb1\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u7f51\u7ad9\u538b\u529b\u6d4b\u8bd5",children:"\u7f51\u7ad9\u538b\u529b\u6d4b\u8bd5"}),"\n",(0,i.jsx)(n.p,{children:"\u5bf9baidu\u8fdb\u884c\uff0c1000\u6b21\u8bf7\u6c42\uff0c\u5e76\u53d1\u7528\u623710\u7684\u538b\u529b\u6d4b\u8bd5"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"ab -n 1000 -c 10 http://www.baidu.com\n"})}),"\n",(0,i.jsx)(n.h2,{id:"vi-\u53bb\u7a7a\u683c",children:"vi \u53bb\u7a7a\u683c"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u5220\u9664\u7a7a\u683c\u884c\uff1a\u975e\u7f16\u8f91\u72b6\u6001\u4e0b\u8f93\u5165 ",":g","/^$/d"]}),"\n",(0,i.jsx)(n.li,{children:"\u5220\u9664\u884c\u9996\u7a7a\u683c\uff1a\u975e\u7f16\u8f91\u72b6\u6001\u4e0b\u8f93\u5165: %s/^\\s*//g"}),"\n",(0,i.jsx)(n.li,{children:"\u5220\u9664\u884c\u5c3e\u7a7a\u683c\uff1a\u975e\u7f16\u8f91\u72b6\u6001\u4e0b\u8f93\u5165: %s/\\s*$//g"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"\u67e5\u770b\u6587\u4ef6\u6743\u9650",children:"\u67e5\u770b\u6587\u4ef6\u6743\u9650"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"stat -c %a test.txt\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5e38\u7528\u7684\u53c2\u6570\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"%a Access rights in octal        8\u8fdb\u5236\u663e\u793a\u8bbf\u95ee\u6743\u9650\uff0c0644"}),"\n",(0,i.jsx)(n.li,{children:"%A Access rights in human readable form        \u4ee5\u4eba\u7c7b\u53ef\u8bfb\u7684\u5f62\u5f0f\u8f93\u51fa\uff0c"}),"\n",(0,i.jsx)(n.li,{children:"%F File type        \u6587\u4ef6\u7684\u7c7b\u578b"}),"\n",(0,i.jsx)(n.li,{children:"%g Group ID of owner        \u6240\u5c5e\u7ec4gid\u7684\u53f7\u7801"}),"\n",(0,i.jsx)(n.li,{children:"%G Group name of owner        \u6240\u5c5e\u7ec4\u7684\u540d\u79f0"}),"\n",(0,i.jsx)(n.li,{children:"%h Number of hard links        \u786c\u8fde\u63a5\u7684\u6570\u91cf"}),"\n",(0,i.jsx)(n.li,{children:"%i Inode number        inode\u7684\u503c"}),"\n",(0,i.jsx)(n.li,{children:"%n File name        \u6587\u4ef6\u540d"}),"\n",(0,i.jsx)(n.li,{children:"%o I/O block size        IO\u5757\u5927\u5c0f"}),"\n",(0,i.jsx)(n.li,{children:"%s Total size, in bytes        \u6587\u4ef6\u7684\u603b\u5927\u5c0f\uff0c\u5b57\u8282\u663e\u793a\uff1b"}),"\n",(0,i.jsx)(n.li,{children:"%u User ID of owner        \u6240\u5c5e\u4e3b\u7684uid\u53f7\u7801"}),"\n",(0,i.jsx)(n.li,{children:"%U User name of owner        \u6240\u5c5e\u4e3b\u7684\u540d\u79f0"}),"\n",(0,i.jsx)(n.li,{children:"%x Time of last access        \u6700\u540e\u8bbf\u95ee\u7684\u65f6\u95f4"}),"\n",(0,i.jsx)(n.li,{children:"%X Time of last access as seconds since Epoch        \u6700\u540e\u8bbf\u95ee\u65f6\u95f4\u7684\u65f6\u95f4\u6233"}),"\n",(0,i.jsx)(n.li,{children:"%y Time of last modification        \u6700\u540e\u4fee\u6539\u7684\u65f6\u95f4"}),"\n",(0,i.jsx)(n.li,{children:"%Y Time of last modification as seconds since Epoch        \u6700\u540e\u4fee\u6539\u65f6\u95f4\u7684\u65f6\u95f4\u6233"}),"\n",(0,i.jsx)(n.li,{children:"%z Time of last change        \u6700\u540e\u66f4\u6539\u7684\u65f6\u95f4"}),"\n",(0,i.jsx)(n.li,{children:"%Z Time of last change as seconds since Epoch        \u6700\u540e\u66f4\u6539\u7684\u65f6\u95f4\u7684\u65f6\u95f4\u6233"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"shell-\u5b57\u7b26\u4e32\u53d8\u91cf\u503c\u7684\u66ff\u6362",children:"shell \u5b57\u7b26\u4e32\u53d8\u91cf\u503c\u7684\u66ff\u6362"}),"\n",(0,i.jsx)(n.p,{children:"file=/dir1/dir2/dir3/my.file.txt"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# \u5c06\u7b2c\u4e00\u4e2adir\u66ff\u6362\u4e3apath\uff1a/path1/dir2/dir3/my.file.txt\n${file/dir/path}\n\n#\u5c06\u5168\u90e8\u7684dir\u66ff\u6362\u4e3apath\uff1a/path1/path2/path3/my.file.txt\n${file//dir/path}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["$"," \u7684\u4e00\u4e9b\u529f\u80fd\uff1a"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"${file#*/}"}),"\uff1a\u62ff\u6389\u7b2c\u4e00\u6761 / \u53ca\u5176\u5de6\u8fb9\u7684\u5b57\u7b26\u4e32\uff1adir1/dir2/dir3/my.file.txt"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"${file##*/}"}),"\uff1a\u62ff\u6389\u6700\u540e\u4e00\u6761 / \u53ca\u5176\u5de6\u8fb9\u7684\u5b57\u7b26\u4e32\uff1amy.file.txt"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"${file#*.}"}),"\uff1a\u62ff\u6389\u7b2c\u4e00\u4e2a . \u53ca\u5176\u5de6\u8fb9\u7684\u5b57\u7b26\u4e32\uff1afile.txt"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"${file##*.}"}),"\uff1a\u62ff\u6389\u6700\u540e\u4e00\u4e2a . \u53ca\u5176\u5de6\u8fb9\u7684\u5b57\u7b26\u4e32\uff1atxt"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"${file%/*}"}),"\uff1a\u62ff\u6389\u6700\u540e\u6761 / \u53ca\u5176\u53f3\u8fb9\u7684\u5b57\u7b26\u4e32\uff1a/dir1/dir2/dir3"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"${file%%/*}"}),"\uff1a\u62ff\u6389\u7b2c\u4e00\u6761 / \u53ca\u5176\u53f3\u8fb9\u7684\u5b57\u7b26\u4e32\uff1a(\u7a7a\u503c)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"${file%.*}"}),"\uff1a\u62ff\u6389\u6700\u540e\u4e00\u4e2a . \u53ca\u5176\u53f3\u8fb9\u7684\u5b57\u7b26\u4e32\uff1a/dir1/dir2/dir3/my.file"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"${file%%.*}"}),"\uff1a\u62ff\u6389\u7b2c\u4e00\u4e2a . \u53ca\u5176\u53f3\u8fb9\u7684\u5b57\u7b26\u4e32\uff1a/dir1/dir2/dir3/my"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u8bf4\u660e\uff1a"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"# \u662f\u53bb\u6389\u5de6\u8fb9(\u5728\u952e\u76d8\u4e0a # \u5728 $ \u4e4b\u5de6\u8fb9)"}),"\n",(0,i.jsx)(n.li,{children:"% \u662f\u53bb\u6389\u53f3\u8fb9(\u5728\u952e\u76d8\u4e0a % \u5728 $ \u4e4b\u53f3\u8fb9)"}),"\n",(0,i.jsx)(n.li,{children:"\u5355\u4e00\u4e2a\u7b26\u53f7\uff08# \u6216 %\uff09\u662f\u6700\u5c0f\u5339\u914d\uff0c\u4e24\u4e2a\u7b26\u53f7\uff08# \u6216 %\uff09\u662f\u6700\u5927\u5339\u914d"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["\u53c2\u8003\u94fe\u63a5\uff1a ",(0,i.jsx)(n.a,{href:"http://wiki.jikexueyuan.com/project/13-questions-of-shell/eight.html",children:"http://wiki.jikexueyuan.com/project/13-questions-of-shell/eight.html"})]}),"\n",(0,i.jsx)(n.h2,{id:"linux\u83b7\u53d6\u5916\u7f51ip",children:"linux\u83b7\u53d6\u5916\u7f51ip"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"curl -s http://geoiplookup.net/ |grep -b1 ISP |head -n1|awk -F \">\" '{print $2}'|awk -F \"<\" '{print $1}'\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"curl my.tanwen.net/ip\n"})}),"\n",(0,i.jsx)(n.h2,{id:"locale-\u7f16\u7801\u62a5\u9519",children:"locale \u7f16\u7801\u62a5\u9519"}),"\n",(0,i.jsx)(n.p,{children:"locale: Cannot set LC_CTYPE to default locale: No such file or directory"}),"\n",(0,i.jsx)(n.p,{children:"locale: Cannot set LC_ALL to default locale: No such file or directory"}),"\n",(0,i.jsx)(n.p,{children:"\u89e3\u51b3\u65b9\u6cd5\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"yum install glibc-common\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"http://blog.csdn.net/wave_1102/article/details/45116783",children:"http://blog.csdn.net/wave_1102/article/details/45116783"})}),"\n",(0,i.jsx)(n.h2,{id:"windows\u4e0b\u7f16\u8f91\u7684shell\u811a\u672c\u5728linux\u65e0\u6cd5\u6267\u884c",children:"Windows\u4e0b\u7f16\u8f91\u7684shell\u811a\u672c\u5728Linux\u65e0\u6cd5\u6267\u884c"}),"\n",(0,i.jsx)(n.p,{children:"\u5728windows\u4e0b\u7f16\u8f91\u7684shell\u811a\u672c\u653e\u5230Linux\u73af\u5883\u4e0b\u6bd4\u5982\u624b\u673a\u4e2d\u8fd0\u884c\u65f6\u5c31\u4f1a\u51fa\u4e00\u4e9b\u83ab\u540d\u5176\u5999\u7684\u9519\u8bef\uff0c\u4e00\u4e9b\u975e\u5e38\u7b80\u5355\u7684shell\u547d\u4ee4\u4e5f\u4f1a\u62a5\u9519\u3002\u5176\u5b9e\u9519\u8bef\u7684\u539f\u56e0\u53ea\u6709\u4e00\u4e2a\u5c31\u662f\u683c\u5f0f\u95ee\u9898\uff0c\u5728windows\u4e0b\u7f16\u8f91\u51fa\u7684shell\u811a\u672c\u683c\u5f0f\u4e3ados\u683c\u5f0f\uff0c\u800clinux\u53ea\u80fd\u6267\u884c\u683c\u5f0f\u4e3aunix\u683c\u5f0f\u7684\u811a\u672c\u3002\u56e0\u4e3a\u5728dos/window\u4e0b\u6309\u4e00\u6b21\u56de\u8f66\u952e\u5b9e\u9645\u4e0a\u8f93\u5165\u7684\u662f\u201c\u56de\u8f66\uff08CR)\u201d\u548c\u201c\u6362\u884c\uff08LF\uff09\u201d\uff0c\u5373'\\r\\n'\uff0c\u800cLinux/unix\u4e0b\u6309\u4e00\u6b21\u56de\u8f66\u952e\u53ea\u8f93\u5165\u201c\u6362\u884c\uff08LF\uff09\u201d\uff0c\u5373'\\n'\uff0c\u6240\u4ee5\u4fee\u6539\u7684sh\u6587\u4ef6\u5728\u6bcf\u884c\u90fd\u4f1a\u591a\u4e86\u4e00\u4e2aCR\uff0c\u6240\u4ee5Linux\u4e0b\u8fd0\u884c\u65f6\u5c31\u4f1a\u62a5\u9519\u627e\u4e0d\u5230\u547d\u4ee4\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u7684\u65b9\u6cd5\u6709\u51e0\u79cd\uff1a"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\u901a\u8fc7vi\u5de5\u5177\u4fee\u6539\u683c\u5f0f \u5728linux\u4e0b\u901a\u8fc7vi\u6253\u5f00\u8be5\u6587\u4ef6\u3002\u5728\u547d\u4ee4\u6a21\u5f0f\u4e0b\u4f7f\u7528set ff\u547d\u4ee4\uff0c\u53ef\u4ee5\u770b\u5230\u8be5\u6587\u4ef6\u7684\u683c\u5f0f\u4e3afileformat=dos  cat -A filename  \u53ef\u4ee5\u770b\u5230\u6bcf\u884c\u5c3e\u90fd\u7528^M \u7136\u540e\u4fee\u6539\u6587\u4ef6\u683c\u5f0f\uff1a",(0,i.jsx)(n.strong,{children:"set ff=unix"}),"\uff0c\u6700\u540e\u4fdd\u5b58\u9000\u51fa\u5c31\u53ef\u4ee5\u4e86\u3002"]}),"\n",(0,i.jsx)(n.li,{children:"\u7528fromdos\u547d\u4ee4\u8f6c\u6362 fromdos\u547d\u4ee4\u662fubuntu\u4e0b\u8fdb\u884cdos\u683c\u5f0f\u6587\u4ef6\u8f6c\u6362\u6210linux\u7cfb\u7edf\u53ef\u4ee5\u4f7f\u7528\u7684\u6587\u4ef6\u683c\u5f0f\u7684\u547d\u4ee4\u3002  windows\u4e0b\u5f88\u5927\u7f16\u8f91\u5668\u672c\u8eab\u4e5f\u53ef\u4ee5\u652f\u6301linux\u683c\u5f0f\u7684\u6587\u4ef6\u7f16\u8f91\u4fdd\u5b58\uff0c\u4e0d\u8fc7\u9ed8\u8ba4\u5e76\u4e0d\u662flinux\u683c\u5f0f\u7684 \u6700\u7b80\u5355\u7684\u529e\u6cd5\u5c31\u662f"}),"\n",(0,i.jsx)(n.li,{children:"\u627e\u4e00\u4e2a\u5df2\u7ecf\u662flinux\u683c\u5f0f\u7684shell\u811a\u672c\u6587\u4ef6\uff0c\u5728\u6b64\u57fa\u7840\u4e0a\u8fdb\u884c\u4fee\u6539\u4fdd\u5b58\uff0c\u8fd9\u6837\u4fdd\u5b58\u4e4b\u540e\u4ecd\u7136\u4e5f\u662flinux\u683c\u5f0f\u7684\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u4f7f\u7528dos2unix\u547d\u4ee4\u8f6c\u6362"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"pip-\u5b89\u88c5",children:"pip \u5b89\u88c5"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py\npython get-pip.py\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"curl https://bootstrap.pypa.io/get-pip.py|python\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u811a\u672c\u53d6\u5f97\u7f51\u7ad9\u72b6\u6001\u7801",children:"\u811a\u672c\u53d6\u5f97\u7f51\u7ad9\u72b6\u6001\u7801"}),"\n",(0,i.jsx)(n.p,{children:"shell"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"curl -I -m 10 -o /dev/null -s -w %{http_code} www.baidu.com\n"})}),"\n",(0,i.jsx)(n.p,{children:"python"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'import urllib\nstatus=urllib.urlopen("http://www.baidu.com").code\nprint status\n'})}),"\n",(0,i.jsx)(n.h2,{id:"\u67e5\u627e\u6307\u5b9a\u65e5\u671f\u6587\u4ef6",children:"\u67e5\u627e\u6307\u5b9a\u65e5\u671f\u6587\u4ef6"}),"\n",(0,i.jsx)(n.p,{children:"\u8981\u5728\u4e00\u4e2a\u76ee\u5f55\u4e2d\u67e5\u627e2015-12-25\u521b\u5efa\u7684Java\u6587\u4ef6"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"find -name *.java -newermt '2015-12-25 08:00:00' ! -newermt '2015-12-25 21:00:00'\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'ls -alR --full-time * | grep "2015-12-25"| grep ".java"\n'})}),"\n",(0,i.jsx)(n.h2,{id:"centos7-\u521b\u5efa\u81ea\u5b9a\u4e49\u670d\u52a1",children:"centos7 \u521b\u5efa\u81ea\u5b9a\u4e49\u670d\u52a1"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",metastring:"title=bao.service",children:"[Unit]\nDescription= ads rank web server\n[Service]\nType=simple\nExecStart=/work/jbp_ads_server/jbp_ads_server\nExecReload=/bin/kill -HUP $MAINPID\nKillMode=control-group\nRestart=on-failure\nRestartSec=3s\nPrivateTmp=true\n[Install]\nWantedBy=multi-user.target\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"mv adsrankweb.service /usr/lib/systemd/system\n\nsystemctl daemon-reload\nsystemctl start adsrankweb\nsystemctl stop adsrankweb\n"})}),"\n",(0,i.jsx)(n.h2,{id:"screen--\u4fdd\u5b58\u65e5\u5fd7",children:"screen  \u4fdd\u5b58\u65e5\u5fd7"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"echo 'logfile /tmp/screenlog_%t.log' >> /etc/screenrc\nscreen -L -t vod -S run    \n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u5185\u5b58\u7f13\u5b58",children:"\u5185\u5b58\u7f13\u5b58"}),"\n",(0,i.jsx)(n.p,{children:"Cache\uff0c\u8bd1\u4f5c\u201c\u7f13\u5b58\u201d\uff0c\u6307 CPU \u548c\u5185\u5b58\u4e4b\u95f4\u9ad8\u901f\u7f13\u5b58\u3002"}),"\n",(0,i.jsx)(n.p,{children:"Buffer\uff0c\u8bd1\u4f5c\u201c\u7f13\u51b2\u533a\u201d\uff0c\u6307\u5728\u5199\u5165\u78c1\u76d8\u524d\u7684\u5b58\u50a8\u518d\u5185\u5b58\u4e2d\u7684\u5185\u5bb9\u3002\u5728\u672c\u6587\u4e2d\uff0cBuffer \u548c Cache \u6709\u65f6\u5019\u4f1a\u901a\u6307\u3002"}),"\n",(0,i.jsx)(n.p,{children:"#\u4ec5\u6e05\u9664\u9875\u9762\u7f13\u5b58\uff08PageCache\uff09  \u751f\u4ea7\u73af\u5883\u9002\u7528"}),"\n",(0,i.jsx)(n.p,{children:"sync; echo 1 > /proc/sys/vm/drop_caches\n#\u6e05\u9664\u76ee\u5f55\u9879\u548cinodesync; echo 2 > /proc/sys/vm/drop_caches\n#\u6e05\u9664\u9875\u9762\u7f13\u5b58\uff0c\u76ee\u5f55\u9879\u548cinodesync; echo 3 > /proc/sys/vm/drop_caches"}),"\n",(0,i.jsx)(n.h2,{id:"git-\u514d\u5bc6\u7801",children:"git \u514d\u5bc6\u7801"}),"\n",(0,i.jsx)(n.p,{children:"\u6c38\u4e45\u4fdd\u5b58"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"git config --global credential.helper store\n"})}),"\n",(0,i.jsx)(n.p,{children:"l\u4e34\u65f6\uff0c\u9ed8\u8ba4\u4fdd\u5b5815\u5206\u949f"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"git config --global credential.helper cache\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u6216\u8005\u4fee\u6539config"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"vi .git/config\n\nurl = http://username:password@xiaohulu.hub520.com/yinzhonghua/xhl_newguild.git\n"})}),"\n",(0,i.jsx)(n.h2,{id:"linux-l2tp-\u5b89\u88c5\u811a\u672c",children:"linux l2tp \u5b89\u88c5\u811a\u672c"}),"\n",(0,i.jsx)(n.p,{children:"Ubuntu & Debian"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"wget https://git.io/vpnsetup\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://raw.githubusercontent.com/GavinTan/files/master/picgo/vpnsetup",children:"vpnsetup"})}),"\n",(0,i.jsx)(n.p,{children:"CentOS & RHEL"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"wget https://git.io/vpnsetup-centos\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://raw.githubusercontent.com/GavinTan/files/master/picgo/vpnsetup-centos",children:"vpnsetup-centos"})}),"\n",(0,i.jsxs)(n.p,{children:["github:   ",(0,i.jsx)(n.a,{href:"https://github.com/hwdsl2/setup-ipsec-vpn",children:"https://github.com/hwdsl2/setup-ipsec-vpn"})]}),"\n",(0,i.jsx)(n.h2,{id:"linux-\u67e5\u627e",children:"linux \u67e5\u627e"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"find      #\u67e5\u627e\u6240\u6709\u6587\u4ef6"}),"\n",(0,i.jsx)(n.li,{children:"locate    #\u8ddffind\u7c7b\u4f3c\u901f\u5ea6\u8f83\u5feb\u76f4\u63a5\u641c\u7d22 locatedb\u6570\u636e\u5e93"}),"\n",(0,i.jsx)(n.li,{children:"which    #\u901a\u8fc7\u73af\u5883\u53d8\u91cf\u67e5\u627e"}),"\n",(0,i.jsx)(n.li,{children:"whereis   #\u641c\u7d22\u7a0b\u5e8f\u4e8c\u8fdb\u5236\u6587\u4ef6"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"linux-\u6d4b\u8bd5\u7f51\u901f",children:"linux \u6d4b\u8bd5\u7f51\u901f"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"wget https://raw.githubusercontent.com/sivel/speedtest-cli/master/speedtest.py\n\n\npython speedtest.py\n"})}),"\n",(0,i.jsx)(n.h2,{id:"cobbler-\u5b89\u88c5\u9519\u8bef",children:"cobbler \u5b89\u88c5\u9519\u8bef"}),"\n",(0,i.jsx)(n.p,{children:"File \"setup.py\", line 373, in run  path = os.path.join(self.root + libpath, 'webui_sessions')TypeError: unsupported operand type(s) for +: 'NoneType' and 'str'"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://raw.githubusercontent.com/GavinTan/files/master/picgo/202201111534183.png",alt:"Image"})}),"\n",(0,i.jsx)(n.h2,{id:"linux\u6587\u672c\u5904\u7406\u547d\u4ee4",children:"linux\u6587\u672c\u5904\u7406\u547d\u4ee4"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"sor"}),"\n",(0,i.jsx)(n.li,{children:"tr"}),"\n",(0,i.jsx)(n.li,{children:"cut"}),"\n",(0,i.jsx)(n.li,{children:"paste"}),"\n",(0,i.jsx)(n.li,{children:"uniq"}),"\n",(0,i.jsx)(n.li,{children:"tee"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"\u5347\u7ea7php56",children:"\u5347\u7ea7php5.6"}),"\n",(0,i.jsx)(n.p,{children:"\u65b9\u6cd51\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"rpm -Uvh http://mirror.webtatic.com/yum/el6/latest.rpm\nyum install php56w php56w-opcache php56w-fpm php56w-mysql  php56w-bcmath php56w-mbstring php56w-gd php56w-xmlwriter \n"})}),"\n",(0,i.jsx)(n.p,{children:"\u65b9\u6cd52\uff1a"}),"\n",(0,i.jsx)(n.p,{children:"\u914d\u7f6eyum\u6e90"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"rpm -Uvh http://ftp.iij.ad.jp/pub/linux/fedora/epel/6/x86_64/epel-release-6-8.noarch.rpm\n\nrpm -Uvh http://rpms.famillecollet.com/enterprise/remi-release-6.rpm\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u4ee5\u4e0b\u662fCentOS 7.0\u7684\u6e90\u3002"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"yum install epel-releaserpm -ivh http://rpms.famillecollet.com/enterprise/remi-release-7.rpm\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u4f7f\u7528yum list\u547d\u4ee4\u67e5\u770b\u53ef\u5b89\u88c5\u7684\u5305(Packege)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"yum list --enablerepo=remi --enablerepo=remi-php56 | grep php\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5b89\u88c5PHP5.6.x"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"yum install --enablerepo=remi --enablerepo=remi-php56 php php-opcache php-devel php-mbstring php-mcrypt php-mysqlnd php-phpunit-PHPUnit php-pecl-xdebug php-pecl-xhprof\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u540e\u53f0\u4efb\u52a1",children:"\u540e\u53f0\u4efb\u52a1"}),"\n",(0,i.jsx)(n.p,{children:"&  nohup  screen   #\u540e\u53f0\u6267\u884c"}),"\n",(0,i.jsx)(n.p,{children:"jobs  #\u67e5\u770b\u540e\u53f0\u4efb\u52a1"}),"\n",(0,i.jsx)(n.p,{children:"fg    #\u5c06\u7a0b\u5e8f\u653e\u5728\u524d\u53f0\u6267\u884c\uff08\u5207\u6362\u540e\u53f0\u4efb\u52a1\u5230\u524d\u53f0\uff09"}),"\n",(0,i.jsx)(n.p,{children:"bg   #\u5c06\u7a0b\u5e8f\u653e\u5728\u540e\u53f0\u6267\u884c"}),"\n",(0,i.jsx)(n.h2,{id:"saltstack\u5b89\u88c5",children:"saltstack\u5b89\u88c5"}),"\n",(0,i.jsx)(n.p,{children:"CentOS 6:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"yum install https://repo.saltstack.com/yum/redhat/salt-repo-latest-1.el6.noarch.rpm\nyum install salt-master salt-minion salt-ssh salt-syndic salt-cloud salt-api\nservice salt-minion restart\n"})}),"\n",(0,i.jsx)(n.p,{children:"CentOS 7:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"yum install https://repo.saltstack.com/yum/redhat/salt-repo-latest-1.el7.noarch.rpm\nyum install salt-master salt-minion salt-ssh salt-syndic salt-cloud salt-api\nsystemctl restart salt-minion\n"})}),"\n",(0,i.jsx)(n.h2,{id:"ubuntu\u5b89\u88c5\u684c\u9762\u73af\u5883",children:"Ubuntu\u5b89\u88c5\u684c\u9762\u73af\u5883"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"sudo apt-get install xinit\nsudo apt-get install gdm\nsudo apt-get install ubuntu-desktop\n"})}),"\n",(0,i.jsx)(n.h2,{id:"ubuntu\u63d0\u793aw-mdadm-etcmdadmmdadmconf-defines-no-arrays",children:"Ubuntu\u63d0\u793aW: mdadm: /etc/mdadm/mdadm.conf defines no arrays"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"mv /etc/mdadm/mdadm.conf /etc/mdadm/mdadm.conf.bak\nupdate-initramfs -u\n"})}),"\n",(0,i.jsx)(n.h2,{id:"mysql-56-mycnf-\u53c2\u6570\u8bf4\u660e",children:"MySQL 5.6 my.cnf \u53c2\u6570\u8bf4\u660e"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"# \u4ee5\u4e0b\u9009\u9879\u4f1a\u88abMySQL\u5ba2\u6237\u7aef\u5e94\u7528\u8bfb\u53d6\u3002\n# \u6ce8\u610f\u53ea\u6709MySQL\u9644\u5e26\u7684\u5ba2\u6237\u7aef\u5e94\u7528\u7a0b\u5e8f\u4fdd\u8bc1\u53ef\u4ee5\u8bfb\u53d6\u8fd9\u6bb5\u5185\u5bb9\u3002\n# \u5982\u679c\u4f60\u60f3\u4f60\u81ea\u5df1\u7684MySQL\u5e94\u7528\u7a0b\u5e8f\u83b7\u53d6\u8fd9\u4e9b\u503c\u3002\n# \u9700\u8981\u5728MySQL\u5ba2\u6237\u7aef\u5e93\u521d\u59cb\u5316\u7684\u65f6\u5019\u6307\u5b9a\u8fd9\u4e9b\u9009\u9879\u3002\n\n#\n[client]\n#password = [your_password]\nport = @MYSQL_TCP_PORT@\nsocket = @MYSQL_UNIX_ADDR@\n\n# *** \u5e94\u7528\u5b9a\u5236\u9009\u9879 ***\n\n#\n# MySQL \u670d\u52a1\u7aef\n#\n[mysqld]\n\n# \u4e00\u822c\u914d\u7f6e\u9009\u9879\nport = @MYSQL_TCP_PORT@\nsocket = @MYSQL_UNIX_ADDR@\n\n# back_log \u662f\u64cd\u4f5c\u7cfb\u7edf\u5728\u76d1\u542c\u961f\u5217\u4e2d\u6240\u80fd\u4fdd\u6301\u7684\u8fde\u63a5\u6570,\n# \u961f\u5217\u4fdd\u5b58\u4e86\u5728 MySQL \u8fde\u63a5\u7ba1\u7406\u5668\u7ebf\u7a0b\u5904\u7406\u4e4b\u524d\u7684\u8fde\u63a5.\n# \u5982\u679c\u4f60\u6709\u975e\u5e38\u9ad8\u7684\u8fde\u63a5\u7387\u5e76\u4e14\u51fa\u73b0 \u201cconnection refused\u201d \u62a5\u9519,\n# \u4f60\u5c31\u5e94\u8be5\u589e\u52a0\u6b64\u5904\u7684\u503c.\n# \u68c0\u67e5\u4f60\u7684\u64cd\u4f5c\u7cfb\u7edf\u6587\u6863\u6765\u83b7\u53d6\u8fd9\u4e2a\u53d8\u91cf\u7684\u6700\u5927\u503c.\n# \u5982\u679c\u5c06back_log\u8bbe\u5b9a\u5230\u6bd4\u4f60\u64cd\u4f5c\u7cfb\u7edf\u9650\u5236\u66f4\u9ad8\u7684\u503c,\u5c06\u4f1a\u6ca1\u6709\u6548\u679c\nback_log = 300\n\n# \u4e0d\u5728 TCP/IP \u7aef\u53e3\u4e0a\u8fdb\u884c\u76d1\u542c.\n# \u5982\u679c\u6240\u6709\u7684\u8fdb\u7a0b\u90fd\u662f\u5728\u540c\u4e00\u53f0\u670d\u52a1\u5668\u8fde\u63a5\u5230\u672c\u5730\u7684 mysqld,\n# \u8fd9\u6837\u8bbe\u7f6e\u5c06\u662f\u589e\u5f3a\u5b89\u5168\u7684\u65b9\u6cd5\n# \u6240\u6709 mysqld \u7684\u8fde\u63a5\u90fd\u662f\u901a\u8fc7 Unix Sockets \u6216\u8005\u547d\u540d\u7ba1\u9053\u8fdb\u884c\u7684.\n# \u6ce8\u610f\u5728 Windows\u4e0b\u5982\u679c\u6ca1\u6709\u6253\u5f00\u547d\u540d\u7ba1\u9053\u9009\u9879\u800c\u53ea\u662f\u7528\u6b64\u9879\n# (\u901a\u8fc7 \u201cenable-named-pipe\u201d \u9009\u9879) \u5c06\u4f1a\u5bfc\u81f4 MySQL \u670d\u52a1\u6ca1\u6709\u4efb\u4f55\u4f5c\u7528!\n#skip-networking\n\n# MySQL \u670d\u52a1\u6240\u5141\u8bb8\u7684\u540c\u65f6\u4f1a\u8bdd\u6570\u7684\u4e0a\u9650\n# \u5176\u4e2d\u4e00\u4e2a\u8fde\u63a5\u5c06\u88ab SUPER \u6743\u9650\u4fdd\u7559\u4f5c\u4e3a\u7ba1\u7406\u5458\u767b\u5f55.\n# \u5373\u4fbf\u5df2\u7ecf\u8fbe\u5230\u4e86\u8fde\u63a5\u6570\u7684\u4e0a\u9650.\nmax_connections = 3000\n\n# \u6bcf\u4e2a\u5ba2\u6237\u7aef\u8fde\u63a5\u6700\u5927\u7684\u9519\u8bef\u5141\u8bb8\u6570\u91cf,\u5982\u679c\u8fbe\u5230\u4e86\u6b64\u9650\u5236.\n# \u8fd9\u4e2a\u5ba2\u6237\u7aef\u5c06\u4f1a\u88ab MySQL \u670d\u52a1\u963b\u6b62\u76f4\u5230\u6267\u884c\u4e86 \u201cFLUSH HOSTS\u201d \u6216\u8005\u670d\u52a1\u91cd\u542f\n# \u975e\u6cd5\u7684\u5bc6\u7801\u4ee5\u53ca\u5176\u4ed6\u5728\u94fe\u63a5\u65f6\u7684\u9519\u8bef\u4f1a\u589e\u52a0\u6b64\u503c.\n# \u67e5\u770b \u201cAborted_connects\u201d \u72b6\u6001\u6765\u83b7\u53d6\u5168\u5c40\u8ba1\u6570\u5668.\nmax_connect_errors = 50\n\n# \u6240\u6709\u7ebf\u7a0b\u6240\u6253\u5f00\u8868\u7684\u6570\u91cf.\n# \u589e\u52a0\u6b64\u503c\u5c31\u589e\u52a0\u4e86 mysqld \u6240\u9700\u8981\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u7684\u6570\u91cf\n# \u8fd9\u6837\u4f60\u9700\u8981\u786e\u8ba4\u5728 [mysqld_safe] \u4e2d \u201copen-files-limit\u201d \u53d8\u91cf\u8bbe\u7f6e\u6253\u5f00\u6587\u4ef6\u6570\u91cf\u5141\u8bb8\u81f3\u5c11\u7b49\u4e8e table_cache \u7684\u503c\ntable_open_cache = 4096\n\n# \u5141\u8bb8\u5916\u90e8\u6587\u4ef6\u7ea7\u522b\u7684\u9501. \u6253\u5f00\u6587\u4ef6\u9501\u4f1a\u5bf9\u6027\u80fd\u9020\u6210\u8d1f\u9762\u5f71\u54cd\n# \u6240\u4ee5\u53ea\u6709\u5728\u4f60\u5728\u540c\u6837\u7684\u6587\u4ef6\u4e0a\u8fd0\u884c\u591a\u4e2a\u6570\u636e\u5e93\u5b9e\u4f8b\u65f6\u624d\u4f7f\u7528\u6b64\u9009\u9879(\u6ce8\u610f\u4ecd\u4f1a\u6709\u5176\u4ed6\u7ea6\u675f!)\n# \u6216\u8005\u4f60\u5728\u6587\u4ef6\u5c42\u9762\u4e0a\u4f7f\u7528\u4e86\u5176\u4ed6\u4e00\u4e9b\u8f6f\u4ef6\u4f9d\u8d56\u6765\u9501\u5b9a MyISAM \u8868\n#external-locking\n\n# \u670d\u52a1\u6240\u80fd\u5904\u7406\u7684\u8bf7\u6c42\u5305\u7684\u6700\u5927\u5927\u5c0f\u4ee5\u53ca\u670d\u52a1\u6240\u80fd\u5904\u7406\u7684\u6700\u5927\u7684\u8bf7\u6c42\u5927\u5c0f(\u5f53\u4e0e\u5927\u7684 BLOB \u5b57\u6bb5\u4e00\u8d77\u5de5\u4f5c\u65f6\u76f8\u5f53\u5fc5\u8981)\n# \u6bcf\u4e2a\u8fde\u63a5\u72ec\u7acb\u7684\u5927\u5c0f\uff0c\u5927\u5c0f\u52a8\u6001\u589e\u52a0\nmax_allowed_packet = 32M\n\n# \u5728\u4e00\u4e2a\u4e8b\u52a1\u4e2d binlog \u4e3a\u4e86\u8bb0\u5f55 SQL \u72b6\u6001\u6240\u6301\u6709\u7684 cache \u5927\u5c0f\n# \u5982\u679c\u4f60\u7ecf\u5e38\u4f7f\u7528\u5927\u7684,\u591a\u58f0\u660e\u7684\u4e8b\u52a1,\u4f60\u53ef\u4ee5\u589e\u52a0\u6b64\u503c\u6765\u83b7\u53d6\u66f4\u5927\u7684\u6027\u80fd.\n# \u6240\u6709\u4ece\u4e8b\u52a1\u6765\u7684\u72b6\u6001\u90fd\u5c06\u88ab\u7f13\u51b2\u5728 binlog \u7f13\u51b2\u4e2d\u7136\u540e\u5728\u63d0\u4ea4\u540e\u4e00\u6b21\u6027\u5199\u5165\u5230 binlog \u4e2d\n# \u5982\u679c\u4e8b\u52a1\u6bd4\u6b64\u503c\u5927, \u4f1a\u4f7f\u7528\u78c1\u76d8\u4e0a\u7684\u4e34\u65f6\u6587\u4ef6\u6765\u66ff\u4ee3.\n# \u6b64\u7f13\u51b2\u5728\u6bcf\u4e2a\u8fde\u63a5\u7684\u4e8b\u52a1\u7b2c\u4e00\u6b21\u66f4\u65b0\u72b6\u6001\u65f6\u88ab\u521b\u5efa\nbinlog_cache_size = 4M\n\n# \u72ec\u7acb\u7684\u5185\u5b58\u8868\u6240\u5141\u8bb8\u7684\u6700\u5927\u5bb9\u91cf.\n# \u6b64\u9009\u9879\u4e3a\u4e86\u9632\u6b62\u610f\u5916\u521b\u5efa\u4e00\u4e2a\u8d85\u5927\u7684\u5185\u5b58\u8868\u5bfc\u81f4\u6c38\u5c3d\u6240\u6709\u7684\u5185\u5b58\u8d44\u6e90.\nmax_heap_table_size = 128M\n\n# \u968f\u673a\u8bfb\u53d6\u6570\u636e\u7f13\u51b2\u533a\u4f7f\u7528\u5185\u5b58(read_rnd_buffer_size)\uff1a\u548c\u987a\u5e8f\u8bfb\u53d6\u76f8\u5bf9\u5e94\uff0c\n# \u5f53 MySQL \u8fdb\u884c\u975e\u987a\u5e8f\u8bfb\u53d6\uff08\u968f\u673a\u8bfb\u53d6\uff09\u6570\u636e\u5757\u7684\u65f6\u5019\uff0c\u4f1a\u5229\u7528>\u8fd9\u4e2a\u7f13\u51b2\u533a\u6682\u5b58\u8bfb\u53d6\u7684\u6570\u636e\n# \u5982\u6839\u636e\u7d22\u5f15\u4fe1\u606f\u8bfb\u53d6\u8868\u6570\u636e\uff0c\u6839\u636e\u6392\u5e8f\u540e\u7684\u7ed3\u679c\u96c6\u4e0e\u8868\u8fdb\u884c Join \u7b49\u7b49\n# \u603b\u7684\u6765\u8bf4\uff0c\u5c31\u662f\u5f53\u6570\u636e\u5757\u7684\u8bfb\u53d6\u9700\u8981\u6ee1\u8db3>\u4e00\u5b9a\u7684\u987a\u5e8f\u7684\u60c5\u51b5\u4e0b\uff0cMySQL \u5c31\u9700\u8981\u4ea7\u751f\u968f\u673a\u8bfb\u53d6\uff0c\u8fdb\u800c\u4f7f\u7528\u5230 read_rnd_buffer_size \u53c2\u6570\u6240\u8bbe\u7f6e\u7684\u5185\u5b58\u7f13\u51b2\u533a\nread_rnd_buffer_size = 16M\n\n# \u6392\u5e8f\u7f13\u51b2\u88ab\u7528\u6765\u5904\u7406\u7c7b\u4f3c ORDER BY \u4ee5\u53ca GROUP BY \u961f\u5217\u6240\u5f15\u8d77\u7684\u6392\u5e8f\n# \u5982\u679c\u6392\u5e8f\u540e\u7684\u6570\u636e\u65e0\u6cd5\u653e\u5165\u6392\u5e8f\u7f13\u51b2,\u4e00\u4e2a\u7528\u6765\u66ff\u4ee3\u7684\u57fa\u4e8e\u78c1\u76d8\u7684\u5408\u5e76\u5206\u7c7b\u4f1a\u88ab\u4f7f\u7528\n# \u67e5\u770b \u201cSort_merge_passes\u201d \u72b6\u6001\u53d8\u91cf.\n# \u5728\u6392\u5e8f\u53d1\u751f\u65f6\u7531\u6bcf\u4e2a\u7ebf\u7a0b\u5206\u914d\nsort_buffer_size = 16M\n\n# \u6b64\u7f13\u51b2\u88ab\u4f7f\u7528\u6765\u4f18\u5316\u5168\u8054\u5408(FULL JOINS \u4e0d\u5e26\u7d22\u5f15\u7684\u8054\u5408).\n# \u7c7b\u4f3c\u7684\u8054\u5408\u5728\u6781\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u6709\u975e\u5e38\u7cdf\u7cd5\u7684\u6027\u80fd\u8868\u73b0,\u4f46\u662f\u5c06\u6b64\u503c\u8bbe\u5927\u80fd\u591f\u51cf\u8f7b\u6027\u80fd\u5f71\u54cd.\n# \u901a\u8fc7 \u201cSelect_full_join\u201d \u72b6\u6001\u53d8\u91cf\u67e5\u770b\u5168\u8054\u5408\u7684\u6570\u91cf\n# \u5f53\u5168\u8054\u5408\u53d1\u751f\u65f6,\u5728\u6bcf\u4e2a\u7ebf\u7a0b\u4e2d\u5206\u914d\njoin_buffer_size = 16M\n\n# \u6211\u4eec\u5728 cache \u4e2d\u4fdd\u7559\u591a\u5c11\u7ebf\u7a0b\u7528\u4e8e\u91cd\u7528\n# \u5f53\u4e00\u4e2a\u5ba2\u6237\u7aef\u65ad\u5f00\u8fde\u63a5\u540e,\u5982\u679c cache \u4e2d\u7684\u7ebf\u7a0b\u8fd8\u5c11\u4e8e thread_cache_size,\u5219\u5ba2\u6237\u7aef\u7ebf\u7a0b\u88ab\u653e\u5165cache \u4e2d.\n# \u8fd9\u53ef\u4ee5\u5728\u4f60\u9700\u8981\u5927\u91cf\u65b0\u8fde\u63a5\u7684\u65f6\u5019\u6781\u5927\u7684\u51cf\u5c11\u7ebf\u7a0b\u521b\u5efa\u7684\u5f00\u9500\n# (\u4e00\u822c\u6765\u8bf4\u5982\u679c\u4f60\u6709\u597d\u7684\u7ebf\u7a0b\u6a21\u578b\u7684\u8bdd,\u8fd9\u4e0d\u4f1a\u6709\u660e\u663e\u7684\u6027\u80fd\u63d0\u5347.)\nthread_cache_size = 16\n\n# \u6b64\u5141\u8bb8\u5e94\u7528\u7a0b\u5e8f\u7ed9\u4e88\u7ebf\u7a0b\u7cfb\u7edf\u4e00\u4e2a\u63d0\u793a\u5728\u540c\u4e00\u65f6\u95f4\u7ed9\u4e88\u6e34\u671b\u88ab\u8fd0\u884c\u7684\u7ebf\u7a0b\u7684\u6570\u91cf.\n# \u6b64\u503c\u53ea\u5bf9\u4e8e\u652f\u6301 thread_concurrency() \u51fd\u6570\u7684\u7cfb\u7edf\u6709\u610f\u4e49( \u4f8b\u5982Sun Solaris).\n# \u4f60\u53ef\u53ef\u4ee5\u5c1d\u8bd5\u4f7f\u7528 [CPU\u6570\u91cf]*(2..4) \u6765\u4f5c\u4e3a thread_concurrency \u7684\u503c\nthread_concurrency = 8\n\n# \u67e5\u8be2\u7f13\u51b2\u5e38\u88ab\u7528\u6765\u7f13\u51b2 SELECT \u7684\u7ed3\u679c\u5e76\u4e14\u5728\u4e0b\u4e00\u6b21\u540c\u6837\u67e5\u8be2\u7684\u65f6\u5019\u4e0d\u518d\u6267\u884c\u76f4\u63a5\u8fd4\u56de\u7ed3\u679c.\n# \u6253\u5f00\u67e5\u8be2\u7f13\u51b2\u53ef\u4ee5\u6781\u5927\u7684\u63d0\u9ad8\u670d\u52a1\u5668\u901f\u5ea6, \u5982\u679c\u4f60\u6709\u5927\u91cf\u7684\u76f8\u540c\u7684\u67e5\u8be2\u5e76\u4e14\u5f88\u5c11\u4fee\u6539\u8868.\n# \u67e5\u770b \u201cQcache_lowmem_prunes\u201d \u72b6\u6001\u53d8\u91cf\u6765\u68c0\u67e5\u662f\u5426\u5f53\u524d\u503c\u5bf9\u4e8e\u4f60\u7684\u8d1f\u8f7d\u6765\u8bf4\u662f\u5426\u8db3\u591f\u9ad8.\n# \u6ce8\u610f: \u5728\u4f60\u8868\u7ecf\u5e38\u53d8\u5316\u7684\u60c5\u51b5\u4e0b\u6216\u8005\u5982\u679c\u4f60\u7684\u67e5\u8be2\u539f\u6587\u6bcf\u6b21\u90fd\u4e0d\u540c,\n# \u67e5\u8be2\u7f13\u51b2\u4e5f\u8bb8\u5f15\u8d77\u6027\u80fd\u4e0b\u964d\u800c\u4e0d\u662f\u6027\u80fd\u63d0\u5347.\nquery_cache_size = 128M\n\n# \u53ea\u6709\u5c0f\u4e8e\u6b64\u8bbe\u5b9a\u503c\u7684\u7ed3\u679c\u624d\u4f1a\u88ab\u7f13\u51b2\n# \u6b64\u8bbe\u7f6e\u7528\u6765\u4fdd\u62a4\u67e5\u8be2\u7f13\u51b2,\u9632\u6b62\u4e00\u4e2a\u6781\u5927\u7684\u7ed3\u679c\u96c6\u5c06\u5176\u4ed6\u6240\u6709\u7684\u67e5\u8be2\u7ed3\u679c\u90fd\u8986\u76d6.\nquery_cache_limit = 4M\n\n# \u88ab\u5168\u6587\u68c0\u7d22\u7d22\u5f15\u7684\u6700\u5c0f\u7684\u5b57\u957f.\n# \u4f60\u4e5f\u8bb8\u5e0c\u671b\u51cf\u5c11\u5b83,\u5982\u679c\u4f60\u9700\u8981\u641c\u7d22\u66f4\u77ed\u5b57\u7684\u65f6\u5019.\n# \u6ce8\u610f\u5728\u4f60\u4fee\u6539\u6b64\u503c\u4e4b\u540e,\u4f60\u9700\u8981\u91cd\u5efa\u4f60\u7684 FULLTEXT \u7d22\u5f15\nft_min_word_len = 8\n\n# \u5982\u679c\u4f60\u7684\u7cfb\u7edf\u652f\u6301 memlock() \u51fd\u6570,\u4f60\u4e5f\u8bb8\u5e0c\u671b\u6253\u5f00\u6b64\u9009\u9879\u7528\u4ee5\u8ba9\u8fd0\u884c\u4e2d\u7684 mysql \u5728\u5728\u5185\u5b58\u9ad8\u5ea6\u7d27\u5f20\u7684\u65f6\u5019,\u6570\u636e\u5728\u5185\u5b58\u4e2d\u4fdd\u6301\u9501\u5b9a\u5e76\u4e14\u9632\u6b62\u53ef\u80fd\u88ab swapping out\n# \u6b64\u9009\u9879\u5bf9\u4e8e\u6027\u80fd\u6709\u76ca\n#memlock\n\n# \u5f53\u521b\u5efa\u65b0\u8868\u65f6\u4f5c\u4e3a\u9ed8\u8ba4\u4f7f\u7528\u7684\u8868\u7c7b\u578b,\n# \u5982\u679c\u5728\u521b\u5efa\u8868\u793a\u6ca1\u6709\u7279\u522b\u6267\u884c\u8868\u7c7b\u578b,\u5c06\u4f1a\u4f7f\u7528\u6b64\u503c\ndefault_table_type = InnoDB\n\n# \u7ebf\u7a0b\u4f7f\u7528\u7684\u5806\u5927\u5c0f. \u6b64\u5bb9\u91cf\u7684\u5185\u5b58\u5728\u6bcf\u6b21\u8fde\u63a5\u65f6\u88ab\u9884\u7559.\n# MySQL \u672c\u8eab\u5e38\u4e0d\u4f1a\u9700\u8981\u8d85\u8fc7 64K \u7684\u5185\u5b58\n# \u5982\u679c\u4f60\u4f7f\u7528\u4f60\u81ea\u5df1\u7684\u9700\u8981\u5927\u91cf\u5806\u7684 UDF \u51fd\u6570\u6216\u8005\u4f60\u7684\u64cd\u4f5c\u7cfb\u7edf\u5bf9\u4e8e\u67d0\u4e9b\u64cd\u4f5c\u9700\u8981\u66f4\u591a\u7684\u5806,\u4f60\u4e5f\u8bb8\u9700\u8981\u5c06\u5176\u8bbe\u7f6e\u7684\u66f4\u9ad8\u4e00\u70b9.\nthread_stack = 512K\n\n# \u8bbe\u5b9a\u9ed8\u8ba4\u7684\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b.\u53ef\u7528\u7684\u7ea7\u522b\u5982\u4e0b:\n# READ-UNCOMMITTED, READ-COMMITTED, REPEATABLE-READ, SERIALIZABLE\ntransaction_isolation = REPEATABLE-READ\n\n# \u5185\u90e8(\u5185\u5b58\u4e2d)\u4e34\u65f6\u8868\u7684\u6700\u5927\u5927\u5c0f\n# \u5982\u679c\u4e00\u4e2a\u8868\u589e\u957f\u5230\u6bd4\u6b64\u503c\u66f4\u5927,\u5c06\u4f1a\u81ea\u52a8\u8f6c\u6362\u4e3a\u57fa\u4e8e\u78c1\u76d8\u7684\u8868.\n# \u6b64\u9650\u5236\u662f\u9488\u5bf9\u5355\u4e2a\u8868\u7684,\u800c\u4e0d\u662f\u603b\u548c.\ntmp_table_size = 128M\n\n# \u6253\u5f00\u4e8c\u8fdb\u5236\u65e5\u5fd7\u529f\u80fd.\n# \u5728\u590d\u5236(replication)\u914d\u7f6e\u4e2d,\u4f5c\u4e3a MASTER \u4e3b\u670d\u52a1\u5668\u5fc5\u987b\u6253\u5f00\u6b64\u9879\n# \u5982\u679c\u4f60\u9700\u8981\u4ece\u4f60\u6700\u540e\u7684\u5907\u4efd\u4e2d\u505a\u57fa\u4e8e\u65f6\u95f4\u70b9\u7684\u6062\u590d,\u4f60\u4e5f\u540c\u6837\u9700\u8981\u4e8c\u8fdb\u5236\u65e5\u5fd7.\nlog-bin=mysql-bin\n\n# \u5982\u679c\u4f60\u5728\u4f7f\u7528\u94fe\u5f0f\u4ece\u670d\u52a1\u5668\u7ed3\u6784\u7684\u590d\u5236\u6a21\u5f0f (A->B->C),\n# \u4f60\u9700\u8981\u5728\u670d\u52a1\u5668B\u4e0a\u6253\u5f00\u6b64\u9879.\n# \u6b64\u9009\u9879\u6253\u5f00\u5728\u4ece\u7ebf\u7a0b\u4e0a\u91cd\u505a\u8fc7\u7684\u66f4\u65b0\u7684\u65e5\u5fd7, \u5e76\u5c06\u5176\u5199\u5165\u4ece\u670d\u52a1\u5668\u7684\u4e8c\u8fdb\u5236\u65e5\u5fd7.\n#log_slave_updates\n\n# \u6253\u5f00\u5168\u67e5\u8be2\u65e5\u5fd7. \u6240\u6709\u7684\u7531\u670d\u52a1\u5668\u63a5\u6536\u5230\u7684\u67e5\u8be2 (\u751a\u81f3\u5bf9\u4e8e\u4e00\u4e2a\u9519\u8bef\u8bed\u6cd5\u7684\u67e5\u8be2)\n# \u90fd\u4f1a\u88ab\u8bb0\u5f55\u4e0b\u6765. \u8fd9\u5bf9\u4e8e\u8c03\u8bd5\u975e\u5e38\u6709\u7528, \u5728\u751f\u4ea7\u73af\u5883\u4e2d\u5e38\u5e38\u5173\u95ed\u6b64\u9879.\n#log\n\n# \u5c06\u8b66\u544a\u6253\u5370\u8f93\u51fa\u5230\u9519\u8bef log \u6587\u4ef6. \u5982\u679c\u4f60\u5bf9\u4e8e MySQL \u6709\u4efb\u4f55\u95ee\u9898\n# \u4f60\u5e94\u8be5\u6253\u5f00\u8b66\u544a log \u5e76\u4e14\u4ed4\u7ec6\u5ba1\u67e5\u9519\u8bef\u65e5\u5fd7,\u67e5\u51fa\u53ef\u80fd\u7684\u539f\u56e0.\n#log_warnings\n\n# \u8bb0\u5f55\u6162\u901f\u67e5\u8be2. \u6162\u901f\u67e5\u8be2\u662f\u6307\u6d88\u8017\u4e86\u6bd4 \u201clong_query_time\u201d \u5b9a\u4e49\u7684\u66f4\u591a\u65f6\u95f4\u7684\u67e5\u8be2.\n# \u5982\u679c log_long_format \u88ab\u6253\u5f00,\u90a3\u4e9b\u6ca1\u6709\u4f7f\u7528\u7d22\u5f15\u7684\u67e5\u8be2\u4e5f\u4f1a\u88ab\u8bb0\u5f55.\n# \u5982\u679c\u4f60\u7ecf\u5e38\u589e\u52a0\u65b0\u67e5\u8be2\u5230\u5df2\u6709\u7684\u7cfb\u7edf\u5185\u7684\u8bdd. \u4e00\u822c\u6765\u8bf4\u8fd9\u662f\u4e00\u4e2a\u597d\u4e3b\u610f,\nlog_slow_queries\n\n# \u6240\u6709\u7684\u4f7f\u7528\u4e86\u6bd4\u8fd9\u4e2a\u65f6\u95f4(\u4ee5\u79d2\u4e3a\u5355\u4f4d)\u66f4\u591a\u7684\u67e5\u8be2\u4f1a\u88ab\u8ba4\u4e3a\u662f\u6162\u901f\u67e5\u8be2.\n# \u4e0d\u8981\u5728\u8fd9\u91cc\u4f7f\u7528\u201c1\u2033, \u5426\u5219\u4f1a\u5bfc\u81f4\u6240\u6709\u7684\u67e5\u8be2,\u751a\u81f3\u975e\u5e38\u5feb\u7684\u67e5\u8be2\u9875\u88ab\u8bb0\u5f55\u4e0b\u6765(\u7531\u4e8e MySQL \u76ee\u524d\u65f6\u95f4\u7684\u7cbe\u786e\u5ea6\u53ea\u80fd\u8fbe\u5230\u79d2\u7684\u7ea7\u522b).\nlong_query_time = 6\n\n# \u5728\u6162\u901f\u65e5\u5fd7\u4e2d\u8bb0\u5f55\u66f4\u591a\u7684\u4fe1\u606f.\n# \u4e00\u822c\u6b64\u9879\u6700\u597d\u6253\u5f00.\n# \u6253\u5f00\u6b64\u9879\u4f1a\u8bb0\u5f55\u4f7f\u5f97\u90a3\u4e9b\u6ca1\u6709\u4f7f\u7528\u7d22\u5f15\u7684\u67e5\u8be2\u4e5f\u88ab\u4f5c\u4e3a\u5230\u6162\u901f\u67e5\u8be2\u9644\u52a0\u5230\u6162\u901f\u65e5\u5fd7\u91cc\nlog_long_format\n\n# \u6b64\u76ee\u5f55\u88abMySQL\u7528\u6765\u4fdd\u5b58\u4e34\u65f6\u6587\u4ef6.\u4f8b\u5982,\n# \u5b83\u88ab\u7528\u6765\u5904\u7406\u57fa\u4e8e\u78c1\u76d8\u7684\u5927\u578b\u6392\u5e8f,\u548c\u5185\u90e8\u6392\u5e8f\u4e00\u6837.\n# \u4ee5\u53ca\u7b80\u5355\u7684\u4e34\u65f6\u8868.\n# \u5982\u679c\u4f60\u4e0d\u521b\u5efa\u975e\u5e38\u5927\u7684\u4e34\u65f6\u6587\u4ef6,\u5c06\u5176\u653e\u7f6e\u5230 swapfs/tmpfs \u6587\u4ef6\u7cfb\u7edf\u4e0a\u4e5f\u8bb8\u6bd4\u8f83\u597d\n# \u53e6\u4e00\u79cd\u9009\u62e9\u662f\u4f60\u4e5f\u53ef\u4ee5\u5c06\u5176\u653e\u7f6e\u5728\u72ec\u7acb\u7684\u78c1\u76d8\u4e0a.\n# \u4f60\u53ef\u4ee5\u4f7f\u7528\u201d;\u201d\u6765\u653e\u7f6e\u591a\u4e2a\u8def\u5f84\n# \u4ed6\u4eec\u4f1a\u6309\u7167 roud-robin \u65b9\u6cd5\u88ab\u8f6e\u8be2\u4f7f\u7528.\n#tmpdir = /tmp\n\n# *** \u4e3b\u4ece\u590d\u5236\u76f8\u5173\u7684\u8bbe\u7f6e\n\n# \u552f\u4e00\u7684\u670d\u52a1\u8fa8\u8bc6\u53f7,\u6570\u503c\u4f4d\u4e8e 1 \u5230 2^32-1\u4e4b\u95f4.\n# \u6b64\u503c\u5728master\u548cslave\u4e0a\u90fd\u9700\u8981\u8bbe\u7f6e.\n# \u5982\u679c \u201cmaster-host\u201d \u6ca1\u6709\u88ab\u8bbe\u7f6e,\u5219\u9ed8\u8ba4\u4e3a1, \u4f46\u662f\u5982\u679c\u5ffd\u7565\u6b64\u9009\u9879,MySQL\u4e0d\u4f1a\u4f5c\u4e3amaster\u751f\u6548.\nserver-id = 1\n\n# \u590d\u5236\u7684Slave (\u53bb\u6389master\u6bb5\u7684\u6ce8\u91ca\u6765\u4f7f\u5176\u751f\u6548)\n#\n# \u4e3a\u4e86\u914d\u7f6e\u6b64\u4e3b\u673a\u4f5c\u4e3a\u590d\u5236\u7684slave\u670d\u52a1\u5668,\u4f60\u53ef\u4ee5\u9009\u62e9\u4e24\u79cd\u65b9\u6cd5:\n#\n# 1) \u4f7f\u7528 CHANGE MASTER TO \u547d\u4ee4 (\u5728\u6211\u4eec\u7684\u624b\u518c\u4e2d\u6709\u5b8c\u6574\u63cf\u8ff0) -\n# \u8bed\u6cd5\u5982\u4e0b:\n#\n# CHANGE MASTER TO MASTER_HOST=, MASTER_PORT=,\n# MASTER_USER=, MASTER_PASSWORD= ;\n#\n# \u4f60\u9700\u8981\u66ff\u6362\u6389 , , \u7b49\u88ab\u5c16\u62ec\u53f7\u5305\u56f4\u7684\u5b57\u6bb5\u4ee5\u53ca\u4f7f\u7528master\u7684\u7aef\u53e3\u53f7\u66ff\u6362 (\u9ed8\u8ba43306).\n#\n# \u4f8b\u5b50:\n#\n# CHANGE MASTER TO MASTER_HOST=\u2019125.564.12.1\u2032, MASTER_PORT=3306,\n# MASTER_USER=\u2019joe\u2019, MASTER_PASSWORD=\u2019secret\u2019;\n#\n# \u6216\u8005\n#\n# 2) \u8bbe\u7f6e\u4ee5\u4e0b\u7684\u53d8\u91cf. \u4e0d\u8bba\u5982\u4f55, \u5728\u4f60\u9009\u62e9\u8fd9\u79cd\u65b9\u6cd5\u7684\u60c5\u51b5\u4e0b, \u7136\u540e\u7b2c\u4e00\u6b21\u542f\u52a8\u590d\u5236(\u751a\u81f3\u4e0d\u6210\u529f\u7684\u60c5\u51b5\u4e0b,\n# \u4f8b\u5982\u5982\u679c\u4f60\u8f93\u5165\u9519\u5bc6\u7801\u5728master-password\u5b57\u6bb5\u5e76\u4e14slave\u65e0\u6cd5\u8fde\u63a5),\n# slave\u4f1a\u521b\u5efa\u4e00\u4e2a master.info \u6587\u4ef6,\u5e76\u4e14\u4e4b\u540e\u4efb\u4f55\u5bf9\u4e8e\u5305\u542b\u5728\u6b64\u6587\u4ef6\u5185\u7684\u53c2\u6570\u7684\u53d8\u5316\u90fd\u4f1a\u88ab\u5ffd\u7565\n# \u5e76\u4e14\u7531 master.info \u6587\u4ef6\u5185\u7684\u5185\u5bb9\u8986\u76d6, \u9664\u975e\u4f60\u5173\u95edslave\u670d\u52a1, \u5220\u9664 master.info \u5e76\u4e14\u91cd\u542fslave \u670d\u52a1.\n# \u7531\u4e8e\u8fd9\u4e2a\u539f\u56e0,\u4f60\u4e5f\u8bb8\u4e0d\u60f3\u78b0\u4e00\u4e0b\u7684\u914d\u7f6e(\u6ce8\u91ca\u6389\u7684) \u5e76\u4e14\u4f7f\u7528 CHANGE MASTER TO (\u67e5\u770b\u4e0a\u9762) \u6765\u4ee3\u66ff\n#\n# \u6240\u9700\u8981\u7684\u552f\u4e00id\u53f7\u4f4d\u4e8e 2 \u548c 2^32 \u2013 1\u4e4b\u95f4\n# (\u5e76\u4e14\u548cmaster\u4e0d\u540c)\n# \u5982\u679cmaster-host\u88ab\u8bbe\u7f6e\u4e86.\u5219\u9ed8\u8ba4\u503c\u662f2\n# \u4f46\u662f\u5982\u679c\u7701\u7565,\u5219\u4e0d\u4f1a\u751f\u6548\n#server-id = 2\n#\n# \u590d\u5236\u7ed3\u6784\u4e2d\u7684master \u2013 \u5fc5\u987b\n#master-host =\n#\n# \u5f53\u8fde\u63a5\u5230master\u4e0a\u65f6slave\u6240\u7528\u6765\u8ba4\u8bc1\u7684\u7528\u6237\u540d \u2013 \u5fc5\u987b\n#master-user =\n#\n# \u5f53\u8fde\u63a5\u5230master\u4e0a\u65f6slave\u6240\u7528\u6765\u8ba4\u8bc1\u7684\u5bc6\u7801 \u2013 \u5fc5\u987b\n#master-password =\n#\n# master\u76d1\u542c\u7684\u7aef\u53e3.\n# \u53ef\u9009 \u2013 \u9ed8\u8ba4\u662f3306\n#master-port =\n\n# \u4f7f\u5f97slave\u53ea\u8bfb.\u53ea\u6709\u7528\u6237\u62e5\u6709SUPER\u6743\u9650\u548c\u5728\u4e0a\u9762\u7684slave\u7ebf\u7a0b\u80fd\u591f\u4fee\u6539\u6570\u636e.\n# \u4f60\u53ef\u4ee5\u4f7f\u7528\u6b64\u9879\u53bb\u4fdd\u8bc1\u6ca1\u6709\u5e94\u7528\u7a0b\u5e8f\u4f1a\u610f\u5916\u7684\u4fee\u6539slave\u800c\u4e0d\u662fmaster\u4e0a\u7684\u6570\u636e\n#read_only\n\n#*** MyISAM \u76f8\u5173\u9009\u9879\n\n# \u5173\u952e\u8bcd\u7f13\u51b2\u7684\u5927\u5c0f, \u4e00\u822c\u7528\u6765\u7f13\u51b2 MyISAM \u8868\u7684\u7d22\u5f15\u5757.\n# \u4e0d\u8981\u5c06\u5176\u8bbe\u7f6e\u5927\u4e8e\u4f60\u53ef\u7528\u5185\u5b58\u768430%,\n# \u56e0\u4e3a\u4e00\u90e8\u5206\u5185\u5b58\u540c\u6837\u88abOS\u7528\u6765\u7f13\u51b2\u884c\u6570\u636e\n# \u751a\u81f3\u5728\u4f60\u5e76\u4e0d\u4f7f\u7528 MyISAM \u8868\u7684\u60c5\u51b5\u4e0b, \u4f60\u4e5f\u9700\u8981\u4ecd\u65e7\u8bbe\u7f6e\u8d77 8-64M \u5185\u5b58\u7531\u4e8e\u5b83\u540c\u6837\u4f1a\u88ab\u5185\u90e8\u4e34\u65f6\u78c1\u76d8\u8868\u4f7f\u7528.\nkey_buffer_size = 128M\n\n# \u7528\u6765\u505a MyISAM \u8868\u5168\u8868\u626b\u63cf\u7684\u7f13\u51b2\u5927\u5c0f.\n# \u5f53\u5168\u8868\u626b\u63cf\u9700\u8981\u65f6,\u5728\u5bf9\u5e94\u7ebf\u7a0b\u4e2d\u5206\u914d.\nread_buffer_size = 8M\n\n# \u5f53\u5728\u6392\u5e8f\u4e4b\u540e,\u4ece\u4e00\u4e2a\u5df2\u7ecf\u6392\u5e8f\u597d\u7684\u5e8f\u5217\u4e2d\u8bfb\u53d6\u884c\u65f6,\u884c\u6570\u636e\u5c06\u4ece\u8fd9\u4e2a\u7f13\u51b2\u4e2d\u8bfb\u53d6\u6765\u9632\u6b62\u78c1\u76d8\u5bfb\u9053.\n# \u5982\u679c\u4f60\u589e\u9ad8\u6b64\u503c,\u53ef\u4ee5\u63d0\u9ad8\u5f88\u591a ORDER BY \u7684\u6027\u80fd.\n# \u5f53\u9700\u8981\u65f6\u7531\u6bcf\u4e2a\u7ebf\u7a0b\u5206\u914d\nread_rnd_buffer_size = 64M\n\n# MyISAM \u4f7f\u7528\u7279\u6b8a\u7684\u7c7b\u4f3c\u6811\u7684 cache \u6765\u4f7f\u5f97\u7a81\u53d1\u63d2\u5165\n# (\u8fd9\u4e9b\u63d2\u5165\u662f,INSERT \u2026 SELECT, INSERT \u2026 VALUES (\u2026), (\u2026), \u2026, \u4ee5\u53ca LOAD DATA INFILE) \u66f4\u5feb.\n# \u6b64\u53d8\u91cf\u9650\u5236\u6bcf\u4e2a\u8fdb\u7a0b\u4e2d\u7f13\u51b2\u6811\u7684\u5b57\u8282\u6570.\n# \u8bbe\u7f6e\u4e3a 0 \u4f1a\u5173\u95ed\u6b64\u4f18\u5316.\n# \u4e3a\u4e86\u6700\u4f18\u5316\u4e0d\u8981\u5c06\u6b64\u503c\u8bbe\u7f6e\u5927\u4e8e \u201ckey_buffer_size\u201d.\n# \u5f53\u7a81\u53d1\u63d2\u5165\u88ab\u68c0\u6d4b\u5230\u65f6\u6b64\u7f13\u51b2\u5c06\u88ab\u5206\u914d.\nbulk_insert_buffer_size = 256M\n\n# \u6b64\u7f13\u51b2\u5f53 MySQL \u9700\u8981\u5728 REPAIR, OPTIMIZE, ALTER \u4ee5\u53ca LOAD DATA INFILE \u5230\u4e00\u4e2a\u7a7a\u8868\u4e2d\u5f15\u8d77\u91cd\u5efa\u7d22\u5f15\u65f6\u88ab\u5206\u914d.\n# \u8fd9\u5728\u6bcf\u4e2a\u7ebf\u7a0b\u4e2d\u88ab\u5206\u914d.\u6240\u4ee5\u5728\u8bbe\u7f6e\u5927\u503c\u65f6\u9700\u8981\u5c0f\u5fc3.\nmyisam_sort_buffer_size = 256M\n\n# MySQL \u91cd\u5efa\u7d22\u5f15\u65f6\u6240\u5141\u8bb8\u7684\u6700\u5927\u4e34\u65f6\u6587\u4ef6\u7684\u5927\u5c0f (\u5f53 REPAIR, ALTER TABLE \u6216\u8005 LOAD DATA INFILE).\n# \u5982\u679c\u6587\u4ef6\u5927\u5c0f\u6bd4\u6b64\u503c\u66f4\u5927,\u7d22\u5f15\u4f1a\u901a\u8fc7\u952e\u503c\u7f13\u51b2\u521b\u5efa(\u66f4\u6162)\nmyisam_max_sort_file_size = 10G\n\n# \u5982\u679c\u88ab\u7528\u6765\u66f4\u5feb\u7684\u7d22\u5f15\u521b\u5efa\u7d22\u5f15\u6240\u4f7f\u7528\u4e34\u65f6\u6587\u4ef6\u5927\u4e8e\u5236\u5b9a\u7684\u503c,\u90a3\u5c31\u4f7f\u7528\u952e\u503c\u7f13\u51b2\u65b9\u6cd5.\n# \u8fd9\u4e3b\u8981\u7528\u6765\u5f3a\u5236\u5728\u5927\u8868\u4e2d\u957f\u5b57\u4e32\u952e\u53bb\u4f7f\u7528\u6162\u901f\u7684\u952e\u503c\u7f13\u51b2\u65b9\u6cd5\u6765\u521b\u5efa\u7d22\u5f15.\nmyisam_max_extra_sort_file_size = 10G\n\n# \u5982\u679c\u4e00\u4e2a\u8868\u62e5\u6709\u8d85\u8fc7\u4e00\u4e2a\u7d22\u5f15, MyISAM \u53ef\u4ee5\u901a\u8fc7\u5e76\u884c\u6392\u5e8f\u4f7f\u7528\u8d85\u8fc7\u4e00\u4e2a\u7ebf\u7a0b\u53bb\u4fee\u590d\u4ed6\u4eec.\n# \u8fd9\u5bf9\u4e8e\u62e5\u6709\u591a\u4e2a CPU \u4ee5\u53ca\u5927\u91cf\u5185\u5b58\u60c5\u51b5\u7684\u7528\u6237,\u662f\u4e00\u4e2a\u5f88\u597d\u7684\u9009\u62e9.\nmyisam_repair_threads = 1\n\n# \u81ea\u52a8\u68c0\u67e5\u548c\u4fee\u590d\u6ca1\u6709\u9002\u5f53\u5173\u95ed\u7684 MyISAM \u8868.\nmyisam_recover\n\n# \u9ed8\u8ba4\u5173\u95ed Federated\nskip-federated\n\n# *** BDB \u76f8\u5173\u9009\u9879 ***\n\n# \u5982\u679c\u4f60\u8fd0\u884c\u7684MySQL\u670d\u52a1\u6709BDB\u652f\u6301\u4f46\u662f\u4f60\u4e0d\u51c6\u5907\u4f7f\u7528\u7684\u65f6\u5019\u4f7f\u7528\u6b64\u9009\u9879. \u8fd9\u4f1a\u8282\u7701\u5185\u5b58\u5e76\u4e14\u53ef\u80fd\u52a0\u901f\u4e00\u4e9b\u4e8b.\nskip-bdb\n\n# *** INNODB \u76f8\u5173\u9009\u9879 ***\n\n# \u5982\u679c\u4f60\u7684 MySQL \u670d\u52a1\u5305\u542b InnoDB \u652f\u6301\u4f46\u662f\u5e76\u4e0d\u6253\u7b97\u4f7f\u7528\u7684\u8bdd,\n# \u4f7f\u7528\u6b64\u9009\u9879\u4f1a\u8282\u7701\u5185\u5b58\u4ee5\u53ca\u78c1\u76d8\u7a7a\u95f4,\u5e76\u4e14\u52a0\u901f\u67d0\u4e9b\u90e8\u5206\n#skip-innodb\n\n# \u9644\u52a0\u7684\u5185\u5b58\u6c60\u88ab InnoDB \u7528\u6765\u4fdd\u5b58 metadata \u4fe1\u606f(5.6\u4e2d\u4e0d\u518d\u63a8\u8350\u4f7f\u7528)\n# \u5982\u679c InnoDB \u4e3a\u6b64\u76ee\u7684\u9700\u8981\u66f4\u591a\u7684\u5185\u5b58,\u5b83\u4f1a\u5f00\u59cb\u4ece OS \u8fd9\u91cc\u7533\u8bf7\u5185\u5b58.\n# \u7531\u4e8e\u8fd9\u4e2a\u64cd\u4f5c\u5728\u5927\u591a\u6570\u73b0\u4ee3\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u5df2\u7ecf\u8db3\u591f\u5feb, \u4f60\u4e00\u822c\u4e0d\u9700\u8981\u4fee\u6539\u6b64\u503c.\n# SHOW INNODB STATUS \u547d\u4ee4\u4f1a\u663e\u793a\u5f53\u5148\u4f7f\u7528\u7684\u6570\u91cf.\ninnodb_additional_mem_pool_size = 64M\n\n# InnoDB\u4f7f\u7528\u4e00\u4e2a\u7f13\u51b2\u6c60\u6765\u4fdd\u5b58\u7d22\u5f15\u548c\u539f\u59cb\u6570\u636e, \u4e0d\u50cf MyISAM.\n# \u8fd9\u91cc\u4f60\u8bbe\u7f6e\u8d8a\u5927,\u8fd9\u80fd\u4fdd\u8bc1\u4f60\u5728\u5927\u591a\u6570\u7684\u8bfb\u53d6\u64cd\u4f5c\u65f6\u4f7f\u7528\u7684\u662f\u5185\u5b58\u800c\u4e0d\u662f\u786c\u76d8,\u5728\u5b58\u53d6\u8868\u91cc\u9762\u6570\u636e\u65f6\u6240\u9700\u8981\u7684\u78c1\u76d8 I/O \u8d8a\u5c11.\n# \u5728\u4e00\u4e2a\u72ec\u7acb\u4f7f\u7528\u7684\u6570\u636e\u5e93\u670d\u52a1\u5668\u4e0a,\u4f60\u53ef\u4ee5\u8bbe\u7f6e\u8fd9\u4e2a\u53d8\u91cf\u5230\u670d\u52a1\u5668\u7269\u7406\u5185\u5b58\u5927\u5c0f\u768480%\n# \u4e0d\u8981\u8bbe\u7f6e\u8fc7\u5927,\u5426\u5219,\u7531\u4e8e\u7269\u7406\u5185\u5b58\u7684\u7ade\u4e89\u53ef\u80fd\u5bfc\u81f4\u64cd\u4f5c\u7cfb\u7edf\u7684\u6362\u9875\u98a0\u7c38.\n# \u6ce8\u610f\u572832\u4f4d\u7cfb\u7edf\u4e0a\u4f60\u6bcf\u4e2a\u8fdb\u7a0b\u53ef\u80fd\u88ab\u9650\u5236\u5728 2-3.5G \u7528\u6237\u5c42\u9762\u5185\u5b58\u9650\u5236,\n# \u6240\u4ee5\u4e0d\u8981\u8bbe\u7f6e\u7684\u592a\u9ad8.\ninnodb_buffer_pool_size = 6G\n\n# InnoDB \u5c06\u6570\u636e\u4fdd\u5b58\u5728\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\u6570\u636e\u6587\u4ef6\u4e2d\u6210\u4e3a\u8868\u7a7a\u95f4.\n# \u5982\u679c\u4f60\u53ea\u6709\u5355\u4e2a\u903b\u8f91\u9a71\u52a8\u4fdd\u5b58\u4f60\u7684\u6570\u636e,\u4e00\u4e2a\u5355\u4e2a\u7684\u81ea\u589e\u6587\u4ef6\u5c31\u8db3\u591f\u597d\u4e86.\n# \u5176\u4ed6\u60c5\u51b5\u4e0b.\u6bcf\u4e2a\u8bbe\u5907\u4e00\u4e2a\u6587\u4ef6\u4e00\u822c\u90fd\u662f\u4e2a\u597d\u7684\u9009\u62e9.\n# \u4f60\u4e5f\u53ef\u4ee5\u914d\u7f6e InnoDB \u6765\u4f7f\u7528\u88f8\u76d8\u5206\u533a \u2013 \u8bf7\u53c2\u8003\u624b\u518c\u6765\u83b7\u53d6\u66f4\u591a\u76f8\u5173\u5185\u5bb9\ninnodb_data_file_path = ibdata1:10M:autoextend\n\n# \u8bbe\u7f6e\u6b64\u9009\u9879\u5982\u679c\u4f60\u5e0c\u671bInnoDB\u8868\u7a7a\u95f4\u6587\u4ef6\u88ab\u4fdd\u5b58\u5728\u5176\u4ed6\u5206\u533a.\n# \u9ed8\u8ba4\u4fdd\u5b58\u5728MySQL\u7684datadir\u4e2d.\n#innodb_data_home_dir =\n\n# \u7528\u6765\u540c\u6b65IO\u64cd\u4f5c\u7684IO\u7ebf\u7a0b\u7684\u6570\u91cf.\n# \u6b64\u503c\u5728Unix\u4e0b\u88ab\u786c\u7f16\u7801\u4e3a8,\u4f46\u662f\u5728Windows\u78c1\u76d8I/O\u53ef\u80fd\u5728\u4e00\u4e2a\u5927\u6570\u503c\u4e0b\u8868\u73b0\u7684\u66f4\u597d.\ninnodb_file_io_threads = 8\n\n# \u5982\u679c\u4f60\u53d1\u73b0 InnoDB \u8868\u7a7a\u95f4\u635f\u574f, \u8bbe\u7f6e\u6b64\u503c\u4e3a\u4e00\u4e2a\u975e\u96f6\u503c\u53ef\u80fd\u5e2e\u52a9\u4f60\u5bfc\u51fa\u4f60\u7684\u8868.\n# \u4ece1\u5f00\u59cb\u5e76\u4e14\u589e\u52a0\u6b64\u503c\u77e5\u9053\u4f60\u80fd\u591f\u6210\u529f\u7684\u5bfc\u51fa\u8868.\n#innodb_force_recovery=1\n\n# \u5728 InnoDb \u6838\u5fc3\u5185\u7684\u5141\u8bb8\u7ebf\u7a0b\u6570\u91cf.\n# \u6700\u4f18\u503c\u4f9d\u8d56\u4e8e\u5e94\u7528\u7a0b\u5e8f,\u786c\u4ef6\u4ee5\u53ca\u64cd\u4f5c\u7cfb\u7edf\u7684\u8c03\u5ea6\u65b9\u5f0f.\n# \u8fc7\u9ad8\u7684\u503c\u53ef\u80fd\u5bfc\u81f4\u7ebf\u7a0b\u7684\u4e92\u65a5\u98a0\u7c38.\ninnodb_thread_concurrency = 16\n\n# \u5982\u679c\u8bbe\u7f6e\u4e3a1 ,InnoDB \u4f1a\u5728\u6bcf\u6b21\u63d0\u4ea4\u540e\u5237\u65b0(fsync)\u4e8b\u52a1\u65e5\u5fd7\u5230\u78c1\u76d8\u4e0a,\n# \u8fd9\u63d0\u4f9b\u4e86\u5b8c\u6574\u7684 ACID \u884c\u4e3a.\n# \u5982\u679c\u4f60\u613f\u610f\u5bf9\u4e8b\u52a1\u5b89\u5168\u6298\u8877, \u5e76\u4e14\u4f60\u6b63\u5728\u8fd0\u884c\u4e00\u4e2a\u5c0f\u7684\u4e8b\u7269, \u4f60\u53ef\u4ee5\u8bbe\u7f6e\u6b64\u503c\u52300\u6216\u80052\u6765\u51cf\u5c11\u7531\u4e8b\u52a1\u65e5\u5fd7\u5f15\u8d77\u7684\u78c1\u76d8I/O\n# 0\u4ee3\u8868\u65e5\u5fd7\u53ea\u5927\u7ea6\u6bcf\u79d2\u5199\u5165\u65e5\u5fd7\u6587\u4ef6\u5e76\u4e14\u65e5\u5fd7\u6587\u4ef6\u5237\u65b0\u5230\u78c1\u76d8.\n# 2\u4ee3\u8868\u65e5\u5fd7\u5199\u5165\u65e5\u5fd7\u6587\u4ef6\u5728\u6bcf\u6b21\u63d0\u4ea4\u540e,\u4f46\u662f\u65e5\u5fd7\u6587\u4ef6\u53ea\u6709\u5927\u7ea6\u6bcf\u79d2\u624d\u4f1a\u5237\u65b0\u5230\u78c1\u76d8\u4e0a.\ninnodb_flush_log_at_trx_commit = 2\n\uff08\u8bf4\u660e\uff1a\u5982\u679c\u662f\u6e38\u620f\u670d\u52a1\u5668\uff0c\u5efa\u8bae\u6b64\u503c\u8bbe\u7f6e\u4e3a2\uff1b\u5982\u679c\u662f\u5bf9\u6570\u636e\u5b89\u5168\u8981\u6c42\u6781\u9ad8\u7684\u5e94\u7528\uff0c\u5efa\u8bae\u8bbe\u7f6e\u4e3a1\uff1b\u8bbe\u7f6e\u4e3a0\u6027\u80fd\u6700\u9ad8\uff0c\u4f46\u5982\u679c\u53d1\u751f\u6545\u969c\uff0c\u6570\u636e\u53ef\u80fd\u4f1a\u6709\u4e22\u5931\u7684\u5371\u9669\uff01\u9ed8\u8ba4\u503c1\u7684\u610f\u601d\u662f\u6bcf\u4e00\u6b21\u4e8b\u52a1\u63d0\u4ea4\u6216\u4e8b\u52a1\u5916\u7684\u6307\u4ee4\u90fd\u9700\u8981\u628a\u65e5\u5fd7\u5199\u5165\uff08flush\uff09\u786c\u76d8\uff0c\u8fd9\u662f\u5f88\u8d39\u65f6\u7684\u3002\u7279\u522b\u662f\u4f7f\u7528\u7535\u6c60\u4f9b\u7535\u7f13\u5b58\uff08Battery backed up cache\uff09\u65f6\u3002\u8bbe\u62102\u5bf9\u4e8e\u5f88\u591a\u8fd0\u7528\uff0c\u7279\u522b\u662f\u4eceMyISAM\u8868\u8f6c\u8fc7\u6765\u7684\u662f\u53ef\u4ee5\u7684\uff0c\u5b83\u7684\u610f\u601d\u662f\u4e0d\u5199\u5165\u786c\u76d8\u800c\u662f\u5199\u5165\u7cfb\u7edf\u7f13\u5b58\u3002\u65e5\u5fd7\u4ecd\u7136\u4f1a\u6bcf\u79d2flush\u5230\u786c\u76d8\uff0c\u6240\u4ee5\u4f60\u4e00\u822c\u4e0d\u4f1a\u4e22\u5931\u8d85\u8fc71-2\u79d2\u7684\u66f4\u65b0\u3002\u8bbe\u62100\u4f1a\u66f4\u5feb\u4e00\u70b9\uff0c\u4f46\u5b89\u5168\u65b9\u9762\u6bd4\u8f83\u5dee\uff0c\u5373\u4f7fMySQL\u6302\u4e86\u4e5f\u53ef\u80fd\u4f1a\u4e22\u5931\u4e8b\u52a1\u7684\u6570\u636e\u3002\u800c\u503c2\u53ea\u4f1a\u5728\u6574\u4e2a\u64cd\u4f5c\u7cfb\u7edf\u6302\u4e86\u65f6\u624d\u53ef\u80fd\u4e22\u6570\u636e\u3002\uff09\n\n# \u52a0\u901f InnoDB \u7684\u5173\u95ed. \u8fd9\u4f1a\u963b\u6b62 InnoDB \u5728\u5173\u95ed\u65f6\u505a\u5168\u6e05\u9664\u4ee5\u53ca\u63d2\u5165\u7f13\u51b2\u5408\u5e76.\n# \u8fd9\u53ef\u80fd\u6781\u5927\u589e\u52a0\u5173\u673a\u65f6\u95f4, \u4f46\u662f\u53d6\u800c\u4ee3\u4e4b\u7684\u662f InnoDB \u53ef\u80fd\u5728\u4e0b\u6b21\u542f\u52a8\u65f6\u505a\u8fd9\u4e9b\u64cd\u4f5c.\n#innodb_fast_shutdown\n\n# \u7528\u6765\u7f13\u51b2\u65e5\u5fd7\u6570\u636e\u7684\u7f13\u51b2\u533a\u7684\u5927\u5c0f.\n# \u5f53\u6b64\u503c\u5feb\u6ee1\u65f6, InnoDB \u5c06\u5fc5\u987b\u5237\u65b0\u6570\u636e\u5230\u78c1\u76d8\u4e0a.\n# \u7531\u4e8e\u57fa\u672c\u4e0a\u6bcf\u79d2\u90fd\u4f1a\u5237\u65b0\u4e00\u6b21,\u6240\u4ee5\u6ca1\u6709\u5fc5\u8981\u5c06\u6b64\u503c\u8bbe\u7f6e\u7684\u592a\u5927(\u751a\u81f3\u5bf9\u4e8e\u957f\u4e8b\u52a1\u800c\u8a00)\ninnodb_log_buffer_size = 16M\n\n# \u5728\u65e5\u5fd7\u7ec4\u4e2d\u6bcf\u4e2a\u65e5\u5fd7\u6587\u4ef6\u7684\u5927\u5c0f.\n# \u4f60\u5e94\u8be5\u8bbe\u7f6e\u65e5\u5fd7\u6587\u4ef6\u603b\u5408\u5927\u5c0f\u5230\u4f60\u7f13\u51b2\u6c60\u5927\u5c0f\u768425%~100%\n# \u6765\u907f\u514d\u5728\u65e5\u5fd7\u6587\u4ef6\u8986\u5199\u4e0a\u4e0d\u5fc5\u8981\u7684\u7f13\u51b2\u6c60\u5237\u65b0\u884c\u4e3a.\n# \u4e0d\u8bba\u5982\u4f55, \u8bf7\u6ce8\u610f\u4e00\u4e2a\u5927\u7684\u65e5\u5fd7\u6587\u4ef6\u5927\u5c0f\u4f1a\u589e\u52a0\u6062\u590d\u8fdb\u7a0b\u6240\u9700\u8981\u7684\u65f6\u95f4.\ninnodb_log_file_size = 512M\n\n# \u5728\u65e5\u5fd7\u7ec4\u4e2d\u7684\u6587\u4ef6\u603b\u6570.\n# \u901a\u5e38\u6765\u8bf42~3\u662f\u6bd4\u8f83\u597d\u7684.\ninnodb_log_files_in_group = 3\n\n# InnoDB \u7684\u65e5\u5fd7\u6587\u4ef6\u6240\u5728\u4f4d\u7f6e. \u9ed8\u8ba4\u662f MySQL \u7684 datadir.\n# \u4f60\u53ef\u4ee5\u5c06\u5176\u6307\u5b9a\u5230\u4e00\u4e2a\u72ec\u7acb\u7684\u786c\u76d8\u4e0a\u6216\u8005\u4e00\u4e2aRAID1\u5377\u4e0a\u6765\u63d0\u9ad8\u5176\u6027\u80fd\n#innodb_log_group_home_dir\n\n# \u5728 InnoDB \u7f13\u51b2\u6c60\u4e2d\u6700\u5927\u5141\u8bb8\u7684\u810f\u9875\u9762\u7684\u6bd4\u4f8b.\n# \u5982\u679c\u8fbe\u5230\u9650\u989d, InnoDB \u4f1a\u5f00\u59cb\u5237\u65b0\u4ed6\u4eec\u9632\u6b62\u4ed6\u4eec\u59a8\u788d\u5230\u5e72\u51c0\u6570\u636e\u9875\u9762.\n# \u8fd9\u662f\u4e00\u4e2a\u8f6f\u9650\u5236,\u4e0d\u88ab\u4fdd\u8bc1\u7edd\u5bf9\u6267\u884c.\ninnodb_max_dirty_pages_pct = 90\n\n# InnoDB \u7528\u6765\u5237\u65b0\u65e5\u5fd7\u7684\u65b9\u6cd5.\n# \u8868\u7a7a\u95f4\u603b\u662f\u4f7f\u7528\u53cc\u91cd\u5199\u5165\u5237\u65b0\u65b9\u6cd5\n# \u9ed8\u8ba4\u503c\u662f \u201cfdatasync\u201d, \u53e6\u4e00\u4e2a\u662f \u201cO_DSYNC\u201d.\n# \u4e00\u822c\u6765\u8bf4\uff0c\u5982\u679c\u4f60\u6709\u786c\u4ef6 RAID \u63a7\u5236\u5668\uff0c\u5e76\u4e14\u5176\u72ec\u7acb\u7f13\u5b58\u91c7\u7528 write-back \u673a\u5236\uff0c\u5e76\u6709\u7740\u7535\u6c60\u65ad\u7535\u4fdd\u62a4\uff0c\u90a3\u4e48\u5e94\u8be5\u8bbe\u7f6e\u914d\u7f6e\u4e3a O_DIRECT\n# \u5426\u5219\uff0c\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u5e94\u5c06\u5176\u8bbe\u4e3a fdatasync\n#innodb_flush_method=fdatasync\n\n# \u5728\u88ab\u56de\u6eda\u524d,\u4e00\u4e2a InnoDB \u7684\u4e8b\u52a1\u5e94\u8be5\u7b49\u5f85\u4e00\u4e2a\u9501\u88ab\u6279\u51c6\u591a\u4e45.\n# InnoDB \u5728\u5176\u62e5\u6709\u7684\u9501\u8868\u4e2d\u81ea\u52a8\u68c0\u6d4b\u4e8b\u52a1\u6b7b\u9501\u5e76\u4e14\u56de\u6eda\u4e8b\u52a1.\n# \u5982\u679c\u4f60\u4f7f\u7528 LOCK TABLES \u6307\u4ee4, \u6216\u8005\u5728\u540c\u6837\u4e8b\u52a1\u4e2d\u4f7f\u7528\u9664\u4e86 InnoDB \u4ee5\u5916\u7684\u5176\u4ed6\u4e8b\u52a1\u5b89\u5168\u7684\u5b58\u50a8\u5f15\u64ce\n# \u90a3\u4e48\u4e00\u4e2a\u6b7b\u9501\u53ef\u80fd\u53d1\u751f\u800c InnoDB \u65e0\u6cd5\u6ce8\u610f\u5230.\n# \u8fd9\u79cd\u60c5\u51b5\u4e0b\u8fd9\u4e2a timeout \u503c\u5bf9\u4e8e\u89e3\u51b3\u8fd9\u79cd\u95ee\u9898\u5c31\u975e\u5e38\u6709\u5e2e\u52a9.\ninnodb_lock_wait_timeout = 120\n\n# \u8fd9\u9879\u8bbe\u7f6e\u544a\u77e5InnoDB\u662f\u5426\u9700\u8981\u5c06\u6240\u6709\u8868\u7684\u6570\u636e\u548c\u7d22\u5f15\u5b58\u653e\u5728\u5171\u4eab\u8868\u7a7a\u95f4\u91cc\uff08innodb_file_per_table = OFF\uff09 \u6216\u8005\u4e3a\u6bcf\u5f20\u8868\u7684\u6570\u636e\u5355\u72ec\u653e\u5728\u4e00\u4e2a.ibd\u6587\u4ef6\uff08innodb_file_per_table = ON\uff09\n# \u6bcf\u5f20\u8868\u4e00\u4e2a\u6587\u4ef6\u5141\u8bb8\u4f60\u5728drop\u3001truncate\u6216\u8005rebuild\u8868\u65f6\u56de\u6536\u78c1\u76d8\u7a7a\u95f4\n# \u8fd9\u5bf9\u4e8e\u4e00\u4e9b\u9ad8\u7ea7\u7279\u6027\u4e5f\u662f\u6709\u5fc5\u8981\u7684\uff0c\u6bd4\u5982\u6570\u636e\u538b\u7f29,\u4f46\u662f\u5b83\u4e0d\u4f1a\u5e26\u6765\u4efb\u4f55\u6027\u80fd\u6536\u76ca\ninnodb_file_per_table = on\n\n[mysqldump]\n# \u4e0d\u8981\u5728\u5c06\u5185\u5b58\u4e2d\u7684\u6574\u4e2a\u7ed3\u679c\u5199\u5165\u78c1\u76d8\u4e4b\u524d\u7f13\u5b58. \u5728\u5bfc\u51fa\u975e\u5e38\u5de8\u5927\u7684\u8868\u65f6\u9700\u8981\u6b64\u9879\nquick\n\nmax_allowed_packet = 32M\n\n[mysql]\nno-auto-rehash\n\n# \u4ec5\u4ec5\u5141\u8bb8\u4f7f\u7528\u952e\u503c\u7684 UPDATEs \u548c DELETEs .\n#safe-updates\n\n[myisamchk]\nkey_buffer = 16M\nsort_buffer_size = 16M\nread_buffer = 8M\nwrite_buffer = 8M\n\n[mysqlhotcopy]\ninteractive-timeout\n\n[mysqld_safe]\n# \u589e\u52a0\u6bcf\u4e2a\u8fdb\u7a0b\u7684\u53ef\u6253\u5f00\u6587\u4ef6\u6570\u91cf.\n# \u8b66\u544a: \u786e\u8ba4\u4f60\u5df2\u7ecf\u5c06\u5168\u7cfb\u7edf\u9650\u5236\u8bbe\u5b9a\u7684\u8db3\u591f\u9ad8!\n# \u6253\u5f00\u5927\u91cf\u8868\u9700\u8981\u5c06\u6b64\u503c\u8bbe\u5927\nopen-files-limit = 8192\n"})}),"\n",(0,i.jsx)(n.h2,{id:"mysql-56\u7248\u672c\u9002\u5408\u57281gb\u5185\u5b58vps\u4e0a\u7684mycnf\u914d\u7f6e\u6587\u4ef6",children:"MySQL 5.6\u7248\u672c\u9002\u5408\u57281GB\u5185\u5b58VPS\u4e0a\u7684my.cnf\u914d\u7f6e\u6587\u4ef6"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",metastring:"title=my.cnf",children:"[client] \nport = 3306 \nsocket = /tmp/mysql.sock \n\n[mysqld] \nport = 3306 \nsocket = /tmp/mysql.sock \n\nbasedir = /usr/local/mysql \ndatadir = /data/mysql \npid-file = /data/mysql/mysql.pid \nuser = mysql \nbind-address = 0.0.0.0 \nserver-id = 1 #\u8868\u793a\u662f\u672c\u673a\u7684\u5e8f\u53f7\u4e3a1,\u4e00\u822c\u6765\u8bb2\u5c31\u662fmaster\u7684\u610f\u601d \n\nskip-name-resolve \n# \u7981\u6b62MySQL\u5bf9\u5916\u90e8\u8fde\u63a5\u8fdb\u884cDNS\u89e3\u6790\uff0c\u4f7f\u7528\u8fd9\u4e00\u9009\u9879\u53ef\u4ee5\u6d88\u9664MySQL\u8fdb\u884cDNS\u89e3\u6790\u7684\u65f6\u95f4\u3002\u4f46\u9700\u8981\u6ce8\u610f\uff0c\u5982\u679c\u5f00\u542f\u8be5\u9009\u9879\uff0c \n# \u5219\u6240\u6709\u8fdc\u7a0b\u4e3b\u673a\u8fde\u63a5\u6388\u6743\u90fd\u8981\u4f7f\u7528IP\u5730\u5740\u65b9\u5f0f\uff0c\u5426\u5219MySQL\u5c06\u65e0\u6cd5\u6b63\u5e38\u5904\u7406\u8fde\u63a5\u8bf7\u6c42 \n\n#skip-networking \n\nback_log = 600 \n# MySQL\u80fd\u6709\u7684\u8fde\u63a5\u6570\u91cf\u3002\u5f53\u4e3b\u8981MySQL\u7ebf\u7a0b\u5728\u4e00\u4e2a\u5f88\u77ed\u65f6\u95f4\u5185\u5f97\u5230\u975e\u5e38\u591a\u7684\u8fde\u63a5\u8bf7\u6c42\uff0c\u8fd9\u5c31\u8d77\u4f5c\u7528\uff0c \n# \u7136\u540e\u4e3b\u7ebf\u7a0b\u82b1\u4e9b\u65f6\u95f4(\u5c3d\u7ba1\u5f88\u77ed)\u68c0\u67e5\u8fde\u63a5\u5e76\u4e14\u542f\u52a8\u4e00\u4e2a\u65b0\u7ebf\u7a0b\u3002back_log\u503c\u6307\u51fa\u5728MySQL\u6682\u65f6\u505c\u6b62\u56de\u7b54\u65b0\u8bf7\u6c42\u4e4b\u524d\u7684\u77ed\u65f6\u95f4\u5185\u591a\u5c11\u4e2a\u8bf7\u6c42\u53ef\u4ee5\u88ab\u5b58\u5728\u5806\u6808\u4e2d\u3002 \n# \u5982\u679c\u671f\u671b\u5728\u4e00\u4e2a\u77ed\u65f6\u95f4\u5185\u6709\u5f88\u591a\u8fde\u63a5\uff0c\u4f60\u9700\u8981\u589e\u52a0\u5b83\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679cMySQL\u7684\u8fde\u63a5\u6570\u636e\u8fbe\u5230max_connections\u65f6\uff0c\u65b0\u6765\u7684\u8bf7\u6c42\u5c06\u4f1a\u88ab\u5b58\u5728\u5806\u6808\u4e2d\uff0c \n# \u4ee5\u7b49\u5f85\u67d0\u4e00\u8fde\u63a5\u91ca\u653e\u8d44\u6e90\uff0c\u8be5\u5806\u6808\u7684\u6570\u91cf\u5373back_log\uff0c\u5982\u679c\u7b49\u5f85\u8fde\u63a5\u7684\u6570\u91cf\u8d85\u8fc7back_log\uff0c\u5c06\u4e0d\u88ab\u6388\u4e88\u8fde\u63a5\u8d44\u6e90\u3002 \n# \u53e6\u5916\uff0c\u8fd9\u503c\uff08back_log\uff09\u9650\u4e8e\u60a8\u7684\u64cd\u4f5c\u7cfb\u7edf\u5bf9\u5230\u6765\u7684TCP/IP\u8fde\u63a5\u7684\u4fa6\u542c\u961f\u5217\u7684\u5927\u5c0f\u3002 \n# \u4f60\u7684\u64cd\u4f5c\u7cfb\u7edf\u5728\u8fd9\u4e2a\u961f\u5217\u5927\u5c0f\u4e0a\u6709\u5b83\u81ea\u5df1\u7684\u9650\u5236\uff08\u53ef\u4ee5\u68c0\u67e5\u4f60\u7684OS\u6587\u6863\u627e\u51fa\u8fd9\u4e2a\u53d8\u91cf\u7684\u6700\u5927\u503c\uff09\uff0c\u8bd5\u56fe\u8bbe\u5b9aback_log\u9ad8\u4e8e\u4f60\u7684\u64cd\u4f5c\u7cfb\u7edf\u7684\u9650\u5236\u5c06\u662f\u65e0\u6548\u7684\u3002 \n\nmax_connections = 1000 \n# MySQL\u7684\u6700\u5927\u8fde\u63a5\u6570\uff0c\u5982\u679c\u670d\u52a1\u5668\u7684\u5e76\u53d1\u8fde\u63a5\u8bf7\u6c42\u91cf\u6bd4\u8f83\u5927\uff0c\u5efa\u8bae\u8c03\u9ad8\u6b64\u503c\uff0c\u4ee5\u589e\u52a0\u5e76\u884c\u8fde\u63a5\u6570\u91cf\uff0c\u5f53\u7136\u8fd9\u5efa\u7acb\u5728\u673a\u5668\u80fd\u652f\u6491\u7684\u60c5\u51b5\u4e0b\uff0c\u56e0\u4e3a\u5982\u679c\u8fde\u63a5\u6570\u8d8a\u591a\uff0c\u4ecb\u4e8eMySQL\u4f1a\u4e3a\u6bcf\u4e2a\u8fde\u63a5\u63d0\u4f9b\u8fde\u63a5\u7f13\u51b2\u533a\uff0c\u5c31\u4f1a\u5f00\u9500\u8d8a\u591a\u7684\u5185\u5b58\uff0c\u6240\u4ee5\u8981\u9002\u5f53\u8c03\u6574\u8be5\u503c\uff0c\u4e0d\u80fd\u76f2\u76ee\u63d0\u9ad8\u8bbe\u503c\u3002\u53ef\u4ee5\u8fc7'conn%'\u901a\u914d\u7b26\u67e5\u770b\u5f53\u524d\u72b6\u6001\u7684\u8fde\u63a5\u6570\u91cf\uff0c\u4ee5\u5b9a\u593a\u8be5\u503c\u7684\u5927\u5c0f\u3002 \n\nmax_connect_errors = 6000 \n# \u5bf9\u4e8e\u540c\u4e00\u4e3b\u673a\uff0c\u5982\u679c\u6709\u8d85\u51fa\u8be5\u53c2\u6570\u503c\u4e2a\u6570\u7684\u4e2d\u65ad\u9519\u8bef\u8fde\u63a5\uff0c\u5219\u8be5\u4e3b\u673a\u5c06\u88ab\u7981\u6b62\u8fde\u63a5\u3002\u5982\u9700\u5bf9\u8be5\u4e3b\u673a\u8fdb\u884c\u89e3\u7981\uff0c\u6267\u884c\uff1aFLUSH HOST\u3002 \n\nopen_files_limit = 65535 \n# MySQL\u6253\u5f00\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u9650\u5236\uff0c\u9ed8\u8ba4\u6700\u5c0f1024;\u5f53open_files_limit\u6ca1\u6709\u88ab\u914d\u7f6e\u7684\u65f6\u5019\uff0c\u6bd4\u8f83max_connections*5\u548culimit -n\u7684\u503c\uff0c\u54ea\u4e2a\u5927\u7528\u54ea\u4e2a\uff0c \n# \u5f53open_file_limit\u88ab\u914d\u7f6e\u7684\u65f6\u5019\uff0c\u6bd4\u8f83open_files_limit\u548cmax_connections*5\u7684\u503c\uff0c\u54ea\u4e2a\u5927\u7528\u54ea\u4e2a\u3002 \n\ntable_open_cache = 128 \n# MySQL\u6bcf\u6253\u5f00\u4e00\u4e2a\u8868\uff0c\u90fd\u4f1a\u8bfb\u5165\u4e00\u4e9b\u6570\u636e\u5230table_open_cache\u7f13\u5b58\u4e2d\uff0c\u5f53MySQL\u5728\u8fd9\u4e2a\u7f13\u5b58\u4e2d\u627e\u4e0d\u5230\u76f8\u5e94\u4fe1\u606f\u65f6\uff0c\u624d\u4f1a\u53bb\u78c1\u76d8\u4e0a\u8bfb\u53d6\u3002\u9ed8\u8ba4\u503c64 \n# \u5047\u5b9a\u7cfb\u7edf\u6709200\u4e2a\u5e76\u53d1\u8fde\u63a5\uff0c\u5219\u9700\u5c06\u6b64\u53c2\u6570\u8bbe\u7f6e\u4e3a200*N(N\u4e3a\u6bcf\u4e2a\u8fde\u63a5\u6240\u9700\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u6570\u76ee)\uff1b \n# \u5f53\u628atable_open_cache\u8bbe\u7f6e\u4e3a\u5f88\u5927\u65f6\uff0c\u5982\u679c\u7cfb\u7edf\u5904\u7406\u4e0d\u4e86\u90a3\u4e48\u591a\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u90a3\u4e48\u5c31\u4f1a\u51fa\u73b0\u5ba2\u6237\u7aef\u5931\u6548\uff0c\u8fde\u63a5\u4e0d\u4e0a \n\nmax_allowed_packet = 4M \n# \u63a5\u53d7\u7684\u6570\u636e\u5305\u5927\u5c0f\uff1b\u589e\u52a0\u8be5\u53d8\u91cf\u7684\u503c\u5341\u5206\u5b89\u5168\uff0c\u8fd9\u662f\u56e0\u4e3a\u4ec5\u5f53\u9700\u8981\u65f6\u624d\u4f1a\u5206\u914d\u989d\u5916\u5185\u5b58\u3002\u4f8b\u5982\uff0c\u4ec5\u5f53\u4f60\u53d1\u51fa\u957f\u67e5\u8be2\u6216MySQLd\u5fc5\u987b\u8fd4\u56de\u5927\u7684\u7ed3\u679c\u884c\u65f6MySQLd\u624d\u4f1a\u5206\u914d\u66f4\u591a\u5185\u5b58\u3002 \n# \u8be5\u53d8\u91cf\u4e4b\u6240\u4ee5\u53d6\u8f83\u5c0f\u9ed8\u8ba4\u503c\u662f\u4e00\u79cd\u9884\u9632\u63aa\u65bd\uff0c\u4ee5\u6355\u83b7\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u9519\u8bef\u4fe1\u606f\u5305\uff0c\u5e76\u786e\u4fdd\u4e0d\u4f1a\u56e0\u5076\u7136\u4f7f\u7528\u5927\u7684\u4fe1\u606f\u5305\u800c\u5bfc\u81f4\u5185\u5b58\u6ea2\u51fa\u3002 \n\nbinlog_cache_size = 1M \n# \u4e00\u4e2a\u4e8b\u52a1\uff0c\u5728\u6ca1\u6709\u63d0\u4ea4\u7684\u65f6\u5019\uff0c\u4ea7\u751f\u7684\u65e5\u5fd7\uff0c\u8bb0\u5f55\u5230Cache\u4e2d\uff1b\u7b49\u5230\u4e8b\u52a1\u63d0\u4ea4\u9700\u8981\u63d0\u4ea4\u7684\u65f6\u5019\uff0c\u5219\u628a\u65e5\u5fd7\u6301\u4e45\u5316\u5230\u78c1\u76d8\u3002\u9ed8\u8ba4binlog_cache_size\u5927\u5c0f32K \n\nmax_heap_table_size = 8M \n# \u5b9a\u4e49\u4e86\u7528\u6237\u53ef\u4ee5\u521b\u5efa\u7684\u5185\u5b58\u8868(memory table)\u7684\u5927\u5c0f\u3002\u8fd9\u4e2a\u503c\u7528\u6765\u8ba1\u7b97\u5185\u5b58\u8868\u7684\u6700\u5927\u884c\u6570\u503c\u3002\u8fd9\u4e2a\u53d8\u91cf\u652f\u6301\u52a8\u6001\u6539\u53d8 \n\ntmp_table_size = 16M \n# MySQL\u7684heap\uff08\u5806\u79ef\uff09\u8868\u7f13\u51b2\u5927\u5c0f\u3002\u6240\u6709\u8054\u5408\u5728\u4e00\u4e2aDML\u6307\u4ee4\u5185\u5b8c\u6210\uff0c\u5e76\u4e14\u5927\u591a\u6570\u8054\u5408\u751a\u81f3\u53ef\u4ee5\u4e0d\u7528\u4e34\u65f6\u8868\u5373\u53ef\u4ee5\u5b8c\u6210\u3002 \n# \u5927\u591a\u6570\u4e34\u65f6\u8868\u662f\u57fa\u4e8e\u5185\u5b58\u7684(HEAP)\u8868\u3002\u5177\u6709\u5927\u7684\u8bb0\u5f55\u957f\u5ea6\u7684\u4e34\u65f6\u8868 (\u6240\u6709\u5217\u7684\u957f\u5ea6\u7684\u548c)\u6216\u5305\u542bBLOB\u5217\u7684\u8868\u5b58\u50a8\u5728\u786c\u76d8\u4e0a\u3002 \n# \u5982\u679c\u67d0\u4e2a\u5185\u90e8heap\uff08\u5806\u79ef\uff09\u8868\u5927\u5c0f\u8d85\u8fc7tmp_table_size\uff0cMySQL\u53ef\u4ee5\u6839\u636e\u9700\u8981\u81ea\u52a8\u5c06\u5185\u5b58\u4e2d\u7684heap\u8868\u6539\u4e3a\u57fa\u4e8e\u786c\u76d8\u7684MyISAM\u8868\u3002\u8fd8\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6etmp_table_size\u9009\u9879\u6765\u589e\u52a0\u4e34\u65f6\u8868\u7684\u5927\u5c0f\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u8c03\u9ad8\u8be5\u503c\uff0cMySQL\u540c\u65f6\u5c06\u589e\u52a0heap\u8868\u7684\u5927\u5c0f\uff0c\u53ef\u8fbe\u5230\u63d0\u9ad8\u8054\u63a5\u67e5\u8be2\u901f\u5ea6\u7684\u6548\u679c \n\nread_buffer_size = 2M \n# MySQL\u8bfb\u5165\u7f13\u51b2\u533a\u5927\u5c0f\u3002\u5bf9\u8868\u8fdb\u884c\u987a\u5e8f\u626b\u63cf\u7684\u8bf7\u6c42\u5c06\u5206\u914d\u4e00\u4e2a\u8bfb\u5165\u7f13\u51b2\u533a\uff0cMySQL\u4f1a\u4e3a\u5b83\u5206\u914d\u4e00\u6bb5\u5185\u5b58\u7f13\u51b2\u533a\u3002read_buffer_size\u53d8\u91cf\u63a7\u5236\u8fd9\u4e00\u7f13\u51b2\u533a\u7684\u5927\u5c0f\u3002 \n# \u5982\u679c\u5bf9\u8868\u7684\u987a\u5e8f\u626b\u63cf\u8bf7\u6c42\u975e\u5e38\u9891\u7e41\uff0c\u5e76\u4e14\u4f60\u8ba4\u4e3a\u9891\u7e41\u626b\u63cf\u8fdb\u884c\u5f97\u592a\u6162\uff0c\u53ef\u4ee5\u901a\u8fc7\u589e\u52a0\u8be5\u53d8\u91cf\u503c\u4ee5\u53ca\u5185\u5b58\u7f13\u51b2\u533a\u5927\u5c0f\u63d0\u9ad8\u5176\u6027\u80fd \n\nread_rnd_buffer_size = 8M \n# MySQL\u7684\u968f\u673a\u8bfb\u7f13\u51b2\u533a\u5927\u5c0f\u3002\u5f53\u6309\u4efb\u610f\u987a\u5e8f\u8bfb\u53d6\u884c\u65f6(\u4f8b\u5982\uff0c\u6309\u7167\u6392\u5e8f\u987a\u5e8f)\uff0c\u5c06\u5206\u914d\u4e00\u4e2a\u968f\u673a\u8bfb\u7f13\u5b58\u533a\u3002\u8fdb\u884c\u6392\u5e8f\u67e5\u8be2\u65f6\uff0c \n# MySQL\u4f1a\u9996\u5148\u626b\u63cf\u4e00\u904d\u8be5\u7f13\u51b2\uff0c\u4ee5\u907f\u514d\u78c1\u76d8\u641c\u7d22\uff0c\u63d0\u9ad8\u67e5\u8be2\u901f\u5ea6\uff0c\u5982\u679c\u9700\u8981\u6392\u5e8f\u5927\u91cf\u6570\u636e\uff0c\u53ef\u9002\u5f53\u8c03\u9ad8\u8be5\u503c\u3002\u4f46MySQL\u4f1a\u4e3a\u6bcf\u4e2a\u5ba2\u6237\u8fde\u63a5\u53d1\u653e\u8be5\u7f13\u51b2\u7a7a\u95f4\uff0c\u6240\u4ee5\u5e94\u5c3d\u91cf\u9002\u5f53\u8bbe\u7f6e\u8be5\u503c\uff0c\u4ee5\u907f\u514d\u5185\u5b58\u5f00\u9500\u8fc7\u5927 \n\nsort_buffer_size = 8M \n# MySQL\u6267\u884c\u6392\u5e8f\u4f7f\u7528\u7684\u7f13\u51b2\u5927\u5c0f\u3002\u5982\u679c\u60f3\u8981\u589e\u52a0ORDER BY\u7684\u901f\u5ea6\uff0c\u9996\u5148\u770b\u662f\u5426\u53ef\u4ee5\u8ba9MySQL\u4f7f\u7528\u7d22\u5f15\u800c\u4e0d\u662f\u989d\u5916\u7684\u6392\u5e8f\u9636\u6bb5\u3002 \n# \u5982\u679c\u4e0d\u80fd\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u589e\u52a0sort_buffer_size\u53d8\u91cf\u7684\u5927\u5c0f \n\njoin_buffer_size = 8M \n# \u8054\u5408\u67e5\u8be2\u64cd\u4f5c\u6240\u80fd\u4f7f\u7528\u7684\u7f13\u51b2\u533a\u5927\u5c0f\uff0c\u548csort_buffer_size\u4e00\u6837\uff0c\u8be5\u53c2\u6570\u5bf9\u5e94\u7684\u5206\u914d\u5185\u5b58\u4e5f\u662f\u6bcf\u8fde\u63a5\u72ec\u4eab \n\nthread_cache_size = 8 \n# \u8fd9\u4e2a\u503c\uff08\u9ed8\u8ba48\uff09\u8868\u793a\u53ef\u4ee5\u91cd\u65b0\u5229\u7528\u4fdd\u5b58\u5728\u7f13\u5b58\u4e2d\u7ebf\u7a0b\u7684\u6570\u91cf\uff0c\u5f53\u65ad\u5f00\u8fde\u63a5\u65f6\u5982\u679c\u7f13\u5b58\u4e2d\u8fd8\u6709\u7a7a\u95f4\uff0c\u90a3\u4e48\u5ba2\u6237\u7aef\u7684\u7ebf\u7a0b\u5c06\u88ab\u653e\u5230\u7f13\u5b58\u4e2d\uff0c \n# \u5982\u679c\u7ebf\u7a0b\u91cd\u65b0\u88ab\u8bf7\u6c42\uff0c\u90a3\u4e48\u8bf7\u6c42\u5c06\u4ece\u7f13\u5b58\u4e2d\u8bfb\u53d6,\u5982\u679c\u7f13\u5b58\u4e2d\u662f\u7a7a\u7684\u6216\u8005\u662f\u65b0\u7684\u8bf7\u6c42\uff0c\u90a3\u4e48\u8fd9\u4e2a\u7ebf\u7a0b\u5c06\u88ab\u91cd\u65b0\u521b\u5efa,\u5982\u679c\u6709\u5f88\u591a\u65b0\u7684\u7ebf\u7a0b\uff0c \n# \u589e\u52a0\u8fd9\u4e2a\u503c\u53ef\u4ee5\u6539\u5584\u7cfb\u7edf\u6027\u80fd.\u901a\u8fc7\u6bd4\u8f83Connections\u548cThreads_created\u72b6\u6001\u7684\u53d8\u91cf\uff0c\u53ef\u4ee5\u770b\u5230\u8fd9\u4e2a\u53d8\u91cf\u7684\u4f5c\u7528\u3002(\u2013>\u8868\u793a\u8981\u8c03\u6574\u7684\u503c) \n# \u6839\u636e\u7269\u7406\u5185\u5b58\u8bbe\u7f6e\u89c4\u5219\u5982\u4e0b\uff1a \n# 1G  \u2014> 8 \n# 2G  \u2014> 16 \n# 3G  \u2014> 32 \n# \u5927\u4e8e3G  \u2014> 64 \n\nquery_cache_size = 8M \n#MySQL\u7684\u67e5\u8be2\u7f13\u51b2\u5927\u5c0f\uff08\u4ece4.0.1\u5f00\u59cb\uff0cMySQL\u63d0\u4f9b\u4e86\u67e5\u8be2\u7f13\u51b2\u673a\u5236\uff09\u4f7f\u7528\u67e5\u8be2\u7f13\u51b2\uff0cMySQL\u5c06SELECT\u8bed\u53e5\u548c\u67e5\u8be2\u7ed3\u679c\u5b58\u653e\u5728\u7f13\u51b2\u533a\u4e2d\uff0c \n# \u4eca\u540e\u5bf9\u4e8e\u540c\u6837\u7684SELECT\u8bed\u53e5\uff08\u533a\u5206\u5927\u5c0f\u5199\uff09\uff0c\u5c06\u76f4\u63a5\u4ece\u7f13\u51b2\u533a\u4e2d\u8bfb\u53d6\u7ed3\u679c\u3002\u6839\u636eMySQL\u7528\u6237\u624b\u518c\uff0c\u4f7f\u7528\u67e5\u8be2\u7f13\u51b2\u6700\u591a\u53ef\u4ee5\u8fbe\u5230238%\u7684\u6548\u7387\u3002 \n# \u901a\u8fc7\u68c0\u67e5\u72b6\u6001\u503c'Qcache_%'\uff0c\u53ef\u4ee5\u77e5\u9053query_cache_size\u8bbe\u7f6e\u662f\u5426\u5408\u7406\uff1a\u5982\u679cQcache_lowmem_prunes\u7684\u503c\u975e\u5e38\u5927\uff0c\u5219\u8868\u660e\u7ecf\u5e38\u51fa\u73b0\u7f13\u51b2\u4e0d\u591f\u7684\u60c5\u51b5\uff0c \n# \u5982\u679cQcache_hits\u7684\u503c\u4e5f\u975e\u5e38\u5927\uff0c\u5219\u8868\u660e\u67e5\u8be2\u7f13\u51b2\u4f7f\u7528\u975e\u5e38\u9891\u7e41\uff0c\u6b64\u65f6\u9700\u8981\u589e\u52a0\u7f13\u51b2\u5927\u5c0f\uff1b\u5982\u679cQcache_hits\u7684\u503c\u4e0d\u5927\uff0c\u5219\u8868\u660e\u4f60\u7684\u67e5\u8be2\u91cd\u590d\u7387\u5f88\u4f4e\uff0c \n# \u8fd9\u79cd\u60c5\u51b5\u4e0b\u4f7f\u7528\u67e5\u8be2\u7f13\u51b2\u53cd\u800c\u4f1a\u5f71\u54cd\u6548\u7387\uff0c\u90a3\u4e48\u53ef\u4ee5\u8003\u8651\u4e0d\u7528\u67e5\u8be2\u7f13\u51b2\u3002\u6b64\u5916\uff0c\u5728SELECT\u8bed\u53e5\u4e2d\u52a0\u5165SQL_NO_CACHE\u53ef\u4ee5\u660e\u786e\u8868\u793a\u4e0d\u4f7f\u7528\u67e5\u8be2\u7f13\u51b2 \n\nquery_cache_limit = 2M \n#\u6307\u5b9a\u5355\u4e2a\u67e5\u8be2\u80fd\u591f\u4f7f\u7528\u7684\u7f13\u51b2\u533a\u5927\u5c0f\uff0c\u9ed8\u8ba41M \n\nkey_buffer_size = 4M \n#\u6307\u5b9a\u7528\u4e8e\u7d22\u5f15\u7684\u7f13\u51b2\u533a\u5927\u5c0f\uff0c\u589e\u52a0\u5b83\u53ef\u5f97\u5230\u66f4\u597d\u5904\u7406\u7684\u7d22\u5f15(\u5bf9\u6240\u6709\u8bfb\u548c\u591a\u91cd\u5199)\uff0c\u5230\u4f60\u80fd\u8d1f\u62c5\u5f97\u8d77\u90a3\u6837\u591a\u3002\u5982\u679c\u4f60\u4f7f\u5b83\u592a\u5927\uff0c \n# \u7cfb\u7edf\u5c06\u5f00\u59cb\u6362\u9875\u5e76\u4e14\u771f\u7684\u53d8\u6162\u4e86\u3002\u5bf9\u4e8e\u5185\u5b58\u57284GB\u5de6\u53f3\u7684\u670d\u52a1\u5668\u8be5\u53c2\u6570\u53ef\u8bbe\u7f6e\u4e3a384M\u6216512M\u3002\u901a\u8fc7\u68c0\u67e5\u72b6\u6001\u503cKey_read_requests\u548cKey_reads\uff0c \n# \u53ef\u4ee5\u77e5\u9053key_buffer_size\u8bbe\u7f6e\u662f\u5426\u5408\u7406\u3002\u6bd4\u4f8bkey_reads/key_read_requests\u5e94\u8be5\u5c3d\u53ef\u80fd\u7684\u4f4e\uff0c \n# \u81f3\u5c11\u662f1:100\uff0c1:1000\u66f4\u597d(\u4e0a\u8ff0\u72b6\u6001\u503c\u53ef\u4ee5\u4f7f\u7528SHOW STATUS LIKE 'key_read%'\u83b7\u5f97)\u3002\u6ce8\u610f\uff1a\u8be5\u53c2\u6570\u503c\u8bbe\u7f6e\u7684\u8fc7\u5927\u53cd\u800c\u4f1a\u662f\u670d\u52a1\u5668\u6574\u4f53\u6548\u7387\u964d\u4f4e \n\nft_min_word_len = 4 \n# \u5206\u8bcd\u8bcd\u6c47\u6700\u5c0f\u957f\u5ea6\uff0c\u9ed8\u8ba44 \n\ntransaction_isolation = REPEATABLE-READ \n# MySQL\u652f\u63014\u79cd\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\uff0c\u4ed6\u4eec\u5206\u522b\u662f\uff1a \n# READ-UNCOMMITTED, READ-COMMITTED, REPEATABLE-READ, SERIALIZABLE. \n# \u5982\u6ca1\u6709\u6307\u5b9a\uff0cMySQL\u9ed8\u8ba4\u91c7\u7528\u7684\u662fREPEATABLE-READ\uff0cORACLE\u9ed8\u8ba4\u7684\u662fREAD-COMMITTED \n\nlog_bin = mysql-bin \nbinlog_format = mixed \nexpire_logs_days = 30 #\u8d85\u8fc730\u5929\u7684binlog\u5220\u9664 \n\nlog_error = /data/mysql/mysql-error.log #\u9519\u8bef\u65e5\u5fd7\u8def\u5f84 \nslow_query_log = 1 \nlong_query_time = 1 #\u6162\u67e5\u8be2\u65f6\u95f4 \u8d85\u8fc71\u79d2\u5219\u4e3a\u6162\u67e5\u8be2 \nslow_query_log_file = /data/mysql/mysql-slow.log \n\nperformance_schema = 0 \nexplicit_defaults_for_timestamp \n\n#lower_case_table_names = 1 #\u4e0d\u533a\u5206\u5927\u5c0f\u5199 \n\nskip-external-locking #MySQL\u9009\u9879\u4ee5\u907f\u514d\u5916\u90e8\u9501\u5b9a\u3002\u8be5\u9009\u9879\u9ed8\u8ba4\u5f00\u542f \n\ndefault-storage-engine = InnoDB #\u9ed8\u8ba4\u5b58\u50a8\u5f15\u64ce \n\ninnodb_file_per_table = 1 \n# InnoDB\u4e3a\u72ec\u7acb\u8868\u7a7a\u95f4\u6a21\u5f0f\uff0c\u6bcf\u4e2a\u6570\u636e\u5e93\u7684\u6bcf\u4e2a\u8868\u90fd\u4f1a\u751f\u6210\u4e00\u4e2a\u6570\u636e\u7a7a\u95f4 \n# \u72ec\u7acb\u8868\u7a7a\u95f4\u4f18\u70b9\uff1a \n# 1\uff0e\u6bcf\u4e2a\u8868\u90fd\u6709\u81ea\u5df2\u72ec\u7acb\u7684\u8868\u7a7a\u95f4\u3002 \n# 2\uff0e\u6bcf\u4e2a\u8868\u7684\u6570\u636e\u548c\u7d22\u5f15\u90fd\u4f1a\u5b58\u5728\u81ea\u5df2\u7684\u8868\u7a7a\u95f4\u4e2d\u3002 \n# 3\uff0e\u53ef\u4ee5\u5b9e\u73b0\u5355\u8868\u5728\u4e0d\u540c\u7684\u6570\u636e\u5e93\u4e2d\u79fb\u52a8\u3002 \n# 4\uff0e\u7a7a\u95f4\u53ef\u4ee5\u56de\u6536\uff08\u9664drop table\u64cd\u4f5c\u5904\uff0c\u8868\u7a7a\u4e0d\u80fd\u81ea\u5df2\u56de\u6536\uff09 \n# \u7f3a\u70b9\uff1a \n# \u5355\u8868\u589e\u52a0\u8fc7\u5927\uff0c\u5982\u8d85\u8fc7100G \n# \u7ed3\u8bba\uff1a \n# \u5171\u4eab\u8868\u7a7a\u95f4\u5728Insert\u64cd\u4f5c\u4e0a\u5c11\u6709\u4f18\u52bf\u3002\u5176\u5b83\u90fd\u6ca1\u72ec\u7acb\u8868\u7a7a\u95f4\u8868\u73b0\u597d\u3002\u5f53\u542f\u7528\u72ec\u7acb\u8868\u7a7a\u95f4\u65f6\uff0c\u8bf7\u5408\u7406\u8c03\u6574\uff1ainnodb_open_files \n\ninnodb_open_files = 500 \n# \u9650\u5236Innodb\u80fd\u6253\u5f00\u7684\u8868\u7684\u6570\u636e\uff0c\u5982\u679c\u5e93\u91cc\u7684\u8868\u7279\u522b\u591a\u7684\u60c5\u51b5\uff0c\u8bf7\u589e\u52a0\u8fd9\u4e2a\u3002\u8fd9\u4e2a\u503c\u9ed8\u8ba4\u662f300 \n\ninnodb_buffer_pool_size = 64M \n# InnoDB\u4f7f\u7528\u4e00\u4e2a\u7f13\u51b2\u6c60\u6765\u4fdd\u5b58\u7d22\u5f15\u548c\u539f\u59cb\u6570\u636e, \u4e0d\u50cfMyISAM. \n# \u8fd9\u91cc\u4f60\u8bbe\u7f6e\u8d8a\u5927,\u4f60\u5728\u5b58\u53d6\u8868\u91cc\u9762\u6570\u636e\u65f6\u6240\u9700\u8981\u7684\u78c1\u76d8I/O\u8d8a\u5c11. \n# \u5728\u4e00\u4e2a\u72ec\u7acb\u4f7f\u7528\u7684\u6570\u636e\u5e93\u670d\u52a1\u5668\u4e0a,\u4f60\u53ef\u4ee5\u8bbe\u7f6e\u8fd9\u4e2a\u53d8\u91cf\u5230\u670d\u52a1\u5668\u7269\u7406\u5185\u5b58\u5927\u5c0f\u768480% \n# \u4e0d\u8981\u8bbe\u7f6e\u8fc7\u5927,\u5426\u5219,\u7531\u4e8e\u7269\u7406\u5185\u5b58\u7684\u7ade\u4e89\u53ef\u80fd\u5bfc\u81f4\u64cd\u4f5c\u7cfb\u7edf\u7684\u6362\u9875\u98a0\u7c38. \n# \u6ce8\u610f\u572832\u4f4d\u7cfb\u7edf\u4e0a\u4f60\u6bcf\u4e2a\u8fdb\u7a0b\u53ef\u80fd\u88ab\u9650\u5236\u5728 2-3.5G \u7528\u6237\u5c42\u9762\u5185\u5b58\u9650\u5236, \n# \u6240\u4ee5\u4e0d\u8981\u8bbe\u7f6e\u7684\u592a\u9ad8. \n\ninnodb_write_io_threads = 4 \ninnodb_read_io_threads = 4 \n# innodb\u4f7f\u7528\u540e\u53f0\u7ebf\u7a0b\u5904\u7406\u6570\u636e\u9875\u4e0a\u7684\u8bfb\u5199 I/O(\u8f93\u5165\u8f93\u51fa)\u8bf7\u6c42,\u6839\u636e\u4f60\u7684 CPU \u6838\u6570\u6765\u66f4\u6539,\u9ed8\u8ba4\u662f4 \n# \u6ce8:\u8fd9\u4e24\u4e2a\u53c2\u6570\u4e0d\u652f\u6301\u52a8\u6001\u6539\u53d8,\u9700\u8981\u628a\u8be5\u53c2\u6570\u52a0\u5165\u5230my.cnf\u91cc\uff0c\u4fee\u6539\u5b8c\u540e\u91cd\u542fMySQL\u670d\u52a1,\u5141\u8bb8\u503c\u7684\u8303\u56f4\u4ece 1-64 \n\ninnodb_thread_concurrency = 0 \n# \u9ed8\u8ba4\u8bbe\u7f6e\u4e3a 0,\u8868\u793a\u4e0d\u9650\u5236\u5e76\u53d1\u6570\uff0c\u8fd9\u91cc\u63a8\u8350\u8bbe\u7f6e\u4e3a0\uff0c\u66f4\u597d\u53bb\u53d1\u6325CPU\u591a\u6838\u5904\u7406\u80fd\u529b\uff0c\u63d0\u9ad8\u5e76\u53d1\u91cf \n\ninnodb_purge_threads = 1 \n# InnoDB\u4e2d\u7684\u6e05\u9664\u64cd\u4f5c\u662f\u4e00\u7c7b\u5b9a\u671f\u56de\u6536\u65e0\u7528\u6570\u636e\u7684\u64cd\u4f5c\u3002\u5728\u4e4b\u524d\u7684\u51e0\u4e2a\u7248\u672c\u4e2d\uff0c\u6e05\u9664\u64cd\u4f5c\u662f\u4e3b\u7ebf\u7a0b\u7684\u4e00\u90e8\u5206\uff0c\u8fd9\u610f\u5473\u7740\u8fd0\u884c\u65f6\u5b83\u53ef\u80fd\u4f1a\u5835\u585e\u5176\u5b83\u7684\u6570\u636e\u5e93\u64cd\u4f5c\u3002 \n# \u4eceMySQL5.5.X\u7248\u672c\u5f00\u59cb\uff0c\u8be5\u64cd\u4f5c\u8fd0\u884c\u4e8e\u72ec\u7acb\u7684\u7ebf\u7a0b\u4e2d,\u5e76\u652f\u6301\u66f4\u591a\u7684\u5e76\u53d1\u6570\u3002\u7528\u6237\u53ef\u901a\u8fc7\u8bbe\u7f6einnodb_purge_threads\u914d\u7f6e\u53c2\u6570\u6765\u9009\u62e9\u6e05\u9664\u64cd\u4f5c\u662f\u5426\u4f7f\u7528\u5355 \n# \u72ec\u7ebf\u7a0b,\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u53c2\u6570\u8bbe\u7f6e\u4e3a0(\u4e0d\u4f7f\u7528\u5355\u72ec\u7ebf\u7a0b),\u8bbe\u7f6e\u4e3a 1 \u65f6\u8868\u793a\u4f7f\u7528\u5355\u72ec\u7684\u6e05\u9664\u7ebf\u7a0b\u3002\u5efa\u8bae\u4e3a1 \n\ninnodb_flush_log_at_trx_commit = 2 \n# 0\uff1a\u5982\u679cinnodb_flush_log_at_trx_commit\u7684\u503c\u4e3a0,log buffer\u6bcf\u79d2\u5c31\u4f1a\u88ab\u5237\u5199\u65e5\u5fd7\u6587\u4ef6\u5230\u78c1\u76d8\uff0c\u63d0\u4ea4\u4e8b\u52a1\u7684\u65f6\u5019\u4e0d\u505a\u4efb\u4f55\u64cd\u4f5c\uff08\u6267\u884c\u662f\u7531mysql\u7684master thread\u7ebf\u7a0b\u6765\u6267\u884c\u7684\u3002 \n# \u4e3b\u7ebf\u7a0b\u4e2d\u6bcf\u79d2\u4f1a\u5c06\u91cd\u505a\u65e5\u5fd7\u7f13\u51b2\u5199\u5165\u78c1\u76d8\u7684\u91cd\u505a\u65e5\u5fd7\u6587\u4ef6(REDO LOG)\u4e2d\u3002\u4e0d\u8bba\u4e8b\u52a1\u662f\u5426\u5df2\u7ecf\u63d0\u4ea4\uff09\u9ed8\u8ba4\u7684\u65e5\u5fd7\u6587\u4ef6\u662fib_logfile0,ib_logfile1 \n# 1\uff1a\u5f53\u8bbe\u4e3a\u9ed8\u8ba4\u503c1\u7684\u65f6\u5019\uff0c\u6bcf\u6b21\u63d0\u4ea4\u4e8b\u52a1\u7684\u65f6\u5019\uff0c\u90fd\u4f1a\u5c06log buffer\u5237\u5199\u5230\u65e5\u5fd7\u3002 \n# 2\uff1a\u5982\u679c\u8bbe\u4e3a2,\u6bcf\u6b21\u63d0\u4ea4\u4e8b\u52a1\u90fd\u4f1a\u5199\u65e5\u5fd7\uff0c\u4f46\u5e76\u4e0d\u4f1a\u6267\u884c\u5237\u7684\u64cd\u4f5c\u3002\u6bcf\u79d2\u5b9a\u65f6\u4f1a\u5237\u5230\u65e5\u5fd7\u6587\u4ef6\u3002\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5e76\u4e0d\u80fd\u4fdd\u8bc1100%\u6bcf\u79d2\u4e00\u5b9a\u90fd\u4f1a\u5237\u5230\u78c1\u76d8\uff0c\u8fd9\u8981\u53d6\u51b3\u4e8e\u8fdb\u7a0b\u7684\u8c03\u5ea6\u3002 \n# \u6bcf\u6b21\u4e8b\u52a1\u63d0\u4ea4\u7684\u65f6\u5019\u5c06\u6570\u636e\u5199\u5165\u4e8b\u52a1\u65e5\u5fd7\uff0c\u800c\u8fd9\u91cc\u7684\u5199\u5165\u4ec5\u662f\u8c03\u7528\u4e86\u6587\u4ef6\u7cfb\u7edf\u7684\u5199\u5165\u64cd\u4f5c\uff0c\u800c\u6587\u4ef6\u7cfb\u7edf\u662f\u6709 \u7f13\u5b58\u7684\uff0c\u6240\u4ee5\u8fd9\u4e2a\u5199\u5165\u5e76\u4e0d\u80fd\u4fdd\u8bc1\u6570\u636e\u5df2\u7ecf\u5199\u5165\u5230\u7269\u7406\u78c1\u76d8 \n# \u9ed8\u8ba4\u503c1\u662f\u4e3a\u4e86\u4fdd\u8bc1\u5b8c\u6574\u7684ACID\u3002\u5f53\u7136\uff0c\u4f60\u53ef\u4ee5\u5c06\u8fd9\u4e2a\u914d\u7f6e\u9879\u8bbe\u4e3a1\u4ee5\u5916\u7684\u503c\u6765\u6362\u53d6\u66f4\u9ad8\u7684\u6027\u80fd\uff0c\u4f46\u662f\u5728\u7cfb\u7edf\u5d29\u6e83\u7684\u65f6\u5019\uff0c\u4f60\u5c06\u4f1a\u4e22\u59311\u79d2\u7684\u6570\u636e\u3002 \n# \u8bbe\u4e3a0\u7684\u8bdd\uff0cmysqld\u8fdb\u7a0b\u5d29\u6e83\u7684\u65f6\u5019\uff0c\u5c31\u4f1a\u4e22\u5931\u6700\u540e1\u79d2\u7684\u4e8b\u52a1\u3002\u8bbe\u4e3a2,\u53ea\u6709\u5728\u64cd\u4f5c\u7cfb\u7edf\u5d29\u6e83\u6216\u8005\u65ad\u7535\u7684\u65f6\u5019\u624d\u4f1a\u4e22\u5931\u6700\u540e1\u79d2\u7684\u6570\u636e\u3002InnoDB\u5728\u505a\u6062\u590d\u7684\u65f6\u5019\u4f1a\u5ffd\u7565\u8fd9\u4e2a\u503c\u3002 \n# \u603b\u7ed3 \n# \u8bbe\u4e3a1\u5f53\u7136\u662f\u6700\u5b89\u5168\u7684\uff0c\u4f46\u6027\u80fd\u9875\u662f\u6700\u5dee\u7684\uff08\u76f8\u5bf9\u5176\u4ed6\u4e24\u4e2a\u53c2\u6570\u800c\u8a00\uff0c\u4f46\u4e0d\u662f\u4e0d\u80fd\u63a5\u53d7\uff09\u3002\u5982\u679c\u5bf9\u6570\u636e\u4e00\u81f4\u6027\u548c\u5b8c\u6574\u6027\u8981\u6c42\u4e0d\u9ad8\uff0c\u5b8c\u5168\u53ef\u4ee5\u8bbe\u4e3a2\uff0c\u5982\u679c\u53ea\u6700\u6c42\u6027\u80fd\uff0c\u4f8b\u5982\u9ad8\u5e76\u53d1\u5199\u7684\u65e5\u5fd7\u670d\u52a1\u5668\uff0c\u8bbe\u4e3a0\u6765\u83b7\u5f97\u66f4\u9ad8\u6027\u80fd \n\ninnodb_log_buffer_size = 2M \n# \u6b64\u53c2\u6570\u786e\u5b9a\u4e9b\u65e5\u5fd7\u6587\u4ef6\u6240\u7528\u7684\u5185\u5b58\u5927\u5c0f\uff0c\u4ee5M\u4e3a\u5355\u4f4d\u3002\u7f13\u51b2\u533a\u66f4\u5927\u80fd\u63d0\u9ad8\u6027\u80fd\uff0c\u4f46\u610f\u5916\u7684\u6545\u969c\u5c06\u4f1a\u4e22\u5931\u6570\u636e\u3002MySQL\u5f00\u53d1\u4eba\u5458\u5efa\u8bae\u8bbe\u7f6e\u4e3a1\uff0d8M\u4e4b\u95f4 \n\ninnodb_log_file_size = 32M \n# \u6b64\u53c2\u6570\u786e\u5b9a\u6570\u636e\u65e5\u5fd7\u6587\u4ef6\u7684\u5927\u5c0f\uff0c\u66f4\u5927\u7684\u8bbe\u7f6e\u53ef\u4ee5\u63d0\u9ad8\u6027\u80fd\uff0c\u4f46\u4e5f\u4f1a\u589e\u52a0\u6062\u590d\u6545\u969c\u6570\u636e\u5e93\u6240\u9700\u7684\u65f6\u95f4 \n\ninnodb_log_files_in_group = 3 \n# \u4e3a\u63d0\u9ad8\u6027\u80fd\uff0cMySQL\u53ef\u4ee5\u4ee5\u5faa\u73af\u65b9\u5f0f\u5c06\u65e5\u5fd7\u6587\u4ef6\u5199\u5230\u591a\u4e2a\u6587\u4ef6\u3002\u63a8\u8350\u8bbe\u7f6e\u4e3a3 \n\ninnodb_max_dirty_pages_pct = 90 \n# innodb\u4e3b\u7ebf\u7a0b\u5237\u65b0\u7f13\u5b58\u6c60\u4e2d\u7684\u6570\u636e\uff0c\u4f7f\u810f\u6570\u636e\u6bd4\u4f8b\u5c0f\u4e8e90% \n\ninnodb_lock_wait_timeout = 120   \n# InnoDB\u4e8b\u52a1\u5728\u88ab\u56de\u6eda\u4e4b\u524d\u53ef\u4ee5\u7b49\u5f85\u4e00\u4e2a\u9501\u5b9a\u7684\u8d85\u65f6\u79d2\u6570\u3002InnoDB\u5728\u5b83\u81ea\u5df1\u7684\u9501\u5b9a\u8868\u4e2d\u81ea\u52a8\u68c0\u6d4b\u4e8b\u52a1\u6b7b\u9501\u5e76\u4e14\u56de\u6eda\u4e8b\u52a1\u3002InnoDB\u7528LOCK TABLES\u8bed\u53e5\u6ce8\u610f\u5230\u9501\u5b9a\u8bbe\u7f6e\u3002\u9ed8\u8ba4\u503c\u662f50\u79d2 \n\nbulk_insert_buffer_size = 8M \n# \u6279\u91cf\u63d2\u5165\u7f13\u5b58\u5927\u5c0f\uff0c \u8fd9\u4e2a\u53c2\u6570\u662f\u9488\u5bf9MyISAM\u5b58\u50a8\u5f15\u64ce\u6765\u8bf4\u7684\u3002\u9002\u7528\u4e8e\u5728\u4e00\u6b21\u6027\u63d2\u5165100-1000+\u6761\u8bb0\u5f55\u65f6\uff0c \u63d0\u9ad8\u6548\u7387\u3002\u9ed8\u8ba4\u503c\u662f8M\u3002\u53ef\u4ee5\u9488\u5bf9\u6570\u636e\u91cf\u7684\u5927\u5c0f\uff0c\u7ffb\u500d\u589e\u52a0\u3002 \n\nmyisam_sort_buffer_size = 8M \n# MyISAM\u8bbe\u7f6e\u6062\u590d\u8868\u4e4b\u65f6\u4f7f\u7528\u7684\u7f13\u51b2\u533a\u7684\u5c3a\u5bf8\uff0c\u5f53\u5728REPAIR TABLE\u6216\u7528CREATE INDEX\u521b\u5efa\u7d22\u5f15\u6216ALTER TABLE\u8fc7\u7a0b\u4e2d\u6392\u5e8f MyISAM\u7d22\u5f15\u5206\u914d\u7684\u7f13\u51b2\u533a \n\nmyisam_max_sort_file_size = 10G \n# \u5982\u679c\u4e34\u65f6\u6587\u4ef6\u4f1a\u53d8\u5f97\u8d85\u8fc7\u7d22\u5f15\uff0c\u4e0d\u8981\u4f7f\u7528\u5feb\u901f\u6392\u5e8f\u7d22\u5f15\u65b9\u6cd5\u6765\u521b\u5efa\u4e00\u4e2a\u7d22\u5f15\u3002\u6ce8\u91ca\uff1a\u8fd9\u4e2a\u53c2\u6570\u4ee5\u5b57\u8282\u7684\u5f62\u5f0f\u7ed9\u51fa \n\nmyisam_repair_threads = 1 \n# \u5982\u679c\u8be5\u503c\u5927\u4e8e1\uff0c\u5728Repair by sorting\u8fc7\u7a0b\u4e2d\u5e76\u884c\u521b\u5efaMyISAM\u8868\u7d22\u5f15(\u6bcf\u4e2a\u7d22\u5f15\u5728\u81ea\u5df1\u7684\u7ebf\u7a0b\u5185)   \n\ninteractive_timeout = 28800 \n# \u670d\u52a1\u5668\u5173\u95ed\u4ea4\u4e92\u5f0f\u8fde\u63a5\u524d\u7b49\u5f85\u6d3b\u52a8\u7684\u79d2\u6570\u3002\u4ea4\u4e92\u5f0f\u5ba2\u6237\u7aef\u5b9a\u4e49\u4e3a\u5728mysql_real_connect()\u4e2d\u4f7f\u7528CLIENT_INTERACTIVE\u9009\u9879\u7684\u5ba2\u6237\u7aef\u3002\u9ed8\u8ba4\u503c\uff1a28800\u79d2\uff088\u5c0f\u65f6\uff09 \n\nwait_timeout = 28800 \n# \u670d\u52a1\u5668\u5173\u95ed\u975e\u4ea4\u4e92\u8fde\u63a5\u4e4b\u524d\u7b49\u5f85\u6d3b\u52a8\u7684\u79d2\u6570\u3002\u5728\u7ebf\u7a0b\u542f\u52a8\u65f6\uff0c\u6839\u636e\u5168\u5c40wait_timeout\u503c\u6216\u5168\u5c40interactive_timeout\u503c\u521d\u59cb\u5316\u4f1a\u8bddwait_timeout\u503c\uff0c \n# \u53d6\u51b3\u4e8e\u5ba2\u6237\u7aef\u7c7b\u578b(\u7531mysql_real_connect()\u7684\u8fde\u63a5\u9009\u9879CLIENT_INTERACTIVE\u5b9a\u4e49)\u3002\u53c2\u6570\u9ed8\u8ba4\u503c\uff1a28800\u79d2\uff088\u5c0f\u65f6\uff09 \n# MySQL\u670d\u52a1\u5668\u6240\u652f\u6301\u7684\u6700\u5927\u8fde\u63a5\u6570\u662f\u6709\u4e0a\u9650\u7684\uff0c\u56e0\u4e3a\u6bcf\u4e2a\u8fde\u63a5\u7684\u5efa\u7acb\u90fd\u4f1a\u6d88\u8017\u5185\u5b58\uff0c\u56e0\u6b64\u6211\u4eec\u5e0c\u671b\u5ba2\u6237\u7aef\u5728\u8fde\u63a5\u5230MySQL Server\u5904\u7406\u5b8c\u76f8\u5e94\u7684\u64cd\u4f5c\u540e\uff0c \n# \u5e94\u8be5\u65ad\u5f00\u8fde\u63a5\u5e76\u91ca\u653e\u5360\u7528\u7684\u5185\u5b58\u3002\u5982\u679c\u4f60\u7684MySQL Server\u6709\u5927\u91cf\u7684\u95f2\u7f6e\u8fde\u63a5\uff0c\u4ed6\u4eec\u4e0d\u4ec5\u4f1a\u767d\u767d\u6d88\u8017\u5185\u5b58\uff0c\u800c\u4e14\u5982\u679c\u8fde\u63a5\u4e00\u76f4\u5728\u7d2f\u52a0\u800c\u4e0d\u65ad\u5f00\uff0c \n# \u6700\u7ec8\u80af\u5b9a\u4f1a\u8fbe\u5230MySQL Server\u7684\u8fde\u63a5\u4e0a\u9650\u6570\uff0c\u8fd9\u4f1a\u62a5'too many connections'\u7684\u9519\u8bef\u3002\u5bf9\u4e8ewait_timeout\u7684\u503c\u8bbe\u5b9a\uff0c\u5e94\u8be5\u6839\u636e\u7cfb\u7edf\u7684\u8fd0\u884c\u60c5\u51b5\u6765\u5224\u65ad\u3002 \n# \u5728\u7cfb\u7edf\u8fd0\u884c\u4e00\u6bb5\u65f6\u95f4\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7show processlist\u547d\u4ee4\u67e5\u770b\u5f53\u524d\u7cfb\u7edf\u7684\u8fde\u63a5\u72b6\u6001\uff0c\u5982\u679c\u53d1\u73b0\u6709\u5927\u91cf\u7684sleep\u72b6\u6001\u7684\u8fde\u63a5\u8fdb\u7a0b\uff0c\u5219\u8bf4\u660e\u8be5\u53c2\u6570\u8bbe\u7f6e\u7684\u8fc7\u5927\uff0c \n# \u53ef\u4ee5\u8fdb\u884c\u9002\u5f53\u7684\u8c03\u6574\u5c0f\u4e9b\u3002\u8981\u540c\u65f6\u8bbe\u7f6einteractive_timeout\u548cwait_timeout\u624d\u4f1a\u751f\u6548\u3002 \n\n[mysqldump] \nquick \nmax_allowed_packet = 16M #\u670d\u52a1\u5668\u53d1\u9001\u548c\u63a5\u53d7\u7684\u6700\u5927\u5305\u957f\u5ea6 \n\n[myisamchk] \nkey_buffer_size = 8M \nsort_buffer_size = 8M \nread_buffer = 4M \nwrite_buffer = 4M \n"})}),"\n",(0,i.jsx)(n.h2,{id:"linux-\u52a0\u5bc6\u811a\u672c",children:"Linux \u52a0\u5bc6\u811a\u672c"}),"\n",(0,i.jsx)(n.p,{children:"gzexe\u4f1a\u628a\u539f\u6765\u6ca1\u6709\u52a0\u5bc6\u7684\u6587\u4ef6\u5907\u4efd\u4e3a test.sh~ \uff0c\u540c\u65f6test.sh \u5373\u88ab\u53d8\u6210\u52a0\u5bc6\u6587\u4ef6"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"gzexe  test.sh \n"})}),"\n",(0,i.jsx)(n.p,{children:"gzexe\u89e3\u5bc6"}),"\n",(0,i.jsx)(n.p,{children:"\u63d0\u53d6\u89e3\u5bc6\u540e\u7684\u538b\u7f29\u6587\u4ef61.gz\u5230/tmp\u76ee\u5f55\uff0c\u5176\u4e2d\u7684+44\u4e3a\u4e0a\u9762\u7684\u793a\u4f8b\u811a\u672c\u4e2d\u5bf9\u5e94\u7684\u4e71\u7801\u5f00\u59cb"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"/usr/bin/tail -n +44 file.sh >/tmp/1.gz\n\ngunzip /tmp/1.gz\n"})}),"\n",(0,i.jsx)(n.p,{children:"shc\u5b89\u88c5"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"wget http://www.datsi.fi.upm.es/~frosal/sources/shc-3.8.9.tgz\ntar xzvf shc-3.8.9.tgz\ncd shc-3.8.9\nmkdir -p /usr/local/man/man1\nmake install\n"})}),"\n",(0,i.jsx)(n.p,{children:"shc\u52a0\u5bc6"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"shc -r -f test.sh  \n"})}),"\n",(0,i.jsx)(n.p,{children:"\u8fd0\u884c\u540e\u4f1a\u751f\u6210\u4e24\u4e2a\u6587\u4ef6test.sh.x \u548c test.sh.x.c\ntest.sh.x\uff1a\u662f\u52a0\u5bc6\u540e\u7684\u53ef\u6267\u884c\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6./test.sh.x \u5373\u53ef\u8fd0\u884c.\ntest.sh.x.c\uff1a\u662f\u751f\u6210test.sh.x\u7684\u539f\u6587\u4ef6(c\u8bed\u8a00,\u53ef\u4ee5\u76f4\u63a5\u5220\u6389)"}),"\n",(0,i.jsx)(n.p,{children:"\u53c2\u6570"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"-e:  \u6307\u5b9a\u8fc7\u671f\u65f6\u95f4\u4e3a20/10/2020\uff082020\u5e7410\u670820\u65e5\uff09"}),"\n",(0,i.jsx)(n.li,{children:"-m: \u8fc7\u671f\u540e\u6253\u5370\u51fa\u7684\u4fe1\u606f\uff1b"}),"\n",(0,i.jsx)(n.li,{children:"-v:  \u7f16\u8bd1\u7684\u8be6\u7ec6\u60c5\u51b5"}),"\n",(0,i.jsx)(n.li,{children:"-r:  \u53ef\u5728\u76f8\u540c\u64cd\u4f5c\u7cfb\u7edf\u7684\u4e0d\u540c\u4e3b\u673a\u4e0a\u6267\u884c"}),"\n",(0,i.jsx)(n.li,{children:"-f:  \u6307\u5b9a\u6e90shell"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"dell\u670d\u52a1\u5668\u786c\u4ef6\u4fe1\u606f\u67e5\u770b",children:"DELL\u670d\u52a1\u5668\u786c\u4ef6\u4fe1\u606f\u67e5\u770b"}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770b\u673a\u5668\u578b\u53f7"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'dmidecode | grep "Product"\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770b\u5382\u5546"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'dmidecode | grep  "Manufacturer"\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770b\u5e8f\u5217\u53f7"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'dmidecode | grep  "Serial Number"\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770bCPU\u4fe1\u606f"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'dmidecode | grep  "CPU"\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770bCPU\u4e2a\u6570"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'dmidecode | grep  "Socket Designation: CPU" |wc \u2013l\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770b\u51fa\u5382\u65e5\u671f"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'dmidecode | grep "Date"\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770b\u5145\u7535\u72b6\u6001"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'MegaCli -AdpBbuCmd -GetBbuStatus -aALL |grep "Charger Status"\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u663e\u793aBBU\u72b6\u6001\u4fe1\u606f"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"MegaCli -AdpBbuCmd -GetBbuStatus \u2013aALL\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u663e\u793aBBU\u5bb9\u91cf\u4fe1\u606f"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"MegaCli -AdpBbuCmd -GetBbuCapacityInfo \u2013aALL\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u663e\u793a\u5f53\u524dBBU\u5c5e\u6027"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"MegaCli -AdpBbuCmd -GetBbuProperties \u2013aALL\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770b\u5145\u7535\u8fdb\u5ea6\u767e\u5206\u6bd4"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'MegaCli -AdpBbuCmd -GetBbuStatus -aALL |grep "Relative State of Charge"\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u8be2Raid\u9635\u5217\u6570"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'MegaCli -cfgdsply -aALL |grep "Number of DISK GROUPS:"\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u663e\u793aRaid\u5361\u578b\u53f7\uff0cRaid\u8bbe\u7f6e\uff0cDisk\u76f8\u5173\u4fe1\u606f"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"MegaCli -cfgdsply \u2013aALL\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u663e\u793a\u6240\u6709\u7269\u7406\u4fe1\u606f"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"MegaCli -PDList -aALL\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u663e\u793a\u6240\u6709\u903b\u8f91\u78c1\u76d8\u7ec4\u4fe1\u606f"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"MegaCli -LDInfo -LALL \u2013aAll\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770b\u7269\u7406\u78c1\u76d8\u91cd\u5efa\u8fdb\u5ea6(\u91cd\u8981)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"MegaCli -PDRbld -ShowProg -PhysDrv [1:5] -a0\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770b\u9002\u914d\u5668\u4e2a\u6570"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"MegaCli \u2013adpCount\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770b\u9002\u914d\u5668\u65f6\u95f4"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"MegaCli -AdpGetTime \u2013aALL\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u663e\u793a\u6240\u6709\u9002\u914d\u5668\u4fe1\u606f"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"MegaCli -AdpAllInfo \u2013aAll\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770bCache \u7b56\u7565\u8bbe\u7f6e"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"MegaCli -cfgdsply -aALL |grep Polic\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u786c\u76d8\u65b9\u9762\uff1a"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"1\u3001\u67e5\u770b\u6240\u6709\u7269\u7406\u78c1\u76d8\u4fe1\u606f"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"MegaCli -PDList -aALL\nAdapter #0\n\nEnclosure Number: 1 \nSlot Number: 5 \nDevice Id: 5 \nSequence Number: 2 \nMedia Error Count: 0 \nOther Error Count: 0 \nPredictive Failure Count: 0 \nLast Predictive Failure Event Seq Number: 0 \nRaw Size: 140014MB [0x11177328 Sectors] \nNon Coerced Size: 139502MB [0x11077328 Sectors] \nCoerced Size: 139392MB [0x11040000 Sectors] \nFirmware state: Hotspare \nSAS Address(0): 0x5000c50008e5cca9 \nSAS Address(1): 0x0 \nInquiry Data: SEAGATE ST3146855SS     S5273LN4Y1X0 \n..... \n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"2\u3001\u67e5\u770b\u78c1\u76d8\u7f13\u5b58\u7b56\u7565"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"MegaCli -LDGetProp -Cache -L0 -a0\n\nAdapter 0-VD 0: Cache Policy:WriteBack, ReadAheadNone, Direct \nor \nMegaCli -LDGetProp -Cache -L1 -a0\n\nAdapter 0-VD 1: Cache Policy:WriteBack, ReadAheadNone, Direct \nor \nMegaCli -LDGetProp -Cache -LALL -a0\n\nAdapter 0-VD 0: Cache Policy:WriteBack, ReadAheadNone, Direct \nAdapter 0-VD 1: Cache Policy:WriteBack, ReadAheadNone, Direct \nor \nMegaCli -LDGetProp -Cache -LALL -aALL\n\nAdapter 0-VD 0: Cache Policy:WriteBack, ReadAheadNone, Direct \nAdapter 0-VD 1: Cache Policy:WriteBack, ReadAheadNone, Direct \nor \nMegaCli -LDGetProp -DskCache -LALL -aALL\n\nAdapter 0-VD 0: Disk Write Cache : Disk's Default \nAdapter 0-VD 1: Disk Write Cache : Disk's Default \n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"3\u3001\u8bbe\u7f6e\u78c1\u76d8\u7f13\u5b58\u7b56\u7565"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"WT    (Write through)"}),"\n",(0,i.jsx)(n.li,{children:"WB    (Write back)"}),"\n",(0,i.jsx)(n.li,{children:"NORA  (No read ahead)"}),"\n",(0,i.jsx)(n.li,{children:"RA    (Read ahead)"}),"\n",(0,i.jsx)(n.li,{children:"ADRA  (Adaptive read ahead)"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"MegaCli -LDSetProp WT|WB|NORA|RA|ADRA -L0 -a0 \nor \nMegaCli -LDSetProp -Cached|-Direct -L0 -a0 \nor \nenable / disable disk cache \nMegaCli -LDSetProp -EnDskCache|-DisDskCache -L0 -a0 \n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"4\u3001\u521b\u5efa/\u5220\u9664 \u9635\u5217"})}),"\n",(0,i.jsx)(n.p,{children:"\u521b\u5efa\u4e00\u4e2a raid5 \u9635\u5217\uff0c\u7531\u7269\u7406\u76d8 2,3,4 \u6784\u6210\uff0c\u8be5\u9635\u5217\u7684\u70ed\u5907\u76d8\u662f\u7269\u7406\u76d8 5"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"MegaCli -CfgLdAdd -r5 [1:2,1:3,1:4] WB Direct -Hsp[1:5] \u2013a0 \n"})}),"\n",(0,i.jsx)(n.p,{children:"\u521b\u5efa\u9635\u5217\uff0c\u4e0d\u6307\u5b9a\u70ed\u5907"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"MegaCli -CfgLdAdd -r5 [1:2,1:3,1:4] WB Direct \u2013a0 \n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5220\u9664\u9635\u5217"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"MegaCli -CfgLdDel -L1 \u2013a0 \n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5728\u7ebf\u6dfb\u52a0\u78c1\u76d8"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"MegaCli -LDRecon -Start -r5 -Add -PhysDrv[1:4] -L1 -a0 \n"})}),"\n",(0,i.jsx)(n.p,{children:"\u610f\u601d\u662f\uff0c\u91cd\u5efa\u903b\u8f91\u78c1\u76d8\u7ec41\uff0craid\u7ea7\u522b\u662f5\uff0c\u6dfb\u52a0\u7269\u7406\u78c1\u76d8\u53f7\uff1a1:4\u3002\u91cd\u5efa\u5b8c\u540e\uff0c\u65b0\u6dfb\u52a0\u7684\u7269\u7406\u78c1\u76d8\u4f1a\u81ea\u52a8\u5904\u4e8e\u91cd\u5efa(\u540c\u6b65)\u72b6\u6001\uff0c\u8fd9\u4e2a \u65f6\u5019 fdisk -l\u662f\u770b\u4e0d\u5230\u9635\u5217\u7684\u7a7a\u95f4\u53d8\u5927\u7684\uff0c\u53ea\u6709\u5728\u7cfb\u7edf\u91cd\u542f\u540e\u624d\u80fd\u770b\u89c1\u3002"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"5\u3001\u67e5\u770b\u9635\u5217\u521d\u59cb\u5316\u4fe1\u606f"})}),"\n",(0,i.jsx)(n.p,{children:"\u9635\u5217\u521b\u5efa\u5b8c\u540e\uff0c\u4f1a\u6709\u4e00\u4e2a\u521d\u59cb\u5316\u540c\u6b65\u5757\u7684\u8fc7\u7a0b\uff0c\u53ef\u4ee5\u770b\u770b\u5176\u8fdb\u5ea6\u3002"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"MegaCli -LDInit -ShowProg -LALL -aALL \n"})}),"\n",(0,i.jsx)(n.p,{children:"\u6216\u8005\u4ee5\u52a8\u6001\u53ef\u89c6\u5316\u6587\u5b57\u754c\u9762\u663e\u793a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"MegaCli -LDInit -ProgDsply -LALL \u2013aALL \n"})}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770b\u9635\u5217\u540e\u53f0\u521d\u59cb\u5316\u8fdb\u5ea6"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"MegaCli -LDBI -ShowProg -LALL -aALL \n"})}),"\n",(0,i.jsx)(n.p,{children:"\u6216\u8005\u4ee5\u52a8\u6001\u53ef\u89c6\u5316\u6587\u5b57\u754c\u9762\u663e\u793a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"MegaCli -LDBI -ProgDsply -LALL -aALL \n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"6\u3001\u521b\u5efa\u5168\u5c40\u70ed\u5907"}),"\n\u6307\u5b9a\u7b2c 5 \u5757\u76d8\u4f5c\u4e3a\u5168\u5c40\u70ed\u5907"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"MegaCli -PDHSP -Set [-EnclAffinity] [-nonRevertible] -PhysDrv[1:5] -a0 \n"})}),"\n",(0,i.jsx)(n.p,{children:"\u4e5f\u53ef\u4ee5\u6307\u5b9a\u4e3a\u67d0\u4e2a\u9635\u5217\u7684\u4e13\u7528\u70ed\u5907"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"MegaCli -PDHSP -Set [-Dedicated [-Array1]] [-EnclAffinity] [-nonRevertible] -PhysDrv[1:5] -a0 \n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"7\u3001\u5220\u9664\u5168\u5c40\u70ed\u5907"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"MegaCli -PDHSP -Rmv -PhysDrv[1:5] -a0\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"8\u3001\u5c06\u67d0\u5757\u7269\u7406\u76d8\u4e0b\u7ebf/\u4e0a\u7ebf"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"MegaCli -PDOffline -PhysDrv [1:4] -a0\n\nMegaCli -PDOnline -PhysDrv [1:4] -a0 \n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"9\u3001\u67e5\u770b\u7269\u7406\u78c1\u76d8\u91cd\u5efa\u8fdb\u5ea6"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"MegaCli -PDRbld -ShowProg -PhysDrv [1:5] -a0\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u666e\u901a\u8d26\u53f7\u540e\u518d\u4f7f\u7528su--\u547d\u4ee4\u5207\u6362\u56deroot\u63d0\u793aincorrect-password",children:'\u666e\u901a\u8d26\u53f7\u540e\u518d\u4f7f\u7528su -\u547d\u4ee4\u5207\u6362\u56deroot\u63d0\u793a"incorrect password"'}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"chmod 4755 /bin/su\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u4e0d\u6253\u5370\u7a7a\u884c\u548c\u6ce8\u91ca",children:"\u4e0d\u6253\u5370\u7a7a\u884c\u548c\u6ce8\u91ca"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"grep '^[a-Z]' filename\negrep -v \"(^#|^$)\" filename\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u865a\u62df\u673a\u5728\u7ebf\u6dfb\u52a0\u78c1\u76d8",children:"\u865a\u62df\u673a\u5728\u7ebf\u6dfb\u52a0\u78c1\u76d8"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'echo "- - -" > /sys/class/scsi_host/host2/scan\n'})}),"\n",(0,i.jsx)(n.h2,{id:"iptables\u901a\u8fc7lokkit\u5f00\u653e\u7aef\u53e3",children:"iptables\u901a\u8fc7lokkit\u5f00\u653e\u7aef\u53e3"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"yum install -y lokkit\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5f00\u653e8000\u7aef\u53e3"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"lokkit -p 8000:tcp\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u67e5\u770blibstdc\u5e93\u5bf9\u5e94\u7248\u672c\u578b\u53f7",children:"\u67e5\u770blibstdc\u5e93\u5bf9\u5e94\u7248\u672c\u578b\u53f7"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"strings /usr/lib64/libstdc++.so.6  | grep GLIBCXX \n"})}),"\n",(0,i.jsx)(n.h2,{id:"fork-\u70b8\u5f39",children:"fork \u70b8\u5f39"}),"\n",(0,i.jsx)(n.p,{children:"linux\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:":(){ :|:& };:\n"})}),"\n",(0,i.jsx)(n.p,{children:"windows\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-powershell",children:"cmd /c @cd /d %temp% & echo @start /min cmd ^& cmd > cmd.bat & cmd\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u591a\u4e2a\u5916\u7f51ip\u6307\u5b9a\u51fa\u53e3ip",children:"\u591a\u4e2a\u5916\u7f51ip\u6307\u5b9a\u51fa\u53e3ip"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"iptables -t nat -A POSTROUTING -s 0.0.0.0/0 -j SNAT --to-source \u51fa\u53e3\u5730\u5740\niptables -t nat -I POSTROUTING -d 0.0.0.0/0 -s \u9ed8\u8ba4\u51fa\u53e3\u5730\u5740 -j SNAT --to-source \u6307\u5b9a\u51fa\u53e3\u5730\u5740\n"})}),"\n",(0,i.jsx)(n.h2,{id:"ssh\u53cd\u5411\u4ee3\u7406",children:"ssh\u53cd\u5411\u4ee3\u7406"}),"\n",(0,i.jsx)(n.p,{children:"\u5c40\u57df\u7f51\u4e3b\u673a\uff1a"}),"\n",(0,i.jsx)(n.p,{children:"ServerA / Linux / user userA / ip192.168.0.123 / ssh port 22"}),"\n",(0,i.jsx)(n.p,{children:"ServerB / Linux / user userB / ip192.168.0.125 / ssh port 22"}),"\n",(0,i.jsx)(n.p,{children:"PC / Windows / ip 192.168.0.128 / \u8fdc\u7a0b\u684c\u9762 port3389"}),"\n",(0,i.jsx)(n.p,{children:"\u8fdc\u7a0b\u4e3b\u673a\uff1a"}),"\n",(0,i.jsx)(n.p,{children:"MyServer / Linux / user me / ip 1.2.3.4 /ssh port 22"}),"\n",(0,i.jsx)(n.p,{children:"ssh\u53c2\u6570\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"-N\uff1a\u4e0d\u6267\u884c\u4f55\u6307\u4ee4"}),"\n",(0,i.jsx)(n.li,{children:"-f\uff1a\u540e\u53f0\u6267\u884c"}),"\n",(0,i.jsx)(n.li,{children:"-R\uff1a\u5efa\u7acbreverse tunnel"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u793a\u4f8b1\uff1a\u4eceMyServer ssh\u8fde\u56deServerA"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"[userA@ServerA] $ ssh -NfR2222:localhost:22 me@MyServer\n\n[me@MyServer] $ netstat -tnl | grep 127.0.0.1\ntcp       0      0 127.0.0.1:2222              0.0.0.0:*                   LISTEN\n[me@MyServer] $ ssh userA@127.0.0.1 -p 2222\n"})}),"\n",(0,i.jsx)(n.p,{children:"MyServer\u8fde\u52302222 port\u4f1a\u8f6c\u5411ServerA\u7684ssh port\uff0c\u6210\u529f\u8fde\u63a5\u5230ServerA"}),"\n",(0,i.jsx)(n.p,{children:"\u793a\u4f8b2\uff1a\u4eceMyServer ssh\u8fde\u56deServerB"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"[userA@ServerA] $ ssh -NfR 2244:192.168.0.125:22me@MyServer\n\n[me@MyServer] $ netstat -tnl | grep127.0.0.1\ntcp       0      0 127.0.0.1:2244              0.0.0.0:*                   LISTEN\n[me@MyServer] $ ssh userB@127.0.0.1 -p 2244\n"})}),"\n",(0,i.jsx)(n.p,{children:"MyServer\u8fde\u63a5\u5230\u672c\u673a\u76842244 port\u4f1a\u8f6c\u5411\u5230ServerB\u7684ssh port\uff0c\u6210\u529f\u8fde\u63a5\u5230ServerB"}),"\n",(0,i.jsx)(n.p,{children:"\u793a\u4f8b3\uff1a\u4eceMyServer\u8fdc\u7a0b\u684c\u9762PC"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"[userA@ServerA] $ ssh -NfR2266:192.168.0.128:3389 me@MyServer\n\n[me@MyServer] $ netstat -tnl | grep127.0.0.1\ntcp       0      0 127.0.0.1:2266              0.0.0.0:*                   LISTEN\n[me@MyServer] $ rdesktop 127.0.0.1:2266\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u82e5\u4f60\u5728Linux\u7684\u684c\u9762\u73af\u5883\u5219\u53ef\u4ee5\u76f4\u63a5display\u8fdc\u7a0b\u684c\u9762PC\uff0c\u4e0d\u7136\u5c31export DISPLAY\u5230\u5176\u4ed6\u4e3b\u673a\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u6b64\u5916\uff0c\u4e3a\u4e86\u9632\u6b62\u53cd\u5411\u7684Tunnel\u65ad\u5f00\uff0c\u8fd8\u9700\u8981\u4e00\u4e2aautossh\u5de5\u5177\uff0c\u5b83\u53ef\u4ee5\u5e2e\u52a9\u65ad\u7ebf\u540e\u81ea\u52a8\u91cd\u8fde\u3002\u8fd9\u4e2a\u5bf9\u6211\u76f8\u5f53\u7684\u91cd\u8981\uff0c\u4e8b\u5b9e\u4e0a\u6211\u73b0\u5728\u5f88\u5c11\u53bbB\u96c6\u7fa4\u6240\u5728\u7684\u5730\u65b9\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u5bf9\u793a\u4f8b\u4e00\u505aautossh\u53ef\u4ee5\u5982\u6b64\u505a\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"[userA@ServerA] $ autossh -M 12345-NfR2222:localhost:22 me@MyServer\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5f53\u7136\uff0c\u4e3a\u4e86\u9632\u6b62\u96c6\u7fa4\u91cd\u542f\u6216\u65ad\u7535\u7b49\u95ee\u9898\uff0c\u53ef\u4ee5\u5c06\u4e0a\u8bed\u53e5\u5199\u5230\u5f00\u673a\u542f\u52a8\u811a\u672c\u91cc\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"linux\u7aef\u53e3\u8f6c\u53d1",children:"linux\u7aef\u53e3\u8f6c\u53d1"}),"\n",(0,i.jsx)(n.p,{children:"\u5f00\u542f\u6570\u636e\u5305\u8f6c\u53d1"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"echo 1 > /proc/sys/net/ipv4/ip_forward\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u8f6c\u53d1\u672c\u5730\u7aef\u53e38081\u52308080"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"iptables -t nat -A PREROUTING -p tcp --dport 8081 -j REDIRECT --to-port 8080\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u8f6c\u53d1TCP 8081\u5230xx.xx.xx.xx\u768480\u7aef\u53e3"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"iptables -t nat -I PREROUTING -p tcp --dport 8081 -j DNAT --to xx.xx.xx.xx:80\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u4f7f\u8f6c\u53d1\u6570\u636e\u5305\u5b9e\u73b0\u201c\u53cc\u5411\u901a\u8def\u201d\uff0c\u7ed9\u6570\u636e\u5305\u8bbe\u7f6e\u4e00\u4e2a\u6b63\u786e\u7684\u8fd4\u56de\u901a\u9053"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"iptables -t nat -I POSTROUTING -p tcp --dport 8081 -j MASQUERADE\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5c06\u89c4\u5219\u4fdd\u5b58\u5230/etc/sysconfig/iptables\u6587\u4ef6"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"service iptables save\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u91cd\u542fiptables\u4f7f\u521a\u624d\u6dfb\u52a0\u7684\u89c4\u5219\u751f\u6548"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"service iptables restart\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5c06\u8bbf\u95ee192.168.10.10\u4e3b\u673a888\u7aef\u53e3\u7684\u8bf7\u6c42\u8f6c\u53d1\u81f322\u7aef\u53e3"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"firewll-cmd --permanent --zone=public --add-forward-port=port=888:proto=ssh:toport=22:toaddr=192.168.10.10\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u53e6\u5916\u6d41\u91cf\u5747\u8861\u6280\u672f\u4e5f\u662f\u5e38\u7528\u7684\u6280\u672f\uff0c\u6bd4\u5982\u5c06\u4e00\u53f0\u4e3b\u673a\u4f5c\u4e3a\u7f51\u7ad9\u7684\u524d\u7aef\u670d\u52a1\u5668\uff0c\u5c06\u8bbf\u95ee\u6d41\u91cf\u5206\u6d41\u81f3\u5185\u7f51\u4e2d3\u53f0\u4e0d\u540c\u7684\u4e3b\u673a\u4e0a\u3002"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"iptables -A PREROUTING -i eth0 -p tcp --dport 80 -m state --state NEW -m nth --counter 0 --every 3 --packet 0 -j DNAT --to-destination 192.168.10.10:80\niptables -A PREROUTING -i eth0 -p tcp --dport 80 -m state --state NEW -m nth --counter 0 --every 3 --packet 0 -j DNAT --to-destination 192.168.10.11:80\niptables -A PREROUTING -i eth0 -p tcp --dport 80 -m state --state NEW -m nth --counter 0 --every 3 --packet 0 -j DNAT --to-destination 192.168.10.12:80\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u4e71\u7801\u540d\u5b57\u6587\u4ef6\u901a\u8fc7inode\u4fee\u6539\u6587\u4ef6\u540d\u5b57",children:"\u4e71\u7801\u540d\u5b57\u6587\u4ef6\u901a\u8fc7inode\u4fee\u6539\u6587\u4ef6\u540d\u5b57"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"ls -i\nfind -inum \u6587\u4ef6\u7684inode -exec mv {} \u65b0\u540d\u79f0 \\;\n"})}),"\n",(0,i.jsx)(n.h2,{id:"shell\u53c2\u6570",children:"Shell\u53c2\u6570"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u6587\u4ef6\u6d4b\u8bd5"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"[ -d /etc/fstab ]         \u6d4b\u8bd5/etc/fstab/\u662f\u5426\u4e3a\u6587\u4ef6"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"-d                               \u6d4b\u8bd5\u662f\u5426\u4e3a\u76ee\u5f55"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"-e                               \u6d4b\u8bd5\u6587\u4ef6\u6216\u76ee\u5f55\u662f\u5426\u5b58\u5728"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"-f                                \u5224\u65ad\u662f\u5426\u4e3a\u6587\u4ef6"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"-r                                \u6d4b\u8bd5\u5f53\u524d\u7528\u6237\u662f\u5426\u6709\u6743\u9650\u8bfb\u53d6"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"-w                               \u6d4b\u8bd5\u5f53\u524d\u7528\u6237\u662f\u5426\u6709\u6743\u9650\u5199\u5165"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"-x                                \u6d4b\u8bd5\u5f53\u524d\u7528\u6237\u662f\u5426\u6709\u6743\u9650\u6267\u884c"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u903b\u8f91\u6d4b\u8bd5"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"&&                              \u903b\u8f91\u7684\u4e0e\uff0c\u201c\u800c\u4e14\u201d\u7684\u610f\u601d"}),"\n",(0,i.jsx)(n.li,{children:"||                                 \u903b\u8f91\u7684\u6216\uff0c\u201c\u6216\u8005\u201d\u7684\u610f\u601d"}),"\n",(0,i.jsx)(n.li,{children:"\uff01                               \u903b\u8f91\u7684\u5426"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u6574\u6570\u503c\u6bd4\u8f83"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"[ 10 -eq 10 ]               \u6bd4\u8f8310\u662f\u5426\u7b49\u4e8e10"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"-eq                             \u5224\u65ad\u662f\u5426\u7b49\u4e8e"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"-ne                             \u5224\u65ad\u662f\u5426\u4e0d\u7b49\u4e8e"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"-gt                              \u5224\u65ad\u662f\u5426\u5927\u4e8e"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"-lt                               \u5224\u65ad\u662f\u5426\u5c0f\u4e8e"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"-le                              \u5224\u65ad\u662f\u5426\u7b49\u4e8e\u6216\u5c0f\u4e8e"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"-ge                             \u5224\u65ad\u662f\u5426\u5927\u4e8e\u6216\u7b49\u4e8e"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u5b57\u7b26\u4e32\u6bd4\u8f83"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"[ -z $test ]                          \u5224\u65ad\u53d8\u91cf\u662f\u5426\u4e3a\u7a7a\u503c"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:'[ $LANG != "en.US" ]         \u5224\u65ad\u5f53\u524d\u7cfb\u7edf\u8bed\u8a00\u662f\u5426\u4e3a\u82f1\u6587'}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"=                                         \u6bd4\u8f83\u5b57\u7b26\u4e32\u5185\u5bb9\u662f\u5426\u76f8\u540c"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"!=                                        \u6bd4\u8f83\u5b57\u7b26\u4e32\u5185\u5bb9\u662f\u5426\u4e0d\u540c"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"-z                                        \u5224\u65ad\u5b57\u7b26\u4e32\u5185\u5bb9\u662f\u5426\u4e3a\u7a7a"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"\u5347\u7ea7zabbix",children:"\u5347\u7ea7zabbix"}),"\n",(0,i.jsx)(n.p,{children:"\u5907\u4efdzabbix\u6570\u636e\u5e93"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"mysqldump -u root -p123456 --opt --skip-lock-tables --flush-logs --database zabbix > zabbix.sql\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5907\u4efdphp\u6e90\u4ee3\u7801"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"cd /usr/local/apache2/htdocs\n\nmv zabbix zabbix.bak\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5c06\u539fPHP\u6e90\u4ee3\u7801\u76ee\u5f55\u4e0b\u7684\u914d\u7f6e\u6587\u4ef6\u62f7\u5230\u65b0\u76ee\u5f55\u4e0b"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"cp zabbix.bak/conf/zabbix.conf.php zabbix/conf/\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5173\u95edzabbix\u7cfb\u7edf\u670d\u52a1(\u670d\u52a1\u7aef\u548c\u5ba2\u6237\u7aef)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"/etc/init.d/zabbix_server stop\n/etc/init.d/zabbix_agentd stop\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5b89\u88c5\u65b0zabbix"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"tar zxvf zabbix-2.2.0rc2.tar.gz\n\ncd zabbix-2.2.0rc2\n./configure --enable-server --enable-agent --with-mysql --enable-ipv6 --with-net-snmp --with-libcurl\nmake install\n"})}),"\n",(0,i.jsx)(n.h2,{id:"linux\u7f51\u9875\u7ba1\u7406\u5de5\u5177",children:"Linux\u7f51\u9875\u7ba1\u7406\u5de5\u5177"}),"\n",(0,i.jsx)(n.p,{children:"webmin\uff08 Unix\u7cfb\u7edf\u7ba1\u7406\u5de5\u5177\uff09"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"wget http://prdownloads.sourceforge.net/webadmin/webmin-1.740.tar.gz\n\ntar zxf webmin-1.740.tar.gz\ncd webmin-1.740\n./setup.sh /usr/local/webmin\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://127.0.0.1:10000",children:"https://127.0.0.1:10000"})}),"\n",(0,i.jsx)(n.p,{children:"AppNode\uff08\u9ad8\u6269\u5c55 Linux \u670d\u52a1\u5668\u7ba1\u7406\u9762\u677f\uff09"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'bash -c "$(curl http://dl.appnode.com/install.sh)"\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"http://127.0.0.1:8888",children:"http://127.0.0.1:8888"})}),"\n",(0,i.jsx)(n.p,{children:"Ajenti\uff08 \u8f7b\u578bLinux \u670d\u52a1\u5668\u7ba1\u7406\u9762\u677f \uff09"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'bash -c "$(curlhttps://raw.githubusercontent.com/Eugeny/ajenti/master/scripts/install-rhel.sh)"\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://127.0.0.1:8000",children:"https://127.0.0.1:8000"})}),"\n",(0,i.jsx)(n.h2,{id:"centos65\u5347\u7ea7\u5230centos7",children:"centos6.5\u5347\u7ea7\u5230centos7"}),"\n",(0,i.jsx)(n.p,{children:"redhat\u63d0\u4f9b\u4e86\u4e00\u4e2aredhat-upgrade-tool\u7684\u5347\u7ea7\u5de5\u5177"}),"\n",(0,i.jsx)(n.p,{children:"\u914d\u7f6e\u8f6f\u4ef6\u6e90"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"vi /etc/yum.repos.d/upgrade.repo\n\n[upgrade]\nname=upgrade\nbaseurl=http://dev.centos.org/centos/6/upg/x86_64/\nenable=1\ngpgcheck=0\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5b89\u88c5\u8f6f\u4ef6\u5de5\u5177"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"yum -y install preupgrade-assistant-contents redhat-upgrade-tool preupgrade-assistant\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5347\u7ea7\u524d\u68c0\u67e5\u6f5c\u5728\u95ee\u9898"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"preupg\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5f00\u59cb\u5347\u7ea7"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"rpm --import http://mirror.centos.org/centos/RPM-GPG-KEY-CentOS-7\n\nredhat-upgrade-tool --network 7.0 --instrepo http://centos.excellmedia.net/7.0.1406/os/x86_64/\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u91cd\u542f"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"reboot\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u5b89\u88c5zabbix\u62a5\u9519\u89e3\u51b3\u65b9\u6cd5",children:"\u5b89\u88c5zabbix\u62a5\u9519\u89e3\u51b3\u65b9\u6cd5"}),"\n",(0,i.jsx)(n.p,{children:"configure: error: Jabber library not found"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"yum install iksemel-devel\n"})}),"\n",(0,i.jsx)(n.p,{children:"configure: error: LIBXML2 library not found"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"yum install libxml2-devel\n"})}),"\n",(0,i.jsx)(n.p,{children:"configure: error: unixODBC library not found"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"yum install unixODBC-devel\n"})}),"\n",(0,i.jsx)(n.p,{children:"configure: error: Invalid OPENIPMI directory - unable to findipmiif.h"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"yum install OpenIPMI-devel\n"})}),"\n",(0,i.jsx)(n.p,{children:'configure:error: Unable to find "javac" executable in path'}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"yum install java*\n"})}),"\n",(0,i.jsx)(n.p,{children:"configure: error: Curl library not found"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"yum install curl-devel\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u8c03\u6574\u6839\u5206\u533a\u5927\u5c0f",children:"\u8c03\u6574\u6839\u5206\u533a\u5927\u5c0f"}),"\n",(0,i.jsx)(n.p,{children:"\u4f7f\u7528\u5149\u76d8\u8fdb\u5165Rescue installed system \u4f9d\u6b21\u9009\u62e9\u4e0d\u52a0\u8f7d\u7f51\u7edc\u4e0d\u6302\u8f7d\u6587\u4ef6\u7cfb\u7edf\u8fdb\u5165\u547d\u4ee4\u884c"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"vgscan                                                  #\u663e\u793a\u5377\u7ec4\nvgchange -ay /dev/volGroup00                            #\u5377\u7ec4\ne2fsck -f /dev/volGroup00/LogVol00                      #\u68c0\u67e5\u78c1\u76d8\u662f\u5426\u6b63\u786e\nresize2fs -p /dev/volGroup00/LogVol00 10G               #\u8bbe\u7f6eLogVol00\u5377\u7ec4\u5927\u5c0f\u4e3a10G\nfsck /dev/volGroup00/LogVol00                           #\u4fee\u590d\u9519\u8bef\nlvreduce -L 10G /dev/volGroup00/LogVol00                #\u6536\u7f29LogVol00\u5377\u7ec4\u5927\u5c0f\u4e3a10G\n\numount /data                                            #\u53d6\u6d88\u6302\u8f7d\nlvextend -L +4G /dev/volGroup00/LogVol01                #\u589e\u52a0LogVol01\u5377\u7ec4\u5927\u5c0f\nresize2fs -p /dev/volGroup00/LogVol01                   #df\u770b\u4e0d\u5230\u7a7a\u95f4\u589e\u52a0\u4f7f\u7528\u6b64\u547d\u4ee4\u6fc0\u6d3b\n"})}),"\n",(0,i.jsx)(n.h2,{id:"linux\u8fde\u63a5wpa\u52a0\u5bc6\u7684wifi",children:"linux\u8fde\u63a5wpa\u52a0\u5bc6\u7684wifi"}),"\n",(0,i.jsx)(n.p,{children:"\u751f\u6210psk"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"wpa_passphrase ssid passwd\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u628a\u751f\u6210\u7684psk\u52a0\u5165\u914d\u7f6e\u6587\u4ef6/etc/wpa_supplicant.conf"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'ctrl_interface=/var/run/wpa_supplicant\nctrl_interface_group=wheel\n\nnetwork={\n  ssid="TP-LINK_413"\n  #psk=""\n  psk=e69abb9b46dcbf8df67738a2eda466c54b3f12043e54157d58e097c3e19fa2e3\n  proto=RSN\n  key_mgmt=WPA-PSK\n  pairwise=CCMP TKIP\n  group=CCMP TKIP\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u8fde\u63a5wifi"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"wpa_supplicant -Dwext -iwlan0 -c/etc/wpa_supplicant.conf -dd -B\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u7cfb\u7edf\u521d\u59cb\u5316\u811a\u672c",children:"\u7cfb\u7edf\u521d\u59cb\u5316\u811a\u672c"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'#!/bin/bash\n\n\nif [ $(id -u) != 0 ];then\n\techo "Must be root can do this."\n\texit 9\nfi\n\n# set privileges\nchmod 600 /etc/passwd\nchmod 600 /etc/shadow\nchmod 600 /etc/group\nchmod 600 /etc/gshadow\necho "Set important files privileges sucessfully"\n\n#close ctrl+alt+del\nsed -i "s/ca::ctrlaltdel:\\/sbin\\/shutdown -t3 -r now/#ca::ctrlaltdel:\\/sbin\\/shutdown -t3 -r now/" /etc/inittab\nsed -i \'s/^id:5:initdefault:/id:3:initdefault:/\' /etc/inittab\n\n#close ipv6\necho "alias net-pf-10 off" >> /etc/modprobe.conf\necho "alias ipv6 off" >> /etc/modprobe.conf\n/sbin/chkconfig --level 35 ip6tables off\necho -e "\\033[031m ipv6 is disabled.\\033[0m"\n\n#shutdown SELinux\nsed -i \'/SELINUX/s/enforcing/disabled/\' /etc/selinux/config\necho -e "\\033[31m selinux is disabled,if you need,you must reboot.\\033[0m"\nsed -i "8 s/^/alias vi=\'vim\'/" /root/.bashrc\necho \'syntax on\' > /root/.vimrc\n\n#update yum source\nmv -f /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup\ncurl -s http://mirrors.163.com/.help/CentOS6-Base-163.repo -o /etc/yum.repos.d/CentOS-Base.repo\nyum clean all\nyum makecache\n\n#install common software\nyum -y install openssh-clients man wget yum-utils vim-enhanced lrzsz telnet traceroute glibc-headers gcc make autoconf libtool automake gcc-c++ openssl openssl-devel unzip zip lrzsz openssl openssl-devel pcre pcre-devel gcc make automake vim\n\n#Turn off unnecessary services\nservice=($(ls /etc/init.d/))\nfor i in ${service[@]}; do\n\tcase $i in\n\t\tsshd|network|syslog|crond)\n\t\t\tchkconfig $i on;;\n\t\t*)\n\t\t\tchkconfig $i off;;\n\tesac\ndone\n\n#set ulimit\ncat >> /etc/security/limits.conf << EOF\n* soft nofile 165535\n* hard nofile 165535\nEOF\n\n# set sysctl\ncat > /etc/sysctl.conf << EOF\nnet.ipv4.ip_forward = 0\nnet.ipv4.conf.default.rp_filter = 1\nnet.ipv4.conf.default.accept_source_route = 0\nkernel.sysrq = 0\nkernel.core_uses_pid = 1\nkernel.msgmnb = 65536\nkernel.msgmax = 65536\nkernel.shmmax = 68719476736\nkernel.shmall = 4294967296\nnet.ipv4.tcp_max_tw_buckets = 6000\nnet.ipv4.tcp_sack = 1\nnet.ipv4.tcp_window_scaling = 1\nnet.ipv4.tcp_rmem = 4096 87380 4194304\nnet.ipv4.tcp_wmem = 4096 16384 4194304\nnet.core.wmem_default = 8388608\nnet.core.rmem_default = 8388608\nnet.core.rmem_max = 16777216\nnet.core.wmem_max = 16777216\nnet.core.netdev_max_backlog = 262144\nnet.core.somaxconn = 262144\nnet.ipv4.tcp_max_orphans = 3276800\nnet.ipv4.tcp_syncookies = 1\nnet.ipv4.tcp_max_syn_backlog = 262144\nnet.ipv4.tcp_timestamps = 0\nnet.ipv4.tcp_synack_retries = 1\nnet.ipv4.tcp_syn_retries = 1\nnet.ipv4.tcp_tw_recycle = 1\nnet.ipv4.tcp_tw_reuse = 1\nnet.ipv4.tcp_mem = 94500000 915000000 927000000\nnet.ipv4.tcp_fin_timeout = 1\nnet.ipv4.tcp_keepalive_time = 1200\nnet.ipv4.ip_local_port_range = 1024 65535\nvm.swappiness = 0\nEOF\n\necho "0 0 * * * /usr/sbin/ntpdate cn.pool.ntp.org &>/dev/null" >>/var/spool/cron/root\necho "All things is init ok! "\n'})}),"\n",(0,i.jsx)(n.h2,{id:"\u67e5\u770bcpu\u4fe1\u606f",children:"\u67e5\u770bcpu\u4fe1\u606f"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u603b\u6838\u6570 = \u7269\u7406CPU\u4e2a\u6570 X \u6bcf\u9897\u7269\u7406CPU\u7684\u6838\u6570"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u603b\u903b\u8f91CPU\u6570 = \u7269\u7406CPU\u4e2a\u6570 X \u6bcf\u9897\u7269\u7406CPU\u7684\u6838\u6570 X \u8d85\u7ebf\u7a0b\u6570"})}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770b\u7269\u7406CPU\u4e2a\u6570"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'cat /proc/cpuinfo| grep "physical id"| sort| uniq| wc -l\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770b\u6bcf\u4e2a\u7269\u7406CPU\u4e2dcore\u7684\u4e2a\u6570(\u5373\u6838\u6570)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'cat /proc/cpuinfo| grep "cpu cores"| uniq\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770b\u903b\u8f91CPU\u7684\u4e2a\u6570"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'cat /proc/cpuinfo| grep "processor"| wc -l\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770bCPU\u4fe1\u606f\uff08\u578b\u53f7\uff09"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"cat /proc/cpuinfo | grep name | cut -f2 -d: | uniq -c\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770b\u6240\u6709cpu\u4fe1\u606f"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"lscpu\n"})}),"\n",(0,i.jsx)(n.h2,{id:"svn\u8fc1\u79fb",children:"svn\u8fc1\u79fb"}),"\n",(0,i.jsx)(n.p,{children:"\u5982\u679c\u4e0d\u5305\u62ec\u65e5\u5fd7\uff0c\u53ea\u9700\u8981checkout\u6700\u65b0\u7248\u672c\uff0csvn export\u51fa\u5e72\u51c0\u7684\u9879\u76ee\uff0c\u7136\u540eimport\u5230\u65b0\u7684\u670d\u52a1\u5668\u7684svn.\n\u5982\u679c\u9700\u8981\u65e5\u5fd7\uff0c\u65b9\u6cd5\u5982\u4e0b\uff1a"}),"\n",(0,i.jsx)(n.p,{children:"\u628a\u9879\u76ee\u7684\u5404\u4e2a\u7248\u672cdump\u51fa\u6765"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"svnadmin dump /path/to/repository > repo_name.svn_dump\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5728\u65b0\u7684\u670d\u52a1\u5668\u4e0a\u521b\u5efa\u65b0\u7684\u77e5\u8bc6\u5e93"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"svnadmin create /path/to/repository\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u628a\u9879\u76ee\u8f7d\u5165\u5230\u77e5\u8bc6\u5e93\u91cc"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"svnadmin load /path/to/repository < repo_name.svn_dump\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u62f7\u8d1d\u6e90\u670d\u52a1\u5668\u4e0a\u7684\u914d\u7f6e\u6587\u4ef6\nauthz\npasswd\nsvnserve.conf"}),"\n",(0,i.jsx)(n.h2,{id:"vim-\u5feb\u6377\u952e",children:"vim \u5feb\u6377\u952e"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{style:{textAlign:"center"},children:"\u547d\u4ee4"}),(0,i.jsx)(n.th,{style:{textAlign:"center"},children:"\u529f\u80fd"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"u"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u64a4\u9500\u4e0a\u4e00\u6b65\u7684\u64cd\u4f5c"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Ctrl+r"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u6062\u590d\u4e0a\u4e00\u6b65\u88ab\u64a4\u9500\u7684\u64cd\u4f5c"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:":%s/^ //"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5220\u9664\u884c\u9996\u7a7a\u683c"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:":%s/r//g"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5220\u9664DOS\u65b9\u5f0f\u7684\u56de\u8f66^M"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:":%s= *$=="}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5220\u9664\u884c\u5c3e\u7a7a\u767d"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:":%s/^(.*)n1/1$/"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5220\u9664\u91cd\u590d\u884c"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:":%s/^.pdf/new.pdf/"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u53ea\u662f\u5220\u9664\u7b2c\u4e00\u4e2apdf"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{style:{textAlign:"center"},children:[":g","/^s*$/d"]}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5220\u9664\u6240\u6709\u7a7a\u884c"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{style:{textAlign:"center"},children:[":g","!/^dd/d"]}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5220\u9664\u4e0d\u542b\u5b57\u7b26\u4e32'dd'\u7684\u884c"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{style:{textAlign:"center"},children:[":v","/^dd/d"]}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u540c\u4e0a \uff08\u8bd1\u91ca\uff1av == g!\uff0c\u5c31\u662f\u4e0d\u5339\u914d\uff01\uff09"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{style:{textAlign:"center"},children:[":g","/str1/,/str2/d"]}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5220\u9664\u6240\u6709\u7b2c\u4e00\u4e2a\u542bstr1\u5230\u7b2c\u4e00\u4e2a\u542bstr2\u4e4b\u95f4\u7684\u884c"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{style:{textAlign:"center"},children:[":v","/./.,/./-1join"]}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5408\u5e76\u8fde\u7eed\u7a7a\u884c"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{style:{textAlign:"center"},children:[":g","/^$/,/./-j"]}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5408\u5e76\u8fde\u7eed\u7a7a\u884c"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"ndw \u6216 ndW"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5220\u9664\u5149\u6807\u5904\u5f00\u59cb\u53ca\u5176\u540e\u7684 n-1 \u4e2a\u5b57\u7b26"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"d0"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5220\u81f3\u884c\u9996"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"d$"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5220\u81f3\u884c\u5c3e"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"ndd"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5220\u9664\u5f53\u524d\u884c\u53ca\u5176\u540e n-1 \u884c"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"x \u6216 X"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5220\u9664\u4e00\u4e2a\u5b57\u7b26"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Ctrl+u"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u8f93\u5165\u6a21\u5f0f\u4e0b\u5220\u9664\u5f53\u524d\u6240\u8f93\u5165\u7684\u6587\u672c"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"^R"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u6062\u590du\u7684\u64cd\u4f5c"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"J"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u628a\u4e0b\u4e00\u884c\u5408\u5e76\u5230\u5f53\u524d\u884c\u5c3e"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"V"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u9009\u62e9\u4e00\u884c"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"^V"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u6309\u4e0b^V\u540e\u5373\u53ef\u8fdb\u884c\u77e9\u5f62\u7684\u9009\u62e9\u4e86"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"aw"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u9009\u62e9\u5355\u8bcd"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"iw"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5185\u90e8\u5355\u8bcd(\u65e0\u7a7a\u683c)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"as"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u9009\u62e9\u53e5\u5b50"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"is"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u9009\u62e9\u53e5\u5b50(\u65e0\u7a7a\u683c)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"ap"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u9009\u62e9\u6bb5\u843d"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"ip"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u9009\u62e9\u6bb5\u843d(\u65e0\u7a7a\u683c)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"D"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5220\u9664\u5230\u884c\u5c3e"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"x,y"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5220\u9664\u4e0e\u590d\u5236\u5305\u542b\u9ad8\u4eae\u533a"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"dl"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5220\u9664\u5f53\u524d\u5b57\u7b26\uff08\u4e0ex\u547d\u4ee4\u529f\u80fd\u76f8\u540c\uff09"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"d0"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5220\u9664\u5230\u67d0\u4e00\u884c\u7684\u5f00\u59cb\u4f4d\u7f6e"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"d^"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5220\u9664\u5230\u67d0\u4e00\u884c\u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\u4f4d\u7f6e\uff08\u4e0d\u5305\u62ec\u7a7a\u683c\u6216TAB\u5b57\u7b26\uff09"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"dw"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5220\u9664\u5230\u67d0\u4e2a\u5355\u8bcd\u7684\u7ed3\u5c3e\u4f4d\u7f6e"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"d3w"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5220\u9664\u5230\u7b2c\u4e09\u4e2a\u5355\u8bcd\u7684\u7ed3\u5c3e\u4f4d\u7f6e"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"db"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5220\u9664\u5230\u67d0\u4e2a\u5355\u8bcd\u7684\u5f00\u59cb\u4f4d\u7f6e"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"dW"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5220\u9664\u5230\u67d0\u4e2a\u4ee5\u7a7a\u683c\u4f5c\u4e3a\u5206\u9694\u7b26\u7684\u5355\u8bcd\u7684\u7ed3\u5c3e\u4f4d\u7f6e"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"dB"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5220\u9664\u5230\u67d0\u4e2a\u4ee5\u7a7a\u683c\u4f5c\u4e3a\u5206\u9694\u7b26\u7684\u5355\u8bcd\u7684\u5f00\u59cb\u4f4d\u7f6e"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"d7B"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5220\u9664\u5230\u524d\u97627\u4e2a\u4ee5\u7a7a\u683c\u4f5c\u4e3a\u5206\u9694\u7b26\u7684\u5355\u8bcd\u7684\u5f00\u59cb\u4f4d\u7f6e"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"d)"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5220\u9664\u5230\u67d0\u4e2a\u8bed\u53e5\u7684\u7ed3\u5c3e\u4f4d\u7f6e"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"d4)"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5220\u9664\u5230\u7b2c\u56db\u4e2a\u8bed\u53e5\u7684\u7ed3\u5c3e\u4f4d\u7f6e"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"d("}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5220\u9664\u5230\u67d0\u4e2a\u8bed\u53e5\u7684\u5f00\u59cb\u4f4d\u7f6e"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"d)"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5220\u9664\u5230\u67d0\u4e2a\u6bb5\u843d\u7684\u7ed3\u5c3e\u4f4d\u7f6e"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"d{"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5220\u9664\u5230\u67d0\u4e2a\u6bb5\u843d\u7684\u5f00\u59cb\u4f4d\u7f6e"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"d7{"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5220\u9664\u5230\u5f53\u524d\u6bb5\u843d\u8d77\u59cb\u4f4d\u7f6e\u4e4b\u524d\u7684\u7b2c7\u4e2a\u6bb5\u843d\u4f4d\u7f6e"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"dd"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5220\u9664\u5f53\u524d\u884c"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"d/text"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5220\u9664\u4ece\u6587\u672c\u4e2d\u51fa\u73b0\u201ctext\u201d\u4e2d\u6240\u6307\u5b9a\u5b57\u6837\u7684\u4f4d\u7f6e\uff0c\u4e00\u76f4\u5411\u524d\u76f4\u5230\u4e0b\u4e00\u4e2a\u8be5\u5b57\u6837\u6240\u51fa\u73b0\u7684\u4f4d\u7f6e\uff08\u4f46\u4e0d\u5305\u62ec\u8be5\u5b57\u6837\uff09\u4e4b\u95f4\u7684\u5185\u5bb9"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"dfc"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5220\u9664\u4ece\u6587\u672c\u4e2d\u51fa\u73b0\u5b57\u7b26\u201cc\u201d\u7684\u4f4d\u7f6e\uff0c\u4e00\u76f4\u5411\u524d\u76f4\u5230\u4e0b\u4e00\u4e2a\u8be5\u5b57\u7b26\u6240\u51fa\u73b0\u7684\u4f4d\u7f6e\uff08\u5305\u62ec\u8be5\u5b57\u7b26\uff09\u4e4b\u95f4\u7684\u5185\u5bb9"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"dtc"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5220\u9664\u5f53\u524d\u884c\u76f4\u5230\u4e0b\u4e00\u4e2a\u5b57\u7b26\u201cc\u201d\u6240\u51fa\u73b0\u4f4d\u7f6e\u4e4b\u95f4\u7684\u5185\u5bb9"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"D"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5220\u9664\u5230\u67d0\u4e00\u884c\u7684\u7ed3\u5c3e"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"d$"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5220\u9664\u5230\u67d0\u4e00\u884c\u7684\u7ed3\u5c3e"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"5dd"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5220\u9664\u4ece\u5f53\u524d\u884c\u6240\u5f00\u59cb\u76845\u884c\u5185\u5bb9"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"dL"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5220\u9664\u76f4\u5230\u5c4f\u5e55\u4e0a\u6700\u540e\u4e00\u884c\u7684\u5185\u5bb9"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"dH"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5220\u9664\u76f4\u5230\u5c4f\u5e55\u4e0a\u7b2c\u4e00\u884c\u7684\u5185\u5bb9"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"dG"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5220\u9664\u76f4\u5230\u5de5\u4f5c\u7f13\u5b58\u533a\u7ed3\u5c3e\u7684\u5185\u5bb9"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"d1G"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u5220\u9664\u76f4\u5230\u5de5\u4f5c\u7f13\u5b58\u533a\u5f00\u59cb\u7684\u5185\u5bb9"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"\u6302\u8f7dntfs\u5206\u533a",children:"\u6302\u8f7dntfs\u5206\u533a"}),"\n",(0,i.jsx)(n.p,{children:"\u6b65\u9aa4\u4e00\uff1a\u89e3\u538b\u5b89\u88c5NTFS-3G\u3002\ntar -xvzf ntfs-3g_ntfsprogs-2012.1.15.tgz\ncd ntfs-3g_ntfsprogs-2012.1.15\n\u6267\u884c\u5b89\u88c5\u8fc7\u7a0b\u5982\u4e0b\u6240\u793a:\n\u3000\u3000./configure\n\u3000\u3000make\n\u3000\u3000make install\n\u4e4b\u540e\u7cfb\u7edf\u4f1a\u63d0\u793a\u5b89\u88c5\u6210\u529f\uff0c\u4e0b\u9762\u5c31\u53ef\u4ee5\u7528ntfs-3g\u6765\u5b9e\u73b0\u5bf9NTFS\u5206\u533a\u7684\u8bfb\u5199\u4e86"}),"\n",(0,i.jsx)(n.p,{children:"\u6b65\u9aa4\u4e8c:\u914d\u7f6e\u6302\u8f7dNTFS\u683c\u5f0f\u7684\u79fb\u52a8\u786c\u76d8"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u9996\u5148\u5f97\u5230NTFS\u5206\u533a\u7684\u4fe1\u606f\nfdisk -l | grep NTFS"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u8bbe\u7f6e\u6302\u8f7d\u70b9\uff0c\u7528\u5982\u4e0b\u547d\u4ee4\u5b9e\u73b0\u6302\u8f7d\nmount -t ntfs-3g  [NTFS Partition] [Mount Point]"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u4f8b\u5982\u5f97\u5230\u7684NTFS\u5206\u533a\u4fe1\u606f\u4e3a/dev/sdc1\uff0c\u6302\u8f7d\u70b9\u8bbe\u7f6e\u5728/mnt/usb\u4e0b\uff0c\u53ef\u4ee5\u7528\nmount -t ntfs-3g /dev/sdc1 /mnt/usb\n\u6216\u8005\u76f4\u63a5\u7528\nntfs-3g ntfs-3g /dev/sdc1 /mnt/usb"}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsx)(n.li,{children:"\u5982\u679c\u60f3\u5b9e\u73b0\u5f00\u673a\u81ea\u52a8\u6302\u8f7d\uff0c\u53ef\u4ee5\u5728/etc/fstab\u91cc\u9762\u6dfb\u52a0\u5982\u4e0b\u683c\u5f0f\u8bed\u53e5\n[NTFS Partition]  [Mount Point] ntfs-3g silent,umask=0,locale=zh_CN.utf8 0 0\n\u8fd9\u6837\u53ef\u4ee5\u5b9e\u73b0NTFS\u5206\u533a\u91cc\u4e2d\u6587\u6587\u4ef6\u540d\u7684\u663e\u793a\u3002"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"\u4fee\u6539\u5355\u4e2a\u7528\u6237\u5b57\u7b26\u96c6",children:"\u4fee\u6539\u5355\u4e2a\u7528\u6237\u5b57\u7b26\u96c6"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'vi ~/.bashrc\n\nexport LC_CTYPE="zh_CN.gbk"\n'})}),"\n",(0,i.jsx)(n.h2,{id:"\u67e5\u770b\u670d\u52a1\u5668\u786c\u4ef6\u4fe1\u606f",children:"\u67e5\u770b\u670d\u52a1\u5668\u786c\u4ef6\u4fe1\u606f"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"yum install epel-release\nyum install inxi\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"inxi -A \u663e\u793a\u97f3\u9891\u4fe1\u606f"}),"\n",(0,i.jsx)(n.li,{children:"inxi -G \u663e\u793a\u663e\u5361\u4fe1\u606f"}),"\n",(0,i.jsx)(n.li,{children:"inxi -D \u663e\u793a\u786c\u76d8\u4fe1\u606f"}),"\n",(0,i.jsx)(n.li,{children:"inxi -M \u663e\u793a\u4e3b\u677f\u4fe1\u606f"}),"\n",(0,i.jsx)(n.li,{children:"inxi -r \u663e\u793a\u53ef\u7528\u4ed3\u5e93\u5217\u8868"}),"\n",(0,i.jsx)(n.li,{children:"inxi -F \u663e\u793a\u5168\u90e8\u4fe1\u606f"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"zabbix\u76d1\u63a7exsi",children:"zabbix\u76d1\u63a7exsi"}),"\n",(0,i.jsx)(n.p,{children:"\u7f16\u8bd1\u5b89\u88c5"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"./configure --prefix=/usr/local/zabbix --enable-server --enable-agent --with-mysql --with-net-snmp --with-libcurl --with-libxml2\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u914d\u7f6e\u6587\u4ef6\u6dfb\u52a0\u53c2\u6570"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tilte=zabbix_server.conf",children:"StartVMwareCollectors=50\nVMwareFrequency=60\nVMwareCacheSize=128M\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u670d\u52a1\u5668\u7f51\u7edc\u6b7b\u6389",children:"\u670d\u52a1\u5668\u7f51\u7edc\u6b7b\u6389"}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770b\u7f51\u5361\u6d41\u91cf\u72b6\u51b5\uff0c\u662f\u54ea\u4e2aip"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"iptraf\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u53d1\u73b0\u6d41\u91cf\u4e0d\u6b63\u5e38\u7684IP,\u4f7f\u7528iptables\u5c01\u6389"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"iptables -I OUTPUT -d IP\u5730\u5740 -j DROP\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5c01\u6389\u6240\u6709UDP\u7aef\u53e3"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"iptables -I OUTPUT -p UDP -j DROP\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u67e5\u770b\u7f51\u7edc\u8fde\u63a5\u6570",children:"\u67e5\u770b\u7f51\u7edc\u8fde\u63a5\u6570"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'netstat -n | awk \'/^tcp/ {n=split($(NF-1),array,":");if(n<=2)++S[array[(1)]];else++S[array[(4)]];++s[$NF];++N} END {for(a in S){printf("%-20s %s\\n", a, S[a]);++I}printf("%-20s %s\\n","TOTAL_IP",I);for(a in s) printf("%-20s %s\\n", a, s[a]);printf("%-20s %s\\n","TOTAL_LINK",N);}\'\n'})}),"\n",(0,i.jsx)(n.h2,{id:"\u6279\u91cf\u4fee\u6539\u670d\u52a1\u5668\u5bc6\u7801",children:"\u6279\u91cf\u4fee\u6539\u670d\u52a1\u5668\u5bc6\u7801"}),"\n",(0,i.jsx)(n.p,{children:"\u521b\u5efa\u670d\u52a1\u5668\u5217\u8868\u6587\u4ef6\uff0c\u683c\u5f0f\u5982\u4e0b(\u524d\u8fb9\u662fIP\uff0c\u4e2d\u95f4\u662f\u5f53\u524d\u767b\u9646\u5bc6\u7801\uff0c\u7b2c\u4e09\u5217\u662f\u8981\u4fee\u6539\u7684\u5bc6\u7801)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"vi iplist.txt\n   \n192.168.1.100 123456 123abc\n192.168.1.101 654321 abc123\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u521b\u5efaexpect\u4ea4\u4e92\u5f0f\u811a\u672c"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",metastring:"title=expect.sh",children:'#!/usr/bin/expect -f\n\nset IP [lindex $argv 0]    ##\u8bbe\u7f6eIP\u4e3a\u7b2c\u4e00\u4e2a\u5e26\u5165\u9879\uff0c\u4e5f\u5c31\u662f\u4e0a\u8fb9\u811a\u672c\u7684$i\nset PASSWORD [lindex $argv 1]  ##\u540c\u7406\uff0c\u7b2c\u4e8c\u4e2a\u5e26\u5165\u9879\uff0c$y\nset NEWPASSWORD [lindex $argv 2]  ##\u540c\u7406\uff0c\u7b2c\u4e09\u4e2a\u5e26\u5165\u9879\uff0c$z\n\nspawn ssh $IP " echo \'$NEWPASSWORD\'| passwd --stdin root "  ##spawn\u540e\u8fb9\u8ddf\u8981\u6267\u884c\u7684\u547d\u4ee4\uff0c\u6b64\u4f8b\u662f\u628aroot\u5bc6\u7801\u6539\u6210iplist.txt\u4e2d\u7684\u7b2c\u4e09\u5217\u7684\u6570\u503c\n\nexpect {\n   "(yes/no)" { send "yes\\r"; exp_continue }   ##\u5982\u679c\u7b2c\u4e00\u6b21\u767b\u9646\uff0c\u5c31\u53d1\u9001yes\n   "password:" { send "$PASSWORD\\r"; exp_continue }    ##\u53d1\u9001\u767b\u9646\u5bc6\u7801\n   "*?" { send "\\r" }  ##\u6ca1\u6709\u4ea4\u4e92\u76f4\u63a5\u53d1\u4e2a\u56de\u8f66\n}\ninteract\n\nexit\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u521b\u5efa\u4e00\u4e2abash\u811a\u672c\uff0c\u901a\u8fc7for\u5faa\u73af\u8bfb\u53d6IP\u548c\u5bc6\u7801\uff0c\u7136\u540e\u7ed9expect\u811a\u672c"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",metastring:"title=auto_login.sh",children:"#!/bin/bash\n\nfor i in `awk '{print $1}' iplist.txt`\ndo\n    y=`awk /${i}/'{print $2}' iplist.txt`\n    z=`awk /${i}/'{print $3}' iplist.txt`\n    ./expect.sh ${i} ${y} ${z}\ndone\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u914d\u7f6essh\u4fe1\u4efb\u5173\u7cfb",children:"\u914d\u7f6essh\u4fe1\u4efb\u5173\u7cfb"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"ssh-keygen -t rsa\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"ssh-copy-id root@172.16.1.3\n"})}),"\n",(0,i.jsx)(n.h2,{id:"ansible\u4f7f\u7528",children:"ansible\u4f7f\u7528"}),"\n",(0,i.jsx)(n.p,{children:"\u8fdc\u7a0b\u6587\u4ef6\u4fe1\u606f\u67e5\u770b"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'ansible storm_cluster -m command -a "ls -al /tw/test.sh"\n'})}),"\n",(0,i.jsxs)(n.p,{children:["\u5c06\u672c\u5730\u6587\u4ef6",(0,i.jsx)(n.code,{children:"/etc/ansible/ansible.cfg"}),"\u590d\u5236\u5230\u8fdc\u7a0b\u670d\u52a1\u5668"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'ansible storm_cluster -m copy -a "src=/etc/ansible/ansible.cfg dest=/tmp/ansible.cfg owner=root group=root mode=0644"\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u5728\u8fdc\u7a0b\u4e3b\u673a\u4e0a\u6267\u884c\u547d\u4ee4"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'ansible storm_cluster -m command -a "uptime"\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u8fdc\u7a0b\u6267\u884c\u811a\u672c"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'ansible storm_cluster -m shell -a "/tmp/test.sh"\n'})}),"\n",(0,i.jsx)(n.h2,{id:"\u67e5\u770b\u8bbe\u5907oid\u503c",children:"\u67e5\u770b\u8bbe\u5907OID\u503c"}),"\n",(0,i.jsx)(n.p,{children:"\u5b89\u88c5snmpwalk"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"yum -y install net-snmp-utils\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u83b7\u53d6\u7aef\u53e3"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"snmpwalk 10.6.9.1 -v1 -c public|grep -i ifinoctet\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u6ce8:\u9ed8\u8ba4\u7aef\u53e3\u6392\u5e8fWAN1(256)\u3001WAN2(257)\u3001VLAN1(258)\u3001LAN1(1794)\u3001LAN2(1795)......LAN10\u3001Loopback(2816)"}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770b\u7aef\u53e3oid"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"snmpget -v1 -c public -On 10.6.9.1 ifInOctets.256\n"})}),"\n",(0,i.jsx)(n.h2,{id:"ssh\u767b\u5f55\u9519\u8bef\u6b21\u6570\u8f83\u591a\u7684ip\u7528iptables\u5c01\u6389\u811a\u672c",children:"ssh\u767b\u5f55\u9519\u8bef\u6b21\u6570\u8f83\u591a\u7684IP\u7528iptables\u5c01\u6389\u811a\u672c"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"#!/bin/bash\n\nnum=10 #\u4e0a\u9650\nfor i in `awk '/Failed/{print $(NF-3)}' /var/log/secure|sort|uniq -c|sort -rn|awk '{if ($1>$num){print $2}}'`\ndo\n    iptables -I INPUT -p tcp -s $i --dport 22 -j DROP\ndone\n"})}),"\n",(0,i.jsx)(n.h2,{id:"iptables\u6dfb\u52a0\u591a\u4e2a\u7aef\u53e3\u811a\u672c",children:"iptables\u6dfb\u52a0\u591a\u4e2a\u7aef\u53e3\u811a\u672c"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'#!/bin/bash\n\nSERVICES="80 22 25 110 8000 23 20 21 3306"\n\nfor x in $SERVICES\ndo\n    iptables -A INPUT -p tcp --dport $x -m state --state NEW -j ACCEPT\ndone \n'})}),"\n",(0,i.jsx)(n.h2,{id:"ssh\u8fde\u63a5\u53ea\u663e\u793a-bash-41",children:"ssh\u8fde\u63a5\u53ea\u663e\u793a-bash-4.1#"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"vi ~/.bash_profile\n\nexport PS1='[\\u@\\h \\W]\\$\u2019\n"})}),"\n",(0,i.jsx)(n.h2,{id:"iptables-\u8bbe\u7f6e\u9650\u5236mac\u5730\u5740",children:"iptables \u8bbe\u7f6e\u9650\u5236mac\u5730\u5740"}),"\n",(0,i.jsxs)(n.p,{children:["\u5141\u8bb8MAC\u5730\u5740\u4e3aXX:XX:XX:XX:XX",":XX","\u4e3b\u673a\u8bbf\u95ee22\u7aef\u53e3"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"iptables -A INPUT -p tcp --destination-port 22 -m mac --mac-source XX:XX:XX:XX:XX:XX -j ACCEPT\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u4e0d\u91cd\u542f\u5173\u95edselinux",children:"\u4e0d\u91cd\u542f\u5173\u95edselinux"}),"\n",(0,i.jsx)(n.p,{children:"\u8bbe\u7f6eSELinux \u6210\u4e3aenforcing\u6a21\u5f0f"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"setenforce 1\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u8bbe\u7f6eSELinux \u6210\u4e3apermissive\u6a21\u5f0f"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"setenforce 0\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u6dfb\u52a0\u9ad8\u7ea7\u8def\u7531",children:"\u6dfb\u52a0\u9ad8\u7ea7\u8def\u7531"}),"\n",(0,i.jsx)(n.p,{children:"\u8def\u7531\u8868\u76ee\u5f55: /etc/iproute2/rt_tables"}),"\n",(0,i.jsx)(n.p,{children:"\u521b\u5efa\u4e00\u4e2a\u8def\u7531\u8868test"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'echo "252 test" >> /etc/iproute2/rt_tables\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u5b9a\u4e49test\u8868\u9ed8\u8ba4\u8def\u7531\u53bb\u5f8010.10.0.1\u7f51\u5173"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"ip route add default via 10.10.0.1 dev em1 table test\n"})}),"\n",(0,i.jsx)(n.p,{children:"10.10.10.2\u5e94\u7528test\u8def\u7531\u8868"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"ip rule add from 10.10.10.2 table test\n"})}),"\n",(0,i.jsx)(n.p,{children:"10.0.0.0/16\u8fd9\u4e2a\u6bb5ip\u5e94\u7528test\u8def\u7531\u8868\uff08pref 1000\u4e3a\u4f18\u5148\u7ea7\uff09"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"ip rule add to 10.0.0.0/16 pref 1000 table test\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u67e5\u8be2ip\u8def\u7531\u4fe1\u606f",children:"\u67e5\u8be2ip\u8def\u7531\u4fe1\u606f"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"ip route get 8.8.8.8 \n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"mtr 8.8.8.8\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u4fee\u6539ssh\u57fa\u4e8e\u5bc6\u7801\u9a8c\u8bc1",children:"\u4fee\u6539ssh\u57fa\u4e8e\u5bc6\u7801\u9a8c\u8bc1"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"vi /etc/ssh/sshd_config\n\nPasswordAuthentication yes\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u5b89\u88c5logwatch",children:"\u5b89\u88c5logwatch"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"rpm -Uvh ftp://ftp.kaybee.org/pub/redhat/RPMS/noarch/logwatch-7.3.6-1.noarch.rpm\n"})}),"\n",(0,i.jsx)(n.h2,{id:"you-have-new-mail-in-varspoolmailroot-\u89e3\u51b3\u65b9\u6cd5",children:"You have new mail in /var/spool/mail/root \u89e3\u51b3\u65b9\u6cd5"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'echo "unset MAILCHECK" >> /etc/profile\n'})}),"\n",(0,i.jsx)(n.h2,{id:"\u8bbe\u7f6e\u81ea\u52a8\u540c\u6b65\u65f6\u95f4",children:"\u8bbe\u7f6e\u81ea\u52a8\u540c\u6b65\u65f6\u95f4"}),"\n",(0,i.jsx)(n.p,{children:"crontab -e  \u52a0\u5165\n*/30 * * * * /usr/sbin/ntpdate time.windows.com  \uff08\u6bcf30\u5206\u949f\u540c\u6b65\u4e00\u6b21\uff09\n*/30 * * * * /usr/sbin/ntpdate us.pool.ntp.org\n*/30 * * * * /usr/sbin/ntpdate time.nist.gov"}),"\n",(0,i.jsx)(n.h2,{id:"\u5b89\u88c5sz-rz\u547d\u4ee4",children:"\u5b89\u88c5sz rz\u547d\u4ee4"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:"yum install lrzsz\n"})}),"\n",(0,i.jsx)(n.h2,{id:"yum\u65e0pptpd",children:"yum\u65e0pptpd"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"rpm -Uvh http://poptop.sourceforge.net/yum/stable/pptp-release-current.noarch.rpm\n\nyum -y install pptpd\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u5347\u7ea7gcc\u540e\u4f7f\u7528filezilla\u62a5\u9519",children:"\u5347\u7ea7GCC\u540e\u4f7f\u7528filezilla\u62a5\u9519"}),"\n",(0,i.jsx)(n.p,{children:"\u6267\u884c\u547d\u4ee4\u67e5\u770b\u6709\u6ca1\u6709\u76f8\u5e94\u7684\u5e93"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:" strings /usr/lib64/libstdc++.so.6 | grep GLIBCXX\n"})}),"\n",(0,i.jsx)(n.h2,{id:"linux-\u5b89\u88c5dns",children:"linux \u5b89\u88c5DNS"}),"\n",(0,i.jsx)(n.p,{children:"caching-nameserver\uff08\u9664bind\u4ee5\u5916\u7684\u53e6\u4e00\u4e2a\u5b89\u88c5\u5305\uff09"}),"\n",(0,i.jsx)(n.h2,{id:"\u5b89\u88c5\u672c\u5730rpm\u5305",children:"\u5b89\u88c5\u672c\u5730rpm\u5305"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"yum localinstall --nogpgcheck rpmname\n"})}),"\n",(0,i.jsx)(n.h2,{id:"ipsec\u5b89\u88c5",children:"ipsec\u5b89\u88c5"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"yum -y install openswan\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u6d4b\u8bd5\u786c\u76d8\u8bfb\u5199\u901f\u5ea6",children:"\u6d4b\u8bd5\u786c\u76d8\u8bfb\u5199\u901f\u5ea6"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"dd if=/root/1Gb.file bs=64k | dd of=/dev/null\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"dd if=/dev/zero of=/root/1Gb.file bs=1024 count=1000000\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u901a\u8fc7\u4e0a\u4e24\u4e2a\u547d\u4ee4\u8f93\u51fa\u7684\u6267\u884c\u65f6\u95f4\uff0c\u53ef\u4ee5\u8ba1\u7b97\u51fa\u6d4b\u8bd5\u786c\u76d8\u7684\u8bfb\uff0f\u5199\u901f\u5ea6"}),"\n",(0,i.jsx)(n.h2,{id:"\u9500\u6bc1\u78c1\u76d8\u6570\u636e",children:"\u9500\u6bc1\u78c1\u76d8\u6570\u636e"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"dd if=/dev/urandom of=/dev/hda1\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5229\u7528\u968f\u673a\u7684\u6570\u636e\u586b\u5145\u786c\u76d8\uff0c\u5728\u67d0\u4e9b\u5fc5\u8981\u7684\u573a\u5408\u53ef\u4ee5\u7528\u6765\u9500\u6bc1\u6570\u636e\u3002\u6267\u884c\u6b64\u64cd\u4f5c\u4ee5\u540e\uff0c/dev/hda1\u5c06\u65e0\u6cd5\u6302\u8f7d\uff0c\u521b\u5efa\u548c\u62f7\u8d1d\u64cd\u4f5c\u65e0\u6cd5\u6267\u884c\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"\u67e5\u770b\u7cfb\u7edf\u6240\u6709\u7528\u6237\u548c\u7ec4",children:"\u67e5\u770b\u7cfb\u7edf\u6240\u6709\u7528\u6237\u548c\u7ec4"}),"\n",(0,i.jsx)(n.p,{children:"\u6240\u6709\u7528\u6237"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"cut -d: -f1 /etc/passwd\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u6240\u6709\u7ec4"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"cut -d: -f1 /etc/group\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u67e5\u770b\u7528\u6237\u767b\u5f55\u65e5\u5fd7",children:"\u67e5\u770b\u7528\u6237\u767b\u5f55\u65e5\u5fd7"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"last\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u67e5\u770b\u7cfb\u7edf\u7248\u672c",children:"\u67e5\u770b\u7cfb\u7edf\u7248\u672c"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"cat /etc/redhat-release\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"lsb_release -a\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"yum install -y redhat-lsb "}),"\u5b89\u88c5lsb_release\u547d\u4ee4"]}),"\n",(0,i.jsx)(n.h2,{id:"\u8f93\u51fa\u6700\u4e3a\u5e38\u7528\u7684\u5341\u6761\u547d\u4ee4",children:"\u8f93\u51fa\u6700\u4e3a\u5e38\u7528\u7684\u5341\u6761\u547d\u4ee4"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'history|awk \'{CMD[$2]++;count++;} END {for(a in CMD)print CMD[a]" "CMD[a]/count*100 "% " a}\'|grep -v "./"|column -c3 -s " " -t|sort -nr|nl|head -n10\n'})}),"\n",(0,i.jsx)(n.h2,{id:"anaconda-kscfg",children:"anaconda-ks.cfg"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'# Kickstart file automatically generated by anaconda.\n\n#version=DEVEL\ninstall\ntext\ncdrom\nlang en_US.UTF-8\nkeyboard us\nnetwork --onboot no --device em1 --bootproto dhcp --noipv6\nnetwork --onboot no --device em2 --bootproto dhcp --noipv6\nrootpw abcu123456\nfirewall --disabled\nauthconfig --enableshadow --passalgo=sha512\nselinux --disabled\ntimezone --utc Asia/Shanghai\nbootloader --location=mbr --driveorder=sda --append="crashkernel=auto rhgb quiet"\n# The following is the partition information you requested\n# Note that any partitions you deleted are not expressed\n# here so unless you clear all partitions first, this is\n# not guaranteed to work\n#clearpart --none\nclearpart --all --initlabel\nzerombr\npart /boot --fstype=ext4 --size=200\npart swap --size=32000\npart pv.008003 --grow --size=200\nignoredisk --only-use=sda\nvolgroup volGroup00 --pesize=4096 pv.008003\nlogvol / --fstype=ext4 --name=LogVol00 --vgname=volGroup00 --size=200000\nlogvol /data --fstype=ext4 --name=LogVol01 --vgname=volGroup00 --size=1655232\nreboot\n#repo --name="CentOS"  --baseurl=cdrom:sr0 --cost=100\n%packages\n@chinese-support\n@core\n@server-policy\n%end\n'})}),"\n",(0,i.jsx)(n.h2,{id:"linux-\u5378\u8f7drpm",children:"linux \u5378\u8f7drpm"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"rpm -aq|grep rpmname |xargs rpm -e --nodeps\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u5b89\u88c5gbd\u51fa\u73b0--cc1plus-warnings-being-treated-as-errors-\u9519\u8bef\u89e3\u51b3\u65b9\u6cd5",children:"\u5b89\u88c5GBD\u51fa\u73b0  cc1plus: warnings being treated as errors \u9519\u8bef\u89e3\u51b3\u65b9\u6cd5"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"./configure --prefix=/usr/local/gdb --with-mpc=/usr/local/mpc --with=mpfr=/usr/local/mpfr --with-gmp=/usr/local/gmp/ --disable-werror\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u6c92\u6709nslookuphostdig\u547d\u4ee4",children:"\u6c92\u6709nslookup\u3001host\u3001dig\u547d\u4ee4"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"yum install bind-utils\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u914d\u7f6e\u591a\u4e2atomcat",children:"\u914d\u7f6e\u591a\u4e2atomcat"}),"\n",(0,i.jsx)(n.p,{children:"1\u3001\u4e24\u4e2atomcat\u8def\u5f84"}),"\n",(0,i.jsx)(n.p,{children:"/usr/local/tomcat\n/usr/local/tomcat2"}),"\n",(0,i.jsx)(n.p,{children:"2\u3001\u914d\u7f6e\u73af\u5883\u53d8\u91cf\uff0c\u5728/etc/profile\u6700\u540e\u6dfb\u52a0\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"TOMCAT_HOME_1=/usr/local/tomcat\nexport CATALINA_BASE_1=/usr/local/tomcat\nexport CATALINA_HOME_1=/usr/local/tomcat\nexport TOMCAT_HOME_1 CATALINA_BASE_1 CATALINA_HOME_1\nTOMCAT_HOME_2=/usr/local/tomcat2\nexport CATALINA_BASE_2=/usr/local/tomcat2\nexport CATALINA_HOME_2=/usr/local/tomcat2\nexport TOMCAT_HOME_2 CATALINA_BASE_2 CATALINA_HOME_2\n"})}),"\n",(0,i.jsx)(n.p,{children:"3\u3001\u4fee\u6539tomcat2\u542f\u52a8\u3001\u5173\u95ed\u811a\u672c\uff0c\u6700\u540e\u5206\u522b\u6dfb\u52a0\u5982\u4e0b\uff1a"}),"\n",(0,i.jsx)(n.p,{children:"/usr/local/tomcat2/bin/start.sh\n/usr/local/tomcat2/bin/shutdown.sh"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"export JAVA_HOME=/usr/local/java\nexport PATH=$PATH:$JAVA_HOME/bin\nexport CLASSPATH=$JAVA_HOME/lib\nexport CATALINA_HOME=$CATALINA_HOME_2\nexport CATALINA_BASE=$CATALINA_BASE_2\n"})}),"\n",(0,i.jsx)(n.p,{children:"4\u3001\u4fee\u6539tomcat2\u914d\u7f6e\u6587\u4ef6\uff0c\u4e3b\u8981\u4fee\u6539\u7aef\u53e3\uff1a"}),"\n",(0,i.jsx)(n.p,{children:"/usr/local/tomcat2/conf/server.xml"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'<Server port="8006" shutdown="SHUTDOWN"> #\u6b64\u5904\u76848005\u5df2\u6539\u4e3a8006\n<Connector port="8081" protocol="HTTP/1.1" connectionTimeout="20000" redirectPort="8443" /> #\u6b64\u5904\u76848080\u5df2\u6539\u4e3a8081\n<Connector port="8010" protocol="AJP/1.3" redirectPort="8443" /> #\u6b64\u5904\u76848009\u5df2\u6539\u4e3a8010\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u7aef\u53e3\u8bf4\u660e\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"8080 \u9ed8\u8ba4\u7684\u8fde\u63a5\u7aef\u53e3"}),"\n",(0,i.jsx)(n.li,{children:"8443 SSL\u7684\u8fde\u63a5\u7aef\u53e3"}),"\n",(0,i.jsx)(n.li,{children:"8009 Apache\u7684\u4fa6\u542c\u7aef\u53e3"}),"\n",(0,i.jsx)(n.li,{children:"8005 \u7528\u4e8e\u505c\u6b62Tomcat\u7684\u7aef\u53e3"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["5\u3001\u91cd\u542f\u7cfb\u7edf\u751f\u6548\uff0c#source /etc/profile\u6ca1\u4f5c\u7528\n6\u3001\u6d4b\u8bd5\n\u6d4f\u89c8\u5668\u8bbf\u95ee\n",(0,i.jsx)(n.a,{href:"http://localhost:8080",children:"http://localhost:8080"}),"\n",(0,i.jsx)(n.a,{href:"http://localhost:8081",children:"http://localhost:8081"}),"\n\u90fd\u80fd\u770b\u5230\u90a3\u53ea\u732b\u8868\u793a\u6b63\u5e38\uff01"]}),"\n",(0,i.jsx)(n.h2,{id:"\u4fee\u6539fstab\u6587\u4ef6\u51fa\u9519\u7cfb\u7edf\u65e0\u6cd5\u542f\u52a8",children:"\u4fee\u6539FSTAB\u6587\u4ef6\u51fa\u9519\u7cfb\u7edf\u65e0\u6cd5\u542f\u52a8"}),"\n",(0,i.jsx)(n.p,{children:"\u95ee\u9898\u7684\u89e3\u51b3\u8fc7\u7a0b\u4e2d\uff0c\u91cd\u65b0mount /\u662f\u6bd4\u8f83\u5173\u952e\u7684\u4e00\u6b65\uff08mount -n -o remount,rw /\uff09\u3002\u5982\u679c\u6ca1\u6709\u6b64\u6b65\u64cd\u4f5c\uff0c\u5219\u6587\u4ef6\u7cfb\u7edf\u5904\u4e8e\u53ea\u8bfb\u72b6\u6001\uff0c\u5bfc\u81f4\u4e0d\u80fd\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u5e76\u4fdd\u5b58\uff0c\u4fee\u590d\u5b58\u5728\u7684\u95ee\u9898"}),"\n",(0,i.jsx)(n.h2,{id:"\u5b89\u88c5svn",children:"\u5b89\u88c5SVN"}),"\n",(0,i.jsx)(n.p,{children:"\u51fa\u73b0configure: error: We require OpenSSL; try --with-openssl"}),"\n",(0,i.jsx)(n.p,{children:"\u9700\u8981\u5b89\u88c5openssl  \u548c  openssl-devel"}),"\n",(0,i.jsx)(n.h2,{id:"svn\u542f\u52a8",children:"svn\u542f\u52a8"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"svnserve -d -r \u76ee\u5f55 --listen-port \u7aef\u53e3\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u5b89\u88c5java\u4fee\u6539profile",children:"\u5b89\u88c5JAVA\u4fee\u6539profile"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'JAVA_HOME="/usr/local/java"\nJRE_HOME="/usr/local/java/jre"PATH=/usr/local/java/jre/bin:/usr/local/java/bin:/usr/local/Percona/bin:/usr/local/apache-ant-1.7.1/bin:$PATHCLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar\nexport JAVA_HOME JRE_HOME PATH CLASSPATH\n'})}),"\n",(0,i.jsx)(n.h2,{id:"\u67e5\u770b\u5f53\u524d\u6b63\u5728\u5220\u9664\u7684\u8fdb\u7a0b",children:"\u67e5\u770b\u5f53\u524d\u6b63\u5728\u5220\u9664\u7684\u8fdb\u7a0b"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"lsof|grep delete\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u67e5\u770b\u76ee\u5f55\u5927\u5c0f",children:"\u67e5\u770b\u76ee\u5f55\u5927\u5c0f"}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770b\u76ee\u5f55\u5927\u5c0f"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"du -sh dir\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u663e\u793a\u76ee\u5f55\u4e0b\u6240\u6709\u5b50\u76ee\u5f55\u5927\u5c0f"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"du --max-depth=1 -h dir\n"})}),"\n",(0,i.jsx)(n.h2,{id:"isolinuxcfg",children:"isolinux.cfg"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-title=isolinux.cfg",children:"default linux ks=cdrom:/anaconda-ks.cfg\n#default vesamenu.c32\n#prompt 1\ntimeout 600\n\ndisplay boot.msg\n\nmenu background splash.jpg\nmenu title Welcome to CentOS 6.3!\nmenu color border 0 #ffffffff #00000000\nmenu color sel 7 #ffffffff #ff000000\nmenu color title 0 #ffffffff #00000000\nmenu color tabmsg 0 #ffffffff #00000000\nmenu color unsel 0 #ffffffff #00000000\nmenu color hotsel 0 #ff000000 #ffffffff\nmenu color hotkey 7 #ffffffff #ff000000\nmenu color scrollbar 0 #ffffffff #00000000\n\nlabel linux\n  menu label ^Install or upgrade an existing system\n  menu default\n  kernel vmlinuz\n  append initrd=initrd.img\nlabel vesa\n  menu label Install system with ^basic video driver\n  kernel vmlinuz\n  append initrd=initrd.img xdriver=vesa nomodeset\nlabel rescue\n  menu label ^Rescue installed system\n  kernel vmlinuz\n  append initrd=initrd.img rescue\nlabel local\n  menu label Boot from ^local drive\n  localboot 0xffff\nlabel memtest86\n  menu label ^Memory test\n  kernel memtest\n  append -\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u6253\u5305\u76ee\u5f55\u811a\u672c",children:"\u6253\u5305\u76ee\u5f55\u811a\u672c"}),"\n",(0,i.jsx)(n.p,{children:"\u6253\u5305data\u76ee\u5f55\u5728/tw\u76ee\u5f55\u4e0b"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",metastring:"title=bak.sh",children:"#! /bin/bash\n\nyear=`date +%Y`\nmonth=`date +%m`\ntime=`date +%Y-%m-%d_%H:%M:%S`\nBACKDIR=/tw/$year/$month\nmkdir -p $BACKDIR\ntar -zcvf $BACKDIR/$time.tar.gz /data\necho 'End !'\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u5173\u95edipv6",children:"\u5173\u95edIPV6"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"vi /etc/modprobe.d/dist.conf\n\noptions ipv6 disable=1\nalias net-pf-10 off\n\nvi /etc/sysconfig/network\n\nNETWORKING_IPV6=off\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770b\u670d\u52a1\u76d1\u542c\u7684IP\u4e2d\u662f\u5426\u6709IPv6\u683c\u5f0f\u7684\u5730\u5740"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"netstat -tuln\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u67e5\u770b\u540e\u53f0\u4efb\u52a1",children:"\u67e5\u770b\u540e\u53f0\u4efb\u52a1"}),"\n",(0,i.jsxs)(n.p,{children:["\u67e5\u770b\u4f7f\u7528",(0,i.jsx)(n.code,{children:"ctrl+z"}),"\u6216",(0,i.jsx)(n.code,{children:"&"}),"\u5728\u540e\u53f0\u8fd0\u884c\u7684\u4efb\u52a1"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"jobs\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5c06\u4efb\u52a1\u5207\u6362\u5230\u524d\u53f0"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"fg 12\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5c06\u4efb\u52a1\u5207\u6362\u5230\u540e\u53f0"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"bg 12\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u4f7f\u7528\u4e8c\u8fdb\u5236\u6e90\u5b89\u88c5\u540e\u7ec8\u7aef\u65e0\u547d\u4ee4",children:"\u4f7f\u7528\u4e8c\u8fdb\u5236\u6e90\u5b89\u88c5\u540e\u7ec8\u7aef\u65e0\u547d\u4ee4"}),"\n",(0,i.jsx)(n.p,{children:"mysql \u4e3a\u4f8b\uff0c\u5f53\u524d\u7ec8\u7aef\u6709\u6548"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"export PATH=$PATH:/usr/local/mysql/bin\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u6c38\u4e45\u751f\u6548"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'echo "PATH=$PATH:/usr/local/mysql/bin/" >> /etc/profile\n'})}),"\n",(0,i.jsx)(n.h2,{id:"\u9632\u706b\u5899\u6253\u5f00\u7aef\u53e3",children:"\u9632\u706b\u5899\u6253\u5f00\u7aef\u53e3"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"iptables"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"-I \u5728\u5934\u90e8\u63d2\u5165\u4e00\u6761"}),"\n",(0,i.jsx)(n.li,{children:"-A \u5728\u672b\u5c3e\u6dfb\u52a0\u4e00\u6761"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u6253\u5f0080\u7aef\u53e3"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"iptables -I INPUT -p tcp --dport 80 -j ACCEPT\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5173\u95ed80\u7aef\u53e3"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"iptables -I INPUT -p tcp --dport 80 -j DROP\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u76f4\u63a5\u4fee\u6539\u914d\u7f6e\u6587\u4ef6"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"vi /etc/sysconfig/iptables\n\n-A INPUT -p tcp -m state --state NEW -m tcp --dport 80 -j ACCEPT\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u4fdd\u5b58\u7b56\u7565"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:" /etc/init.d/iptables save\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u91cd\u542f\u9632\u706b\u5899"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"service iptables restart\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770b\u7aef\u53e3\u72b6\u6001"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:" /etc/init.d/iptables status\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"firewall"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u5f00\u653e80\u7aef\u53e3"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"firewall-cmd --zone=public --add-port=80/tcp --permanent\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5141\u8bb8192.168.1.10\u8bbf\u95ee\u6240\u6709\u7aef\u53e3"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'firewall-cmd --zone=public --add-rich-rule \'rule family="ipv4" source address="192.168.1.10" accept\' --permanent\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u5141\u8bb8192.168.2.0/24\u8bbf\u95ee\u6240\u6709\u7aef\u53e3"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'firewall-cmd --zone=public --add-rich-rule \'rule family="ipv4" source address="192.168.2.0/24" accept\' --permanent\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u5141\u8bb8192.168.1.10\u8bbf\u95ee22\u7aef\u53e3"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'firewall-cmd --zone=public --add-rich-rule \'rule family="ipv4" source address="192.168.1.10" port port=22 protocol=tcp accept\' --permanent\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u79fb\u9664\u5f00\u653e\u768480\u7aef\u53e3"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"firewall-cmd --zone=public --remove-port=80/tcp --permanent\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u79fb\u9664\u9ed8\u8ba4\u7684ssh\u7b56\u7565"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"firewall-cmd --remove-service=ssh --permanent\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u79fb\u9664192.168.1.10\u6240\u6709\u8bbf\u95ee\u6240\u6709\u7aef\u53e3"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'firewall-cmd --zone=public --remove-rich-rule \'rule family="ipv4" source address="192.168.1.10" accept\' --permanent\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u62d2\u7edd192.168.1.10\u8bbf\u95ee22\u7aef\u53e3"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'firewall-cmd --zone=public --remove-rich-rule \'rule family="ipv4" source address="192.168.1.10" port port=22 protocol=tcp reject\' --permanent\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u62d2\u7edd192.168.1.10\u8bbf\u95ee"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'firewall-cmd --permanent --add-rich-rule=\'rule family="ipv4" source address="192.168.1.10" reject\' --permanent\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u62d2\u7edd\u6240\u6709\u6d41\u91cf\uff0c\u8fdc\u7a0b\u8fde\u63a5\u4f1a\u7acb\u5373\u65ad\u5f00\uff0c\u53ea\u6709\u672c\u5730\u80fd\u767b\u9646"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"firewall-cmd --panic-on \n"})}),"\n",(0,i.jsx)(n.p,{children:"\u53d6\u6d88\u5e94\u6025\u6a21\u5f0f\uff0c\u4f46\u9700\u8981\u91cd\u542ffirewalld\u540e\u624d\u53ef\u4ee5\u8fdc\u7a0bssh"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"firewall-cmd --panic-off\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770b\u662f\u5426\u4e3a\u5e94\u6025\u6a21\u5f0f"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"firewall-cmd --query-panic\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u67e5\u770b\u6253\u5f00\u7aef\u53e3",children:"\u67e5\u770b\u6253\u5f00\u7aef\u53e3"}),"\n",(0,i.jsx)(n.p,{children:"\u5217\u51fa\u6240\u6709\u7aef\u53e3"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"netstat -ntulp\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u8bbe\u7f6e\u5206\u8fa8\u7387",children:"\u8bbe\u7f6e\u5206\u8fa8\u7387"}),"\n",(0,i.jsx)(n.p,{children:"\u663e\u793a\u7cfb\u7edf\u5206\u8fa8\u7387\u9009\u9879"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"xrandr\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u8bbe\u7f6e\u7cfb\u7edf\u5206\u8fa8\u7387"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"xrandr -s 800x600\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u8bbe\u7f6e\u5f00\u673a\u542f\u52a8",children:"\u8bbe\u7f6e\u5f00\u673a\u542f\u52a8"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"centos6"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"chkconfig servicename on\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"centos7"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"systemctl enable servicename\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"servicename"}),"\u4e3a\u670d\u52a1\u540d\u79f0"]}),"\n",(0,i.jsx)(n.h2,{id:"\u521b\u5efa\u6216\u4fee\u6539\u6587\u4ef6\u65f6\u95f4",children:"\u521b\u5efa\u6216\u4fee\u6539\u6587\u4ef6\u65f6\u95f4"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"touch file\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"-a \u53ea\u66f4\u6539\u8bbf\u95ee\u65f6\u95f4"}),"\n",(0,i.jsx)(n.li,{children:"-c \u4e0d\u521b\u5efa\u4efb\u4f55\u6587\u4ef6"}),"\n",(0,i.jsx)(n.li,{children:"-d \u4f7f\u7528\u6307\u5b9a\u5b57\u7b26\u4e32\u8868\u793a\u65f6\u95f4\u66ff\u4ee3\u5f53\u524d\u65f6\u95f4"}),"\n",(0,i.jsx)(n.li,{children:"-m \u53ea\u66f4\u6539\u4fee\u6539\u65f6\u95f4"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u5c06\u6587\u4ef6\u4fee\u6539\u4e3a\u6307\u5b9a\u65f6\u95f4"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"touch -d '2020-12-13 22:10:30' file\n"})}),"\n",(0,i.jsx)(n.h2,{id:"linux\u65f6\u95f4\u65e5\u671f",children:"linux\u65f6\u95f4\u65e5\u671f"}),"\n",(0,i.jsx)(n.p,{children:"\u663e\u793a\u5f53\u524d\u65e5\u671f\u65f6\u95f4"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"date\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u663e\u793a\u683c\u5f0f\u5316\u540e\u65f6\u95f4"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'date "+%Y-%m-%d %H:%M:%S"\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u4fee\u6539\u65f6\u95f4"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"date -s 14:15:00\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u672c\u6708\u6708\u5386"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"cal\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u7981\u6b62\u6587\u4ef6\u4fee\u6539\u5220\u9664",children:"\u7981\u6b62\u6587\u4ef6\u4fee\u6539\u5220\u9664"}),"\n",(0,i.jsx)(n.p,{children:"\u7981\u6b62\u4fee\u6539\u5220\u9664"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"chattr +i filename \n"})}),"\n",(0,i.jsx)(n.p,{children:"\u53d6\u6d88\u7981\u6b62"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"chattr -i filename \n"})}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770b\u8bbe\u7f6e\u7279\u6b8a\u5c5e\u6027"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"lsattr\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u7acb\u5373\u751f\u6548\u6587\u4ef6",children:"\u7acb\u5373\u751f\u6548\u6587\u4ef6"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"source /etc/profile\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u4fee\u6539\u5f00\u673a\u9ed8\u8ba4\u542f\u52a8\u65b9\u5f0f",children:"\u4fee\u6539\u5f00\u673a\u9ed8\u8ba4\u542f\u52a8\u65b9\u5f0f"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"centos6"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"vi  /etc/inittab"}),"\n",(0,i.jsx)(n.p,{children:"id:3  (\u5355\u7528\u6237\u6a21\u5f0f\uff09"}),"\n",(0,i.jsx)(n.p,{children:"id:5  (GUI)"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"centos7"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770b\u5f53\u524d\u7684\u5f00\u673a\u9ed8\u8ba4\u8fd0\u884c\u65b9\u5f0f"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"systemctl get-default\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"multi-user.target\uff1a\u76f8\u5f53\u4e8e\u4e4b\u524d\u7684\u66f4\u6539\u8fd0\u884c\u7ea7\u522b\u4e3a3\uff0c\u610f\u601d\u5c31\u662f\u547d\u4ee4\u884c"}),"\n",(0,i.jsx)(n.li,{children:"graphical.target\uff1a\u76f8\u5f53\u4e8e\u4e4b\u524d\u7684\u66f4\u6539\u8fd0\u884c\u7ea7\u522b\u4e3a5\uff0c\u610f\u601d\u5c31\u662f\u56fe\u5f62\u754c\u9762\uff08graphical\u4e2d\u6587\u610f\u601d\u662f\u56fe\u5f62\uff09"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u8bbe\u7f6e\u542f\u52a8\u65b9\u5f0f"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"systemctl set-default multi-user.target\n"})}),"\n",(0,i.jsx)(n.h2,{id:"scp\u5b89\u88c5",children:"scp\u5b89\u88c5"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"yum install openssh-clients\n"})}),"\n",(0,i.jsx)(n.h2,{id:"top\u67e5\u770b\u5b9e\u65f6\u8fdb\u7a0b\u4fe1\u606f",children:"top\u67e5\u770b\u5b9e\u65f6\u8fdb\u7a0b\u4fe1\u606f"}),"\n",(0,i.jsx)(n.p,{children:"\u6bcf\u4e24\u79d2\u5217\u65b0\u4e00\u6b21"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"top -d 2\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u67e5\u770b\u67d0\u4e2aPID"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"top -d -2 -p3690\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5c06top\u7684\u4fe1\u606f\u8fdb\u884c2\u6b21\uff0c\u7136\u540e\u5c06\u7ed3\u679c\u8f93\u51fa\u5230/tmp/top.txt"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:" top -b -n 2 >/tmp/top.txt\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u67e5\u770blinux\u7cfb\u7edf\u4fe1\u606f",children:"\u67e5\u770blinux\u7cfb\u7edf\u4fe1\u606f"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"uname\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u53c2\u6570:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"-a \u663e\u793a\u6240\u6709\u4fe1\u606f"}),"\n",(0,i.jsx)(n.li,{children:"-r \u663e\u793a\u7248\u672c\u53f7"}),"\n",(0,i.jsx)(n.li,{children:"-n \u663e\u793a\u4e3b\u673a\u540d"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"\u663e\u793a\u7528\u6237\u8fc7\u53bb\u547d\u7528\u7684\u547d\u4ee4",children:"\u663e\u793a\u7528\u6237\u8fc7\u53bb\u547d\u7528\u7684\u547d\u4ee4"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"history\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u67e5\u770b\u6587\u4ef6\u5185\u5bb9",children:"\u67e5\u770b\u6587\u4ef6\u5185\u5bb9"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"head -n file\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"tail -n file\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"n"}),"\u9700\u8981\u67e5\u770b\u7684\u884c\u6570 ",(0,i.jsx)(n.code,{children:"file"}),"\u67e5\u770b\u7684\u6587\u4ef6"]}),"\n",(0,i.jsx)(n.h2,{id:"ftp",children:"ftp"}),"\n",(0,i.jsx)(n.p,{children:"get \u6587\u4ef6\u540d \u4e0b\u8f7d"}),"\n",(0,i.jsx)(n.p,{children:"put \u6587\u4ef6\u540d \u4e0a\u4f20"})]})}function o(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}}}]);